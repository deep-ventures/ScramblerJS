/**
 * ! ngs-header - v1.3.16
 * 2015-07-01
 * Copyright (c) 2015 | ;
**/
this.hbs=this.hbs||{},Handlebars.registerPartial("confirm_cancel_modal",this.hbs.confirm_cancel_modal=Handlebars.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<span id="confirm" class="close_confirm">\n    <span class="close_confirm_text">\n        Are you sure you want to cancel your registration? Your account has not yet been created.\n    </span>\n    <p class="btn_confirm_series" >\n        <a class="btn btn_long continue" href="#nojump.continue">Continue Registration</a>\n        <a class="btn btn_secondary cancel" id="close" href="#nojump.close">Cancel Registration</a>\n    </p>\n</span>\n'})),Handlebars.registerPartial("mobile_modal_error",this.hbs.mobile_modal_error=Handlebars.template(function(a,b,c,d,e){function f(a){var b,c="";return c+='\n    <div class="errorTop">\n        '+k((b=a.error,b=null==b||b===!1?b:b.errorTop,typeof b===j?b.apply(a):b))+"\n    </div>\n"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var g,h,i="",j="function",k=this.escapeExpression,l=this;return h=c["if"].call(b,(g=b.error,null==g||g===!1?g:g.errorTop),{hash:{},inverse:l.noop,fn:l.program(1,f,e),data:e}),(h||0===h)&&(i+=h),i+="\n"})),Handlebars.registerPartial("mobile_modal_header",this.hbs.mobile_modal_header=Handlebars.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<a id="cancel"  href="#close" class="btn_close">\n    <span><i class="icongs icongs-close white"></i></span>\n</a>\n'})),this.hbs.mobile_app_switcher=Handlebars.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<a href="#" class="header-menu-button app-switcher-icon">\n    <i class="icongs icongs-menu"></i>\n    <span>Menu</span>\n</a>\n\n<div class="navbar-toggle-narrow" id="app_switcher_sidr">\n    <ul>\n        <li>\n            <a href="#">\n                <h4>Let\'s Explore</h4>\n            </a>\n        </li>\n\n        <li>\n            <a href="http://yourshot.nationalgeographic.com">Your Shot</a>\n        </li>\n\n        <li>\n            <a href="http://ngm.nationalgeographic.com">National Geographic Magazine</a>\n        </li>\n\n        <li>\n            <a href="http://channel.nationalgeographic.com/">National Geographic Channel</a>\n        </li>\n\n        <li>\n            <a href="http://travel.nationalgeographic.com/travel/traveler-magazine/">National Geographic Traveler</a>\n        </li>\n\n        <li>\n            <a href="http://www.nationalgeographic.com/explorers/">National Geographic Explorers</a>\n        </li>\n    </ul>\n</div>\n'}),this.hbs.deactivate_account=Handlebars.template(function(a,b,c,d,e){function f(a){var b,c="";return c+='<div class="errorTop">'+k((b=a.error,b=null==b||b===!1?b:b.errorTop,typeof b===j?b.apply(a):b))+"</div>"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var g,h,i="",j="function",k=this.escapeExpression,l=this;return i+='\n\n<div id="modalTop" class="border">\n    <span class="med_text border_text">Deactivate child profile</span>\n</div>\n\n',h=c["if"].call(b,(g=b.error,null==g||g===!1?g:g.errorTop),{hash:{},inverse:l.noop,fn:l.program(1,f,e),data:e}),(h||0===h)&&(i+=h),i+='\n\n<section id="deletion">\n\n    <header>\n        <h1 class="modal_title">Are you sure?</h1>\n        <hr class="dots" />\n    </header>\n\n    <section id="deletion_form">\n        <p>Your child will no longer be able to use kids site.</p>\n\n    </section>\n\n    <span class="reg_loading">\n        <img class="reg_loading_spinner" src="',(h=c.STATIC_URL)?h=h.call(b,{hash:{},data:e}):(h=b.STATIC_URL,h=typeof h===j?h.apply(b):h),i+=k(h)+'views/images/ajax-loader.gif" alt="Loading" />\n        <span class="reg_loading_text">Processing...</span>\n    </span>\n\n    <footer>\n        <p class="btn_series med_btn">\n            <a id="deactivate" class="btn btn_submit">Deactivate</a>\n            <a id="cancel" class="btn btn_secondary" href="#close">Cancel</a>\n        </p>\n    </footer>\n</section>\n\n<script>\n    (function() {\n        window._M.require({\n            deactivate_account_js: \'',(h=c.HEADER_STATIC_MEDIA)?h=h.call(b,{hash:{},data:e}):(h=b.HEADER_STATIC_MEDIA,h=typeof h===j?h.apply(b):h),i+=k(h)+"views/deactivate_account/deactivate_account.js?v=",(h=c.HEADER_VERSION)?h=h.call(b,{hash:{},data:e}):(h=b.HEADER_VERSION,h=typeof h===j?h.apply(b):h),i+=k(h)+"',\n            deactivate_account_css: '",(h=c.HEADER_STATIC_MEDIA)?h=h.call(b,{hash:{},data:e}):(h=b.HEADER_STATIC_MEDIA,h=typeof h===j?h.apply(b):h),i+=k(h)+"views/deactivate_account/deactivate_account.css?v=",(h=c.HEADER_VERSION)?h=h.call(b,{hash:{},data:e}):(h=b.HEADER_VERSION,h=typeof h===j?h.apply(b):h),i+=k(h)+"'\n        });\n    })();\n</script>\n"}),this.hbs.deactivate_account_done=Handlebars.template(function(a,b,c,d,e){function f(a){var b,c="";return c+='<div class="errorTop">'+k((b=a.error,b=null==b||b===!1?b:b.errorTop,typeof b===j?b.apply(a):b))+"</div>"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var g,h,i="",j="function",k=this.escapeExpression,l=this;return i+='\n\n<div id="modalTop" class="border">\n    <span class="med_text border_text">Deactivate child profile</span>\n</div>\n\n',h=c["if"].call(b,(g=b.error,null==g||g===!1?g:g.errorTop),{hash:{},inverse:l.noop,fn:l.program(1,f,e),data:e}),(h||0===h)&&(i+=h),i+='\n\n<section id="deletion">\n\n    <header>\n        <h1 class="modal_title">Thanks!</h1>\n        <hr class="dots" />\n    </header>\n\n    <section id="deletion_form">\n        <p>Your child was successfully deactivated from kids site!</p>\n    </section>\n\n    <footer>\n        <p class="btn_series med_btn">\n            <a id="deactivate_close" class="btn btn_submit">Close</a>\n        </p>\n    </footer>\n\n</section>\n\n<script>\n    (function() {\n        window._M.require({\n            deactivate_account_done_js: \'',(h=c.HEADER_STATIC_MEDIA)?h=h.call(b,{hash:{},data:e}):(h=b.HEADER_STATIC_MEDIA,h=typeof h===j?h.apply(b):h),i+=k(h)+"views/deactivate_account/deactivate_account_done.js?v=",(h=c.HEADER_VERSION)?h=h.call(b,{hash:{},data:e}):(h=b.HEADER_VERSION,h=typeof h===j?h.apply(b):h),i+=k(h)+"',\n            deactivate_account_css: '",(h=c.HEADER_STATIC_MEDIA)?h=h.call(b,{hash:{},data:e}):(h=b.HEADER_STATIC_MEDIA,h=typeof h===j?h.apply(b):h),i+=k(h)+"views/deactivate_account/deactivate_account.css?v=",(h=c.HEADER_VERSION)?h=h.call(b,{hash:{},data:e}):(h=b.HEADER_VERSION,h=typeof h===j?h.apply(b):h),i+=k(h)+"'\n        });\n    })();\n</script>\n"}),this.hbs.deactivate_account_fail=Handlebars.template(function(a,b,c,d,e){function f(a){var b,c="";return c+='<div class="errorTop">'+k((b=a.error,b=null==b||b===!1?b:b.errorTop,typeof b===j?b.apply(a):b))+"</div>"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var g,h,i="",j="function",k=this.escapeExpression,l=this;return i+='\n\n<div id="modalTop" class="border">\n    <span class="med_text border_text">Deactivate child profile</span>\n</div>\n\n',h=c["if"].call(b,(g=b.error,null==g||g===!1?g:g.errorTop),{hash:{},inverse:l.noop,fn:l.program(1,f,e),data:e}),(h||0===h)&&(i+=h),i+='\n\n<section id="deletion">\n\n    <header>\n        <h1 class="modal_title">Sorry</h1>\n        <hr class="dots" />\n    </header>\n\n    <section id="deletion_form">\n        <p>Your child could not be deactivated. Please, contact Natgeo staff to finish the operation.</p>\n\n    </section>\n\n</section>\n\n<script>\n    (function() {\n        window._M.require({\n            deactivate_account_css: \'',(h=c.HEADER_STATIC_MEDIA)?h=h.call(b,{hash:{},data:e}):(h=b.HEADER_STATIC_MEDIA,h=typeof h===j?h.apply(b):h),i+=k(h)+"views/deactivate_account/deactivate_account.css?v=",(h=c.HEADER_VERSION)?h=h.call(b,{hash:{},data:e}):(h=b.HEADER_VERSION,h=typeof h===j?h.apply(b):h),i+=k(h)+"'\n        });\n    })();\n</script>\n"}),this.hbs.forgot_password=Handlebars.template(function(a,b,c,d,e){function f(a){var b,c="";return c+='<div class="errorTop">'+o((b=a.error,b=null==b||b===!1?b:b.errorTop,typeof b===n?b.apply(a):b))+"</div>"}function g(a,b){var d,e="";return e+='\n    <p class="med_text">An email with instructions on how to reset your password has been sent to ',(d=c.email)?d=d.call(a,{hash:{},data:b}):(d=a.email,d=typeof d===n?d.apply(a):d),e+=o(d)+".</p>\n\n    "}function h(a,b){var d,e,f="";return f+='\n    <section class="left">\n        <p class="helptext med_text">Please provide your email address and we will send you a link so that you can reset your password.</p>\n    </section>\n    <section class="right">\n        <form autocomplete="on" class="forgot-password-form" method="post">\n            <input class="',e=c["if"].call(a,(d=a.error,null==d||d===!1?d:d.email),{hash:{},inverse:p.noop,fn:p.program(6,i,b),data:b}),(e||0===e)&&(f+=e),f+='" type="email" name="email" required placeholder="Email address">\n            ',e=c["if"].call(a,(d=a.error,null==d||d===!1?d:d.email),{hash:{},inverse:p.noop,fn:p.program(8,j,b),data:b}),(e||0===e)&&(f+=e),f+='\n            <input type="submit" value="Retrieve Password" class="btn submit">\n        </form>\n    </section>\n\n    <span class="reg_loading">\n        <img class="reg_loading_spinner" src="',(e=c.STATIC_URL)?e=e.call(a,{hash:{},data:b}):(e=a.STATIC_URL,e=typeof e===n?e.apply(a):e),f+=o(e)+'views/images/ajax-loader.gif" alt="Sending email" />\n        <span class="reg_loading_text">Sending email....</span>\n    </span>\n\n    <footer>\n        <p class="med_text">Not a member? <a id="reglink" href="#members.join">Join now.</a></p>\n    </footer>\n    '}function i(){return"inputError"}function j(a){var b,c="";return c+='<span class="error">'+o((b=a.error,b=null==b||b===!1?b:b.email,typeof b===n?b.apply(a):b))+"</span>"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var k,l,m="",n="function",o=this.escapeExpression,p=this;return m+='<div id="modalTop" class="border"><span class="med_text border_text">Forgot Password</span></div>\n',l=c["if"].call(b,(k=b.error,null==k||k===!1?k:k.errorTop),{hash:{},inverse:p.noop,fn:p.program(1,f,e),data:e}),(l||0===l)&&(m+=l),m+='\n<section id="forgot_password" class="forgot_password">\n    <header>\n        <h1 class="modal_title">Forgot password</h1>\n        <hr class="dots" />\n    </header>\n\n    ',l=c["if"].call(b,b.success,{hash:{},inverse:p.program(5,h,e),fn:p.program(3,g,e),data:e}),(l||0===l)&&(m+=l),m+="\n</section>\n\n<script>\n(function() {\n    window._M.require({\n        forgotPassword_css: '",(l=c.HEADER_STATIC_MEDIA)?l=l.call(b,{hash:{},data:e}):(l=b.HEADER_STATIC_MEDIA,l=typeof l===n?l.apply(b):l),m+=o(l)+"css/forgot_password.css?v=",(l=c.HEADER_VERSION)?l=l.call(b,{hash:{},data:e}):(l=b.HEADER_VERSION,l=typeof l===n?l.apply(b):l),m+=o(l)+"',\n        forgotPassword_js: '",(l=c.HEADER_STATIC_MEDIA)?l=l.call(b,{hash:{},data:e}):(l=b.HEADER_STATIC_MEDIA,l=typeof l===n?l.apply(b):l),m+=o(l)+"build/views/forgot_password/forgot_password.js?v=",(l=c.HEADER_VERSION)?l=l.call(b,{hash:{},data:e}):(l=b.HEADER_VERSION,l=typeof l===n?l.apply(b):l),m+=o(l)+"'\n    });\n})();\n</script>\n"}),this.hbs.join=Handlebars.template(function(a,b,c,d,e){function f(){return'\n        <a id="social-reg-button" class="btn btn_fb">Connect with Facebook</a>\n        <span class="break">or</span>\n        '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var g,h,i="",j=this,k="function",l=c.blockHelperMissing,m=this.escapeExpression;return i+='<div id="registration" class="reg_methods">\n    <section class="promo reverse">\n        <header>\n            <h1 class="modal_title">Join The National Geographic Community</h1>\n            <h2 class="modal_subtitle">Experience the new age of exploration.</h2>\n            <hr class="dots_reverse" />\n        </header>\n\n        <ul class="blurbs">\n            <li class="explore">Explore the world and everything in it.</li>\n            <li class="connect">Connect with people from around the globe.</li>\n            <li class="experience">Experience exclusive content from <br>National Geographic.</li>\n            <li class="share">Share your thoughts and opinions about global issues.</li>\n        </ul>\n    </section>\n\n    <section class="action">\n        <header>\n            <h1 class="modal_title">Create A Free Account</h1>\n            <hr class="dots" />\n        </header>\n\n        ',h={hash:{},inverse:j.noop,fn:j.program(1,f,e),data:e},(g=c.unless_embedded_browser)?g=g.call(b,h):(g=b.unless_embedded_browser,g=typeof g===k?g.apply(b):g),c.unless_embedded_browser||(g=l.call(b,g,h)),(g||0===g)&&(i+=g),i+='\n\n        <a id="native-reg-button" class="btn btn_long">Join now with email address</a>\n        <div id="fb-root"></div>\n\n        <div class="fb-facepile" data-href="https://www.facebook.com/natgeo/" data-max-rows="1" data-width="300" data-show-faces="true" data-stream="false" data-header="false"></div>\n        <div class="footer small_text">\n            <p>Already a member? <a id="native-signin-button" href="">Sign in.</a></p>\n            <p><a id="why-join" href="http://help.nationalgeographic.com/customer/portal/articles/757556" target="_blank">Why am I joining?</a> | <a href="http://help.nationalgeographic.com/customer/portal/articles/884025" target="_blank">Previous site user?</a></p>\n            <hr class="dots" />\n            <p class="legal underline">By joining, you agree to our <a id="reg_terms" href="http://www.nationalgeographic.com/community/terms/" target="_blank">Terms of Service</a>, <a id="reg_pp" href="http://www.nationalgeographic.com/community/privacy/" target="_blank">Privacy Policy</a>, and <a href="http://www.nationalgeographic.com/community/community-rules/" target="_blank">Community Rules</a></p>\n        </div>\n    </section>\n</div>\n\n<script>\n(function() {\n    window._M.require({\n        join_css: \'',(g=c.HEADER_STATIC_MEDIA)?g=g.call(b,{hash:{},data:e}):(g=b.HEADER_STATIC_MEDIA,g=typeof g===k?g.apply(b):g),i+=m(g)+"css/join.css?v=",(g=c.HEADER_VERSION)?g=g.call(b,{hash:{},data:e}):(g=b.HEADER_VERSION,g=typeof g===k?g.apply(b):g),i+=m(g)+"',\n        join_js: '",(g=c.HEADER_STATIC_MEDIA)?g=g.call(b,{hash:{},data:e}):(g=b.HEADER_STATIC_MEDIA,g=typeof g===k?g.apply(b):g),i+=m(g)+"build/views/join/join.js?v=",(g=c.HEADER_VERSION)?g=g.call(b,{hash:{},data:e}):(g=b.HEADER_VERSION,g=typeof g===k?g.apply(b):g),i+=m(g)+"'\n    });\n\n    // Items that need to load every time the modal is displayed\n     _M.Util.fbFacepile();\n})();\n</script>\n"}),this.hbs.location=Handlebars.template(function(a,b,c,d,e){function f(a){var b,c="";return c+='<div class="errorTop">'+o((b=a.error,b=null==b||b===!1?b:b.errorTop,typeof b===n?b.apply(a):b))+"</div>"}function g(a){var b;return o((b=a.native_reg,b=null==b||b===!1?b:b.middleName,typeof b===n?b.apply(a):b))}function h(){return"inputError"}function i(a){var b,c="";return c+='value="'+o((b=a.formValues,b=null==b||b===!1?b:b.locationName,typeof b===n?b.apply(a):b))+'"'}function j(a){var b,c="";return c+='<span class="error">'+o((b=a.error,b=null==b||b===!1?b:b.locationName,typeof b===n?b.apply(a):b))+"</span>"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),d=this.merge(d,a.partials),e=e||{};var k,l,m="",n="function",o=this.escapeExpression,p=this;return m+='<div id="modalTop" class="border"><span class="med_text border_text">Create a new account</span></div>\n',l=c["if"].call(b,(k=b.error,null==k||k===!1?k:k.errorTop),{hash:{},inverse:p.noop,fn:p.program(1,f,e),data:e}),(l||0===l)&&(m+=l),m+='\n<div id="registration" class="location">\n    <header>\n        <h1 class="modal_title">Complete Your Account</h1>\n        <hr class="dots" />\n    </header>\n\n    <section class="left">\n        <div class="avatar_upload">\n            <span id="reg-avatar" class="avatar"></span>\n\n            <div class="welcome med_text">\n                <p class="title">Welcome, '+o((k=b.native_reg,k=null==k||k===!1?k:k.firstName,typeof k===n?k.apply(b):k))+" ",l=c["if"].call(b,(k=b.native_reg,null==k||k===!1?k:k.middleName),{hash:{},inverse:p.noop,fn:p.program(3,g,e),data:e}),(l||0===l)&&(m+=l),m+=" "+o((k=b.native_reg,k=null==k||k===!1?k:k.lastName,typeof k===n?k.apply(b):k))+'</span></p>\n                <p class="explanation_text">Upload a profile photo.<br />\n                You can always change it later.</p>\n            </div>\n        </div>\n        <div class="file_chooser">\n            <form id="native-reg-final-form" enctype="multipart/form-data" method="post">\n                <input type="file" name="original" id="avatar" accept="image/*">\n                <input type="hidden" name="call_id">\n            </form>\n            <a id="avatar-upload-button" class="choose_file" style="" href="#">Choose file</a>\n            <span class="med_text size_limit">(up to 1MB)</span>\n        </div>\n    </section>\n\n    <section class="right">\n        <p class="med_text">Please type your town name, then select your location from the drop-down list</p>\n        <div class="required whats-this location-autocomplete-wrapper">\n            <input class="',l=c["if"].call(b,(k=b.error,null==k||k===!1?k:k.locationName),{hash:{},inverse:p.noop,fn:p.program(5,h,e),data:e}),(l||0===l)&&(m+=l),m+='" type="text" id="location-name"\n            name="locationName" placeholder="City, State, Country" ',l=c["if"].call(b,(k=b.formValues,null==k||k===!1?k:k.locationName),{hash:{},inverse:p.noop,fn:p.program(7,i,e),data:e}),(l||0===l)&&(m+=l),m+=' autocomplete="off" spellcheck="false" dir="auto" required/>\n            <div class="tooltip_wrap">\n                <span class="med_text">?</span>\n                <div class="tool_tip">\n                    <ul>\n                        <li class="whats-this"><div class="arrow"></div>Why are we asking for your location? Your geographic location will provide valuable context to the stories you may share with us! In addition, we want to provide our community easy ways to connect with other members in their area.</li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n\n        ',l=c["if"].call(b,(k=b.error,null==k||k===!1?k:k.locationName),{hash:{},inverse:p.noop,fn:p.program(9,j,e),data:e}),(l||0===l)&&(m+=l),m+='\n\n    </section>\n\n    <section class="casl_agreement casl_hidden" style="display: none;">\n        <h1 class="modal_title">Canadian Anti-Spam Compliance</h1>\n        <p>Based on Canada’s Anti-Spam law, we are not allowed to send you messages without your express consent. To continue enjoying the benefits of our communications, please select the check box below.</p>\n\n        <div id="user_agrees_to">\n            <!-- casl checkbox place -->\n            <p>CONSENT: I would like to get emails with updates about National Geographic\'s mission, relevant content about our products and services and reminders about events in my area.</p>\n\n            <p class="small">You can withdraw your consent at any time by clicking on the “unsubscribe” link in any email. See our Privacy Policy for more details about changing your marketing preferences for the National Geographic society and its affiliates.</p>\n        </div>\n    </section>\n\n    <p class="med_text required req_fields">Required fields</p>\n\n    <span class="reg_loading">\n        <img class="reg_loading_spinner" src="',(l=c.STATIC_URL)?l=l.call(b,{hash:{},data:e}):(l=b.STATIC_URL,l=typeof l===n?l.apply(b):l),m+=o(l)+'views/images/ajax-loader.gif" alt="Loading" />\n        <span class="reg_loading_text">Your account is being created.</span>\n    </span>\n\n    ',l=p.invokePartial(d.confirm_cancel_modal,"confirm_cancel_modal",b,c,d,e),(l||0===l)&&(m+=l),m+='\n\n    <footer>\n        <hr class="dots" />\n        <p class="btn_series">\n            <a class="btn btn_submit" form="native-reg-final-form" href="#members.location">Continue</a>\n            <a class="btn btn_secondary confirm" href="#nojump.confirm">Cancel</a>\n        </p>\n    </footer>\n</div>\n\n<script>\n    (function() {\n        window._M.require({\n            native_reg_js: \'',(l=c.HEADER_STATIC_MEDIA)?l=l.call(b,{hash:{},data:e}):(l=b.HEADER_STATIC_MEDIA,l=typeof l===n?l.apply(b):l),m+=o(l)+"build/views/location/location.js?v=",(l=c.HEADER_VERSION)?l=l.call(b,{hash:{},data:e}):(l=b.HEADER_VERSION,l=typeof l===n?l.apply(b):l),m+=o(l)+"',\n            native_reg_css: '",(l=c.HEADER_STATIC_MEDIA)?l=l.call(b,{hash:{},data:e}):(l=b.HEADER_STATIC_MEDIA,l=typeof l===n?l.apply(b):l),m+=o(l)+"css/native_reg.css?v=",(l=c.HEADER_VERSION)?l=l.call(b,{hash:{},data:e}):(l=b.HEADER_VERSION,l=typeof l===n?l.apply(b):l),m+=o(l)+"'\n        });\n    })();\n</script>\n"}),this.hbs.logged_in=Handlebars.template(function(a,b,c,d,e){function f(){var a="";return a}function g(){return"hidden"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var h,i,j="",k="function",l=this.escapeExpression,m=this,n=c.blockHelperMissing;return j+='<div class="navbar-toggle-wide">\n    <a href="#" class="mem_menu_img_link">\n        <img id="header_avatar" class="header_avatar"\n            src="',(h=c.MEMCEN_HOST)?h=h.call(b,{hash:{},data:e}):(h=b.MEMCEN_HOST,h=typeof h===k?h.apply(b):h),j+=l(h)+"/exposure/transcode/30/30/?url=",i={hash:{},inverse:m.noop,fn:m.program(1,f,e),data:e},(h=c.displayAvatar)?h=h.call(b,i):(h=b.displayAvatar,h=typeof h===k?h.apply(b):h),c.displayAvatar||(h=n.call(b,h,i)),(h||0===h)&&(j+=h),j+='" />\n    </a>\n\n    <a href="#" id="header_display_name">',(h=c.displayName)?h=h.call(b,{hash:{},data:e}):(h=b.displayName,h=typeof h===k?h.apply(b):h),j+=l(h)+'</a>\n\n    <a href="#" class="badge inbox_menu_item_counter ',h=c.unless.call(b,b.notificationsTotal,{hash:{},inverse:m.noop,fn:m.program(3,g,e),data:e}),(h||0===h)&&(j+=h),j+='">\n        ',(h=c.notificationsTotal)?h=h.call(b,{hash:{},data:e}):(h=b.notificationsTotal,h=typeof h===k?h.apply(b):h),j+=l(h)+'</span>\n    </a>\n\n    <div class="menu_arrow"></div>\n\n    <ul>\n        <li>\n            <a class="inbox_menu_item" href="',(h=c.MEMCEN_HOST)?h=h.call(b,{hash:{},data:e}):(h=b.MEMCEN_HOST,h=typeof h===k?h.apply(b):h),j+=l(h)+'/inbox/">\n                Inbox\n                <span href="#" class="badge badge-inbox inbox_menu_item_counter ',h=c.unless.call(b,b.notificationsTotal,{hash:{},inverse:m.noop,fn:m.program(3,g,e),data:e}),(h||0===h)&&(j+=h),j+='">',(h=c.notificationsTotal)?h=h.call(b,{hash:{},data:e}):(h=b.notificationsTotal,h=typeof h===k?h.apply(b):h),j+=l(h)+'</span>\n            </a>\n        </li>\n\n        <li><a id="mc-public-profile" href="',(h=c.MEMCEN_HOST)?h=h.call(b,{hash:{},data:e}):(h=b.MEMCEN_HOST,h=typeof h===k?h.apply(b):h),j+=l(h)+"/",(h=c.vanityUrl)?h=h.call(b,{hash:{},data:e}):(h=b.vanityUrl,h=typeof h===k?h.apply(b):h),j+=l(h)+'/">Public Profile</a></li>\n\n        <li><a id="mc-settings" href="',(h=c.MEMCEN_HOST)?h=h.call(b,{hash:{},data:e}):(h=b.MEMCEN_HOST,h=typeof h===k?h.apply(b):h),j+=l(h)+"/settings/public-profile/\">Settings</a></li>\n\n        <li><a class=\"mc-help\" href=\"http://help.nationalgeographic.com/\" target=\"_blank\">Help</a></li>\n        <li><a id=\"mc-logout\" href=\"#members.logout\">Log Out</a></li>\n    </ul>\n</div>\n\n<script>\n    (function($) {\n        window._M.ready( function(core){\n            core._A.upon('click', '#mc-public-profile', function() {\n                core._T.track('public_profile');\n            });\n            core._A.upon('click', '#mc-settings', function() {\n                core._T.track('settings');\n            });\n            core._A.upon('click', '.mc-help', function() {\n                core._T.track('help');\n            });\n            core._A.upon('click', '#mc-logout', function() {\n                core._T.track('logout');\n            });\n        });\n    })(_M.$);\n\n</script>\n"}),this.hbs.mobile_logged_in=Handlebars.template(function(a,b,c,d,e){function f(){var a="";return a}function g(){return"hidden"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var h,i,j="",k="function",l=this.escapeExpression,m=this,n=c.blockHelperMissing;return j+='<a class="navbar-icon header-menu-button" href="#">\n    <img\n        class="header_avatar"\n        src="',(h=c.MEMCEN_HOST)?h=h.call(b,{hash:{},data:e}):(h=b.MEMCEN_HOST,h=typeof h===k?h.apply(b):h),j+=l(h)+"/exposure/transcode/46/46/?url=",i={hash:{},inverse:m.noop,fn:m.program(1,f,e),data:e},(h=c.displayAvatar)?h=h.call(b,i):(h=b.displayAvatar,h=typeof h===k?h.apply(b):h),c.displayAvatar||(h=n.call(b,h,i)),(h||0===h)&&(j+=h),j+='"\n    />\n    <span>More</span>\n</a>\n\n<div class="navbar-toggle-narrow" id="right-sidr">\n    <ul>\n        <li class="navbar-narrow-profile">\n            <img\n                class="header_avatar"\n                src="',(h=c.MEMCEN_HOST)?h=h.call(b,{hash:{},data:e}):(h=b.MEMCEN_HOST,h=typeof h===k?h.apply(b):h),j+=l(h)+"/exposure/transcode/56/56/?url=",i={hash:{},inverse:m.noop,fn:m.program(1,f,e),data:e},(h=c.displayAvatar)?h=h.call(b,i):(h=b.displayAvatar,h=typeof h===k?h.apply(b):h),c.displayAvatar||(h=n.call(b,h,i)),(h||0===h)&&(j+=h),j+='"\n                alt="',(h=c.displayName)?h=h.call(b,{hash:{},data:e}):(h=b.displayName,h=typeof h===k?h.apply(b):h),j+=l(h)+'\'s avatar"\n            />\n            <span class="name">',(h=c.displayName)?h=h.call(b,{hash:{},data:e}):(h=b.displayName,h=typeof h===k?h.apply(b):h),j+=l(h)+'</span>\n        </li>\n\n        <li>\n            <a href="',(h=c.MEMCEN_HOST)?h=h.call(b,{hash:{},data:e}):(h=b.MEMCEN_HOST,h=typeof h===k?h.apply(b):h),j+=l(h)+'/inbox/">\n            <span class="badge badge-inbox-mobile inbox_menu_item_counter ',h=c.unless.call(b,b.notificationsTotal,{hash:{},inverse:m.noop,fn:m.program(3,g,e),data:e}),(h||0===h)&&(j+=h),j+='">\n                ',(h=c.notificationsTotal)?h=h.call(b,{hash:{},data:e}):(h=b.notificationsTotal,h=typeof h===k?h.apply(b):h),j+=l(h)+'\n            </span>\n            Messages\n            </a>\n        </li>\n\n        <li><a href="',(h=c.MEMCEN_HOST)?h=h.call(b,{hash:{},data:e}):(h=b.MEMCEN_HOST,h=typeof h===k?h.apply(b):h),j+=l(h)+"/",(h=c.vanityUrl)?h=h.call(b,{hash:{},data:e}):(h=b.vanityUrl,h=typeof h===k?h.apply(b):h),j+=l(h)+'/">Public Profile</a></li>\n        <li>\n            <a href="',(h=c.MEMCEN_HOST)?h=h.call(b,{hash:{},data:e}):(h=b.MEMCEN_HOST,h=typeof h===k?h.apply(b):h),j+=l(h)+'/settings/public-profile/">Settings</a>\n        </li>\n        <li class="indented"><a href="',(h=c.MEMCEN_HOST)?h=h.call(b,{hash:{},data:e}):(h=b.MEMCEN_HOST,h=typeof h===k?h.apply(b):h),j+=l(h)+'/settings/benefits/">Benefits</a></li>\n        <li class="indented"><a href="',(h=c.MEMCEN_HOST)?h=h.call(b,{hash:{},data:e}):(h=b.MEMCEN_HOST,h=typeof h===k?h.apply(b):h),j+=l(h)+'/settings/account/">Account</a></li>\n        <li class="indented"><a href="',(h=c.MEMCEN_HOST)?h=h.call(b,{hash:{},data:e}):(h=b.MEMCEN_HOST,h=typeof h===k?h.apply(b):h),j+=l(h)+'/settings/public-profile/">Profile</a></li>\n        <li class="indented"><a href="',(h=c.MEMCEN_HOST)?h=h.call(b,{hash:{},data:e}):(h=b.MEMCEN_HOST,h=typeof h===k?h.apply(b):h),j+=l(h)+'/settings/interests/">Interests</a></li>\n        <li class="indented"><a href="',(h=c.MEMCEN_HOST)?h=h.call(b,{hash:{},data:e}):(h=b.MEMCEN_HOST,h=typeof h===k?h.apply(b):h),j+=l(h)+'/settings/notifications/">Notifications</a></li>\n        <li><a href="http://help.nationalgeographic.com/">Help</a></li>\n        <li><a href="#members.logout">Log Out</a></li>\n\n        <li class="navbar-footer">\n            &copy; 2013 National Geographic\n        </li>\n    </ul>\n</div>\n'}),this.hbs.logged_out=Handlebars.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<div class="navbar-toggle-wide">\n    <a id="signin" href="#members.signin">Sign In</a>\n    <a id="join" href="#members.join">Join</a>\n</div>\n'}),this.hbs.lucie_reg=Handlebars.template(function(a,b,c,d,e){function f(a){var b,c="";return c+='<div class="errorTop">'+r((b=a.error,b=null==b||b===!1?b:b.errorTop,typeof b===q?b.apply(a):b))+"</div>"}function g(){return"inputError"}function h(a,b){var d,e,f,g="";return g+='\n                            <option value="'+r((d=b,d=null==d||d===!1?d:d.index,typeof d===q?d.apply(a):d))+'"',f={hash:{},inverse:s.noop,fn:s.program(6,i,b),data:b},d=c.is_selected||a.is_selected,e=d?d.call(a,(d=b,null==d||d===!1?d:d.index),(d=a.formValues,null==d||d===!1?d:d.birthMonth),f):t.call(a,"is_selected",(d=b,null==d||d===!1?d:d.index),(d=a.formValues,null==d||d===!1?d:d.birthMonth),f),(e||0===e)&&(g+=e),g+=">"+r(typeof a===q?a.apply(a):a)+"</option>\n                            "}function i(){return'selected="selected"'}function j(a,b){var d,e,f,g="";return g+='\n                            <option value="'+r(typeof a===q?a.apply(a):a)+'"',f={hash:{},inverse:s.noop,fn:s.program(6,i,b),data:b},d=c.is_selected||a.is_selected,e=d?d.call(a,(d=b,null==d||d===!1?d:d.index),(d=a.formValues,null==d||d===!1?d:d.birthMonth),f):t.call(a,"is_selected",(d=b,null==d||d===!1?d:d.index),(d=a.formValues,null==d||d===!1?d:d.birthMonth),f),(e||0===e)&&(g+=e),g+=">"+r(typeof a===q?a.apply(a):a)+"</option>\n                            "}function k(a){var b,c="";return c+='<span class="error">'+r((b=a.error,b=null==b||b===!1?b:b.birthDate,typeof b===q?b.apply(a):b))+"</span>"}function l(a){var b,c="";return c+='value="'+r((b=a.formValues,b=null==b||b===!1?b:b.locationName,typeof b===q?b.apply(a):b))+'"'}function m(a){var b,c="";return c+='<span class="error">'+r((b=a.error,b=null==b||b===!1?b:b.locationName,typeof b===q?b.apply(a):b))+"</span>"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var n,o,p="",q="function",r=this.escapeExpression,s=this,t=c.helperMissing;return p+='<div id="modalTop" class="border"></div>\n\n',o=c["if"].call(b,(n=b.error,null==n||n===!1?n:n.errorTop),{hash:{},inverse:s.noop,fn:s.program(1,f,e),data:e}),(o||0===o)&&(p+=o),p+='\n\n<section class="native_reg">\n    <header>\n        <h1 class="modal_title">Complete your account</h1>\n        <hr class="dots" />\n    </header>\n\n    <section id="lucie_reg_form">\n        <form autocomplete="on" method="POST" id="lucie-reg-start-form" action="#members.lucie_reg">\n            <!--{% csrf_token %}-->\n\n            <section class="left">\n\n                <fieldset name="birthdate" id="datePicker" class="datePicker">\n                    <div class="whats-this">\n                        <label class="med_text">Birthdate</label>\n                        <div class="tooltip_wrap">\n                            <span class="med_text">?</span>\n                            <div class="tool_tip tool_tip_bottom">\n                                <ul>\n                                    <li class="whats-this"><div class="arrow"></div>Providing your birthday helps ensure you get the right National Geographic experience. This information will not be displayed to others.</li>\n                                </ul>\n                            </div>\n                        </div>\n                    </div>\n                    <span class="dateFields required">\n                        <select id="birthMonth" name="birthMonth" class="',o=c["if"].call(b,(n=b.error,null==n||n===!1?n:n.birthDate),{hash:{},inverse:s.noop,fn:s.program(3,g,e),data:e}),(o||0===o)&&(p+=o),p+='" required>\n                            <option value="month">Month</option>\n                            ',o=c.each.call(b,b.months,{hash:{},inverse:s.noop,fn:s.program(5,h,e),data:e}),(o||0===o)&&(p+=o),p+='\n                        </select>\n\n                        <select id="birthDay" name="birthDay" class="',o=c["if"].call(b,(n=b.error,null==n||n===!1?n:n.birthDate),{hash:{},inverse:s.noop,fn:s.program(3,g,e),data:e}),(o||0===o)&&(p+=o),p+='" required>\n                            <option value="day">Day</option>\n                            ',o=c.each.call(b,b.days,{hash:{},inverse:s.noop,fn:s.program(8,j,e),data:e}),(o||0===o)&&(p+=o),p+='\n                        </select>\n\n                        <select id="birthYear" name="birthYear" class="',o=c["if"].call(b,(n=b.error,null==n||n===!1?n:n.birthDate),{hash:{},inverse:s.noop,fn:s.program(3,g,e),data:e}),(o||0===o)&&(p+=o),p+='" required>\n                            <option value="year">Year</option>\n                            ',o=c.each.call(b,b.years,{hash:{},inverse:s.noop,fn:s.program(8,j,e),data:e}),(o||0===o)&&(p+=o),p+="\n                        </select>\n                    </span>\n                </fieldset>\n                ",o=c["if"].call(b,(n=b.error,null==n||n===!1?n:n.birthDate),{hash:{},inverse:s.noop,fn:s.program(10,k,e),data:e}),(o||0===o)&&(p+=o),p+='\n            </section>\n\n            <section class="right">\n                <p class="med_text">Please type your town name, then select your location from the drop-down list</p>\n                <div class="required whats-this location-autocomplete-wrapper">\n                    <input class="',o=c["if"].call(b,(n=b.error,null==n||n===!1?n:n.locationName),{hash:{},inverse:s.noop,fn:s.program(3,g,e),data:e}),(o||0===o)&&(p+=o),p+='" type="text" id="location-name"\n                    name="locationName" placeholder="City, State, Country" ',o=c["if"].call(b,(n=b.formValues,null==n||n===!1?n:n.locationName),{hash:{},inverse:s.noop,fn:s.program(12,l,e),data:e}),(o||0===o)&&(p+=o),p+=' autocomplete="off" spellcheck="false" dir="auto" required/>\n                    <div class="tooltip_wrap">\n                        <span class="med_text">?</span>\n                        <div class="tool_tip">\n                            <ul>\n                                <li class="whats-this"><div class="arrow"></div>Why are we asking for your location? Your geographic location will provide valuable context to the stories you may share with us! In addition, we want to provide our community easy ways to connect with other members in their area.</li>\n                            </ul>\n                        </div>\n                    </div>\n                </div>\n\n                ',o=c["if"].call(b,(n=b.error,null==n||n===!1?n:n.locationName),{hash:{},inverse:s.noop,fn:s.program(14,m,e),data:e}),(o||0===o)&&(p+=o),p+='\n\n\n            </section>\n\n            <section class="casl_agreement casl_hidden" style="display: none;">\n                <h1 class="modal_title">Canadian Anti-Spam Compliance</h1>\n                <p>Based on Canada’s Anti-Spam law, we are not allowed to send you messages without your express consent. To continue enjoying the benefits of our communications, please select the check box below.</p>\n\n                <div id="user_agrees_to">\n                    <!-- casl checkbox place -->\n                    <p>CONSENT: I would like to get emails with updates about National Geographic\'s mission, relevant content about our products and services and reminders about events in my area.</p>\n\n                    <p class="small">You can withdraw your consent at any time by clicking on the “unsubscribe” link in any email. See our Privacy Policy for more details about changing your marketing preferences for the National Geographic society and its affiliates.</p>\n                </div>\n            </section>\n        </form>\n    </section>\n\n    <span class="reg_loading">\n        <img class="reg_loading_spinner" src="',(o=c.STATIC_URL)?o=o.call(b,{hash:{},data:e}):(o=b.STATIC_URL,o=typeof o===q?o.apply(b):o),p+=r(o)+'views/images/ajax-loader.gif" alt="Loading" />\n        <span class="reg_loading_text">Processing...</span>\n    </span>\n\n    <footer>\n        <hr class="dots" />\n        <p class="legal tiny_text underline">By signing up, you agree to our <a href="http://www.nationalgeographic.com/community/terms/" target="_blank">Terms of Service</a>, <a href="http://www.nationalgeographic.com/community/privacy/" target="_blank">Privacy Policy</a>, and <a href="http://www.nationalgeographic.com/community/community-rules/" target="_blank">Community Rules</a></p>\n\n        <p class="btn_series med_btn">\n            <a id="continue" class="btn btn_submit" form="lucie-reg-start-form" href="#members.location">Continue</a>\n            <a id="cancel" class="btn btn_secondary" href="#close">Cancel</a>\n        </p>\n    </footer>\n</section>\n\n<script>\n    (function() {\n        window._M.require({\n            lucie_reg_js: \'',(o=c.HEADER_STATIC_MEDIA)?o=o.call(b,{hash:{},data:e}):(o=b.HEADER_STATIC_MEDIA,o=typeof o===q?o.apply(b):o),p+=r(o)+"views/lucie_reg/lucie_reg.js?v=",(o=c.HEADER_VERSION)?o=o.call(b,{hash:{},data:e}):(o=b.HEADER_VERSION,o=typeof o===q?o.apply(b):o),p+=r(o)+"',\n            lucie_reg_css: '",(o=c.HEADER_STATIC_MEDIA)?o=o.call(b,{hash:{},data:e}):(o=b.HEADER_STATIC_MEDIA,o=typeof o===q?o.apply(b):o),p+=r(o)+"css/lucie_reg.css?v=",(o=c.HEADER_VERSION)?o=o.call(b,{hash:{},data:e}):(o=b.HEADER_VERSION,o=typeof o===q?o.apply(b):o),p+=r(o)+"'\n        });\n    })();\n</script>\n"
}),this.hbs.mobile_join=Handlebars.template(function(a,b,c,d,e){function f(){return'\n            <span class="divider"><b class="white">Or</b></span>\n            <a id="login-facebook-button" class="btn large">\n                Connect with facebook\n                <span class="push_left">\n                    <i class="icongs icongs-facebook white"></i>\n                </span>\n            </a>\n            '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),d=this.merge(d,a.partials),e=e||{};var g,h,i="",j=this,k="function",l=c.blockHelperMissing,m=this.escapeExpression;return i+='<section id="mobile_join" class="mobile_join">\n    <header>\n        <h1>Join The Community</h1>\n        ',g=j.invokePartial(d.mobile_modal_header,"mobile_modal_header",b,c,d,e),(g||0===g)&&(i+=g),i+='\n    </header>\n\n    <div class="login_native left">\n        <div class="btn_series">\n            <h3 class="white">Already a member?</h3>\n            <a id="login-button" class="btn large" href="#members.mobile_signin">Sign In</a>\n            <h3 class="white push_down">Not a member?</h3>\n            <a id="join-buton" class="btn large" href="#members.mobile_register">Join now with email address</a>\n\n            ',h={hash:{},inverse:j.noop,fn:j.program(1,f,e),data:e},(g=c.unless_embedded_browser)?g=g.call(b,h):(g=b.unless_embedded_browser,g=typeof g===k?g.apply(b):g),c.unless_embedded_browser||(g=l.call(b,g,h)),(g||0===g)&&(i+=g),i+='\n        </div>\n    </div>\n\n    <br/>\n    <div class="med_text clear-both push_down">\n        <p class="legal underline">\n            <a href="http://www.nationalgeographic.com/community/terms/" target="_blank">Terms of Service</a>\n            <a href="http://www.nationalgeographic.com/community/privacy/" target="_blank">Privacy Policy</a>\n            <a href="http://www.nationalgeographic.com/community/community-rules/" target="_blank">Community Rules</a>\n        </p>\n    </div>\n</section>\n\n<script>\n(function() {\n    window._M.require({\n        mobileJoin_css: \'',(g=c.HEADER_STATIC_MEDIA)?g=g.call(b,{hash:{},data:e}):(g=b.HEADER_STATIC_MEDIA,g=typeof g===k?g.apply(b):g),i+=m(g)+"css/mobile_join.css?v=",(g=c.HEADER_VERSION)?g=g.call(b,{hash:{},data:e}):(g=b.HEADER_VERSION,g=typeof g===k?g.apply(b):g),i+=m(g)+"',\n        mobileJoin_js: '",(g=c.HEADER_STATIC_MEDIA)?g=g.call(b,{hash:{},data:e}):(g=b.HEADER_STATIC_MEDIA,g=typeof g===k?g.apply(b):g),i+=m(g)+"build/views/mobile_join/mobile_join.js?v=",(g=c.HEADER_VERSION)?g=g.call(b,{hash:{},data:e}):(g=b.HEADER_VERSION,g=typeof g===k?g.apply(b):g),i+=m(g)+"'\n    });\n})();\n</script>\n"}),this.hbs.mobile_logged_out=Handlebars.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<div class="navbar-toggle-wide">\n    <a id="mobile_join" href="#members.mobile_join" class="header-menu-button">\n        <i class="icongs icongs-usermenu white"></i>\n        <span>Join</span>\n    </a>\n</div>\n'}),this.hbs.mobile_reg=Handlebars.template(function(a,b,c,d,e){function f(){return"inputError"}function g(a){var b,c="";return c+=' value="'+x((b=a.formValues,b=null==b||b===!1?b:b.firstName,typeof b===w?b.apply(a):b))+'"'}function h(a){var b,c="";return c+='<span class="error">'+x((b=a.error,b=null==b||b===!1?b:b.firstName,typeof b===w?b.apply(a):b))+"</span>"}function i(a){var b,c="";return c+=' value="'+x((b=a.formValues,b=null==b||b===!1?b:b.lastName,typeof b===w?b.apply(a):b))+'"'}function j(a){var b,c="";return c+='<span class="error">'+x((b=a.error,b=null==b||b===!1?b:b.lastName,typeof b===w?b.apply(a):b))+"</span>"}function k(a){var b,c="";return c+=' value="'+x((b=a.formValues,b=null==b||b===!1?b:b.email,typeof b===w?b.apply(a):b))+'"'}function l(a){var b,c="";return c+='<span class="error">'+x((b=a.error,b=null==b||b===!1?b:b.email,typeof b===w?b.apply(a):b))+"</span>"}function m(a){var b,c="";return c+='<span class="error">'+x((b=a.error,b=null==b||b===!1?b:b.password,typeof b===w?b.apply(a):b))+"</span>"}function n(a,b){var d,e,f,g="";return g+='\n                            <option value="'+x((d=b,d=null==d||d===!1?d:d.index,typeof d===w?d.apply(a):d))+'"',f={hash:{},inverse:y.noop,fn:y.program(18,o,b),data:b},d=c.is_selected||a.is_selected,e=d?d.call(a,(d=b,null==d||d===!1?d:d.index),(d=a.formValues,null==d||d===!1?d:d.birthMonth),f):z.call(a,"is_selected",(d=b,null==d||d===!1?d:d.index),(d=a.formValues,null==d||d===!1?d:d.birthMonth),f),(e||0===e)&&(g+=e),g+=">"+x(typeof a===w?a.apply(a):a)+"</option>\n                            "}function o(){return'selected="selected"'}function p(a,b){var d,e,f,g="";return g+='\n                            <option value="'+x(typeof a===w?a.apply(a):a)+'"',f={hash:{},inverse:y.noop,fn:y.program(18,o,b),data:b},d=c.is_selected||a.is_selected,e=d?d.call(a,(d=b,null==d||d===!1?d:d.index),(d=a.formValues,null==d||d===!1?d:d.birthMonth),f):z.call(a,"is_selected",(d=b,null==d||d===!1?d:d.index),(d=a.formValues,null==d||d===!1?d:d.birthMonth),f),(e||0===e)&&(g+=e),g+=">"+x(typeof a===w?a.apply(a):a)+"</option>\n                            "}function q(a){var b,c="";return c+='\n                <span class="error">'+x((b=a.error,b=null==b||b===!1?b:b.birthDate,typeof b===w?b.apply(a):b))+"</span>\n                "}function r(a){var b,c="";return c+='value="'+x((b=a.formValues,b=null==b||b===!1?b:b.locationName,typeof b===w?b.apply(a):b))+'"'}function s(a){var b,c="";return c+='<span class="error">'+x((b=a.error,b=null==b||b===!1?b:b.locationName,typeof b===w?b.apply(a):b))+"</span>"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),d=this.merge(d,a.partials),e=e||{};var t,u,v="",w="function",x=this.escapeExpression,y=this,z=c.helperMissing;return t=y.invokePartial(d.mobile_modal_error,"mobile_modal_error",b,c,d,e),(t||0===t)&&(v+=t),v+='\n\n<section id="registration" class="mobile_reg">\n    <header class="white">\n        <h1 class="modal_title">Create Your Account</h1>\n        ',t=y.invokePartial(d.mobile_modal_header,"mobile_modal_header",b,c,d,e),(t||0===t)&&(v+=t),v+='\n    </header>\n\n    <section id="reg_form">\n        <form autocomplete="on" method="POST" id="mobile-reg-form" action="#">\n            <!--{% csrf_token %}-->\n            <section class="mobile_section">\n                <span class="required">\n                    <input class="',u=c["if"].call(b,(t=b.error,null==t||t===!1?t:t.firstName),{hash:{},inverse:y.noop,fn:y.program(1,f,e),data:e}),(u||0===u)&&(v+=u),v+='" type="text" name="firstName" id="firstName" placeholder="First Name" maxlength="50"',u=c["if"].call(b,(t=b.formValues,null==t||t===!1?t:t.firstName),{hash:{},inverse:y.noop,fn:y.program(3,g,e),data:e}),(u||0===u)&&(v+=u),v+=" required/>\n                    ",u=c["if"].call(b,(t=b.error,null==t||t===!1?t:t.firstName),{hash:{},inverse:y.noop,fn:y.program(5,h,e),data:e}),(u||0===u)&&(v+=u),v+='\n                </span>\n\n                <span class="required">\n                    <input class="',u=c["if"].call(b,(t=b.error,null==t||t===!1?t:t.lastName),{hash:{},inverse:y.noop,fn:y.program(1,f,e),data:e}),(u||0===u)&&(v+=u),v+='" type="text" name="lastName" id="lastName" placeholder="Last Name" maxlength="50"',u=c["if"].call(b,(t=b.formValues,null==t||t===!1?t:t.lastName),{hash:{},inverse:y.noop,fn:y.program(7,i,e),data:e}),(u||0===u)&&(v+=u),v+=" required/>\n                    ",u=c["if"].call(b,(t=b.error,null==t||t===!1?t:t.lastName),{hash:{},inverse:y.noop,fn:y.program(9,j,e),data:e}),(u||0===u)&&(v+=u),v+='\n                </span>\n\n                <br/>\n                <span class="required">\n                    <input id="regEmail" class="',u=c["if"].call(b,(t=b.error,null==t||t===!1?t:t.email),{hash:{},inverse:y.noop,fn:y.program(1,f,e),data:e}),(u||0===u)&&(v+=u),v+='" type="email" name="email" placeholder="Email Address" maxlength="62" ',u=c["if"].call(b,(t=b.formValues,null==t||t===!1?t:t.email),{hash:{},inverse:y.noop,fn:y.program(11,k,e),data:e}),(u||0===u)&&(v+=u),v+=" required/>\n                    ",u=c["if"].call(b,(t=b.error,null==t||t===!1?t:t.email),{hash:{},inverse:y.noop,fn:y.program(13,l,e),data:e}),(u||0===u)&&(v+=u),v+='\n                </span>\n\n                <div name="password" class="required tooltip_wrap password">\n                    <input id="regPassword" class="',u=c["if"].call(b,(t=b.error,null==t||t===!1?t:t.password),{hash:{},inverse:y.noop,fn:y.program(1,f,e),data:e}),(u||0===u)&&(v+=u),v+='" type="password" name="password" placeholder="Password" maxlength="30" pattern="^\\S{8,}$" title="The password must be at least 8 characters" required>\n                    <div class="tool_tip tool_tip_bottom password_validator">\n                        <ul>\n                            <li class="pass_length invalid">At least 8 characters</li>\n                            <li class="pass_number invalid">Contains a number and a letter</li>\n                            <!-- <li class="pass_case">Must contain an uppercase character</li> -->\n                            <li class="pass_strength">Password does not meet requirements</li>\n                        </ul>\n                    </div>\n                    ',u=c["if"].call(b,(t=b.error,null==t||t===!1?t:t.password),{hash:{},inverse:y.noop,fn:y.program(15,m,e),data:e}),(u||0===u)&&(v+=u),v+='\n                </div>\n\n                <fieldset name="birthdate" id="datePicker">\n                    <div class="whats-this">\n                        <label class="med_text">Birthdate</label>\n                    </div>\n                    <span class="dateFields required">\n                        <select id="birthMonth" name="birthMonth" class="',u=c["if"].call(b,(t=b.error,null==t||t===!1?t:t.birthDate),{hash:{},inverse:y.noop,fn:y.program(1,f,e),data:e}),(u||0===u)&&(v+=u),v+='" required>\n                            <option value="month">Month</option>\n                            ',u=c.each.call(b,b.months,{hash:{},inverse:y.noop,fn:y.program(17,n,e),data:e}),(u||0===u)&&(v+=u),v+='\n                        </select>\n\n                        <select id="birthDay" name="birthDay" class="',u=c["if"].call(b,(t=b.error,null==t||t===!1?t:t.birthDate),{hash:{},inverse:y.noop,fn:y.program(1,f,e),data:e}),(u||0===u)&&(v+=u),v+='" required>\n                            <option value>Day</option>\n                            ',u=c.each.call(b,b.days,{hash:{},inverse:y.noop,fn:y.program(20,p,e),data:e}),(u||0===u)&&(v+=u),v+='\n                        </select>\n\n                        <select id="birthYear" name="birthYear" class="',u=c["if"].call(b,(t=b.error,null==t||t===!1?t:t.birthDate),{hash:{},inverse:y.noop,fn:y.program(1,f,e),data:e}),(u||0===u)&&(v+=u),v+='" required>\n                            <option value>Year</option>\n                            ',u=c.each.call(b,b.years,{hash:{},inverse:y.noop,fn:y.program(20,p,e),data:e}),(u||0===u)&&(v+=u),v+="\n                        </select>\n                    </span>\n                </fieldset>\n                ",u=c["if"].call(b,(t=b.error,null==t||t===!1?t:t.birthDate),{hash:{},inverse:y.noop,fn:y.program(22,q,e),data:e}),(u||0===u)&&(v+=u),v+='\n\n                <div class="required whats-this">\n                    <input class="',u=c["if"].call(b,(t=b.error,null==t||t===!1?t:t.locationName),{hash:{},inverse:y.noop,fn:y.program(1,f,e),data:e}),(u||0===u)&&(v+=u),v+='" type="text" id="location-name"\n                    name="locationName" placeholder="City, State, Country" ',u=c["if"].call(b,(t=b.formValues,null==t||t===!1?t:t.locationName),{hash:{},inverse:y.noop,fn:y.program(24,r,e),data:e}),(u||0===u)&&(v+=u),v+=' autocomplete="off" spellcheck="false" dir="auto" required/>\n                    ',u=c["if"].call(b,(t=b.error,null==t||t===!1?t:t.locationName),{hash:{},inverse:y.noop,fn:y.program(26,s,e),data:e}),(u||0===u)&&(v+=u),v+='\n                </div>\n\n                <div class="casl_agreement casl_hidden" style="display: none;">\n                    <h1 class="modal_title">Canadian Anti-Spam Compliance</h1>\n                    <p>Based on Canada’s Anti-Spam law, we are not allowed to send you messages without your express consent. To continue enjoying the benefits of our communications, please select the check box below.</p>\n\n                    <div id="user_agrees_to">\n                        <!-- casl checkbox place -->\n                        <p>CONSENT: I would like to get emails with updates about National Geographic\'s mission, relevant content about our products and services and reminders about events in my area.</p>\n\n                        <p class="small">You can withdraw your consent at any time by clicking on the “unsubscribe” link in any email. See our Privacy Policy for more details about changing your marketing preferences for the National Geographic society and its affiliates.</p>\n                    </div>\n                </div>\n\n                <input type="hidden" id="bot" name="bot"/>\n\n                <div class="btn_series">\n                    <input type="submit" id="submit" class="btn btn_submit" form="mobile-reg-form" value="Join Now">\n                </div>\n\n                <div class="btn_series">\n                    <a id="signin-button" class="btn btn_natgeo sign-in" href="#members.mobile_signin">Sign In</a>\n                </div>\n            </section>\n        </form>\n    </section>\n\n    <div class="med_text">\n        <p class="legal underline">\n            <a href="http://www.nationalgeographic.com/community/terms/" target="_blank">Terms of Service</a>\n            <a href="http://www.nationalgeographic.com/community/privacy/" target="_blank">Privacy Policy</a>\n            <a href="http://www.nationalgeographic.com/community/community-rules/" target="_blank">Community Rules</a>\n        </p>\n    </div>\n</section>\n\n<span class="reg_loading">\n    <img class="reg_loading_spinner" src="',(u=c.STATIC_URL)?u=u.call(b,{hash:{},data:e}):(u=b.STATIC_URL,u=typeof u===w?u.apply(b):u),v+=x(u)+'views/images/ajax-loader.gif" alt="Loading" />\n    <span class="reg_loading_text">Processing...</span>\n</span>\n\n<script>\n    (function() {\n        window._M.require({\n            nativeReg_css: \'',(u=c.HEADER_STATIC_MEDIA)?u=u.call(b,{hash:{},data:e}):(u=b.HEADER_STATIC_MEDIA,u=typeof u===w?u.apply(b):u),v+=x(u)+"css/native_reg.css?v=",(u=c.HEADER_VERSION)?u=u.call(b,{hash:{},data:e}):(u=b.HEADER_VERSION,u=typeof u===w?u.apply(b):u),v+=x(u)+"',\n            mobileReg_css: '",(u=c.HEADER_STATIC_MEDIA)?u=u.call(b,{hash:{},data:e}):(u=b.HEADER_STATIC_MEDIA,u=typeof u===w?u.apply(b):u),v+=x(u)+"css/mobile_reg.css?v=",(u=c.HEADER_VERSION)?u=u.call(b,{hash:{},data:e}):(u=b.HEADER_VERSION,u=typeof u===w?u.apply(b):u),v+=x(u)+"',\n            mobileReg_js: '",(u=c.HEADER_STATIC_MEDIA)?u=u.call(b,{hash:{},data:e}):(u=b.HEADER_STATIC_MEDIA,u=typeof u===w?u.apply(b):u),v+=x(u)+"build/views/mobile_reg/mobile_reg.js?v=",(u=c.HEADER_VERSION)?u=u.call(b,{hash:{},data:e}):(u=b.HEADER_VERSION,u=typeof u===w?u.apply(b):u),v+=x(u)+"'\n        });\n    })();\n</script>\n"}),this.hbs.mobile_reg_verification=Handlebars.template(function(a,b,c,d,e){function f(a){var b,c="";return c+='\n<div class="errorTop">'+k((b=a.error,b=null==b||b===!1?b:b.errorTop,typeof b===j?b.apply(a):b))+"</div>\n"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),d=this.merge(d,a.partials),e=e||{};var g,h,i="",j="function",k=this.escapeExpression,l=this;return h=c["if"].call(b,(g=b.error,null==g||g===!1?g:g.errorTop),{hash:{},inverse:l.noop,fn:l.program(1,f,e),data:e}),(h||0===h)&&(i+=h),i+='\n\n<section id="registration" class="mobile_register_verification">\n    <header>\n        <h1 class="modal_title">Verification Sent</h1>\n        ',h=l.invokePartial(d.mobile_modal_header,"mobile_modal_header",b,c,d,e),(h||0===h)&&(i+=h),i+='\n    </header>\n\n    <p class="helptext med_text">\n    Thanks for joining!\n    </p>\n\n    <br/>\n\n    <p class="helptext med_text">\n    To finish activating your account, please click the link in the confirmation email we sent to\n    <span class="natgeo_color">',(h=c.email)?h=h.call(b,{hash:{},data:e}):(h=b.email,h=typeof h===j?h.apply(b):h),i+=k(h)+'</span>.\n    </p>\n\n    <div class="btn_series">\n        <a href="#close" class="btn btn_submit btn_close" id="btn_close">Close</a>\n    </div>\n</section>\n\n<script>\n(function() {\n    window._M.require({\n        mobile_reg_verification_js: \'',(h=c.HEADER_STATIC_MEDIA)?h=h.call(b,{hash:{},data:e}):(h=b.HEADER_STATIC_MEDIA,h=typeof h===j?h.apply(b):h),i+=k(h)+"build/views/mobile_reg/mobile_reg_verification.js?v=",(h=c.HEADER_VERSION)?h=h.call(b,{hash:{},data:e}):(h=b.HEADER_VERSION,h=typeof h===j?h.apply(b):h),i+=k(h)+"',\n        mobile_reg: '",(h=c.HEADER_STATIC_MEDIA)?h=h.call(b,{hash:{},data:e}):(h=b.HEADER_STATIC_MEDIA,h=typeof h===j?h.apply(b):h),i+=k(h)+"css/mobile_reg.css?v=",(h=c.HEADER_VERSION)?h=h.call(b,{hash:{},data:e}):(h=b.HEADER_VERSION,h=typeof h===j?h.apply(b):h),i+=k(h)+"'\n    });\n})();\n</script>\n"}),this.hbs.mobile_signin=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f,h="";return h+='\n    <div class="errorTop">\n        '+r((d=a.error,d=null==d||d===!1?d:d.errorTop,typeof d===q?d.apply(a):d))+"\n        ",f={hash:{},inverse:s.noop,fn:s.program(2,g,b),data:b},d=c.checkError||a.checkError,e=d?d.call(a,(d=a.error,null==d||d===!1?d:d.code),"USER_EMAIL_NOT_VERIFIED",f):t.call(a,"checkError",(d=a.error,null==d||d===!1?d:d.code),"USER_EMAIL_NOT_VERIFIED",f),(e||0===e)&&(h+=e),h+="\n    </div>\n"}function g(a,b){var d,e="";return e+='\n            <div id="resend-activation-link">\n                <div>\n                    <span class="med_text">\n                        <p>You can also provide a new email address or request the link again.\n                        <input type="text" id="resend-activation-email" name="resend_verification" value="',(d=c.username)?d=d.call(a,{hash:{},data:b}):(d=a.username,d=typeof d===q?d.apply(a):d),e+=r(d)+'">\n                        <a id="resend-activation-link-button" class="btn">Resend</a></p>\n                    </span>\n                </div>\n            </div>\n        '}function h(){return"inputError"}function i(a,b){var d;return(d=c.username)?d=d.call(a,{hash:{},data:b}):(d=a.username,d=typeof d===q?d.apply(a):d),r(d)}function j(a){var b,c="";return c+='<span class="error">'+r((b=a.error,b=null==b||b===!1?b:b.email,typeof b===q?b.apply(a):b))+"</span>"}function k(a){var b,c="";return c+='<span class="error">'+r((b=a.error,b=null==b||b===!1?b:b.password,typeof b===q?b.apply(a):b))+"</span>"}function l(){return'\n                <span class="divider">\n                    <b class="white">Or</b>\n                </span>\n\n                <a id="login-facebook-button" class="login-facebook-button btn large">\n                    Sign In with Facebook\n                    <span class="facebook_icon_wrapper">\n                        <i class="icongs icongs-facebook white"></i>\n                    </span>\n                </a>\n                '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),d=this.merge(d,a.partials),e=e||{};var m,n,o,p="",q="function",r=this.escapeExpression,s=this,t=c.helperMissing,u=c.blockHelperMissing;return n=c["if"].call(b,(m=b.error,null==m||m===!1?m:m.errorTop),{hash:{},inverse:s.noop,fn:s.program(1,f,e),data:e}),(n||0===n)&&(p+=n),p+='\n\n<section id="signin">\n    <header>\n        <h1 class="modal_title">Sign In</h1>\n        ',n=s.invokePartial(d.mobile_modal_header,"mobile_modal_header",b,c,d,e),(n||0===n)&&(p+=n),p+='\n    </header>\n\n    <div class="left">\n        <form class="login" action="#" autocomplete="on" id="login-form" method="post">\n            <input type="email" name="username" placeholder="Email Address" class="',n=c["if"].call(b,(m=b.error,null==m||m===!1?m:m.email),{hash:{},inverse:s.noop,fn:s.program(4,h,e),data:e}),(n||0===n)&&(p+=n),p+='" required value="',n=c["if"].call(b,b.username,{hash:{},inverse:s.noop,fn:s.program(6,i,e),data:e}),(n||0===n)&&(p+=n),p+='" maxlength="62">\n            ',n=c["if"].call(b,(m=b.error,null==m||m===!1?m:m.email),{hash:{},inverse:s.noop,fn:s.program(8,j,e),data:e}),(n||0===n)&&(p+=n),p+='\n            <input type="password" name="password" placeholder="Password" class="',n=c["if"].call(b,(m=b.error,null==m||m===!1?m:m.password),{hash:{},inverse:s.noop,fn:s.program(4,h,e),data:e}),(n||0===n)&&(p+=n),p+='" required maxlength="30">\n            ',n=c["if"].call(b,(m=b.error,null==m||m===!1?m:m.password),{hash:{},inverse:s.noop,fn:s.program(10,k,e),data:e}),(n||0===n)&&(p+=n),p+='\n            <input type="text" name="username_confirm" class="sec_h" required>\n\n            <div class="btn_series">\n                <input type="submit" value="Sign in" class="btn submit btn_submit">\n\n                ',o={hash:{},inverse:s.noop,fn:s.program(12,l,e),data:e},(n=c.unless_embedded_browser)?n=n.call(b,o):(n=b.unless_embedded_browser,n=typeof n===q?n.apply(b):n),c.unless_embedded_browser||(n=u.call(b,n,o)),(n||0===n)&&(p+=n),p+='\n            </div>\n        </form>\n    </div>\n\n    <div class="right">\n        <a id="forgot_password_link" class="med_text forgot" href="#members.forgot_password">Forgot your password?</a>\n        <a id="register_link" class="med_text register btn btn_natgeo" href="#members.mobile_register">Join</a>\n    </div>\n</section>\n\n<script>\n(function() {\n    window._M.require({\n        signinCCS: \'',(n=c.HEADER_STATIC_MEDIA)?n=n.call(b,{hash:{},data:e}):(n=b.HEADER_STATIC_MEDIA,n=typeof n===q?n.apply(b):n),p+=r(n)+"css/signin.css?v=",(n=c.HEADER_VERSION)?n=n.call(b,{hash:{},data:e}):(n=b.HEADER_VERSION,n=typeof n===q?n.apply(b):n),p+=r(n)+"',\n        signinCCS_mobile: '",(n=c.HEADER_STATIC_MEDIA)?n=n.call(b,{hash:{},data:e}):(n=b.HEADER_STATIC_MEDIA,n=typeof n===q?n.apply(b):n),p+=r(n)+"css/mobile_signin.css?v=",(n=c.HEADER_VERSION)?n=n.call(b,{hash:{},data:e}):(n=b.HEADER_VERSION,n=typeof n===q?n.apply(b):n),p+=r(n)+"',\n        signinJS: '",(n=c.HEADER_STATIC_MEDIA)?n=n.call(b,{hash:{},data:e}):(n=b.HEADER_STATIC_MEDIA,n=typeof n===q?n.apply(b):n),p+=r(n)+"build/views/mobile_signin/mobile_signin.js?v=",(n=c.HEADER_VERSION)?n=n.call(b,{hash:{},data:e}):(n=b.HEADER_VERSION,n=typeof n===q?n.apply(b):n),p+=r(n)+"'\n    });\n})();\n</script>\n"}),this.hbs.mobile_social_reg=Handlebars.template(function(a,b,c,d,e){function f(a){var b;return p((b=a.userData,b=null==b||b===!1?b:b.middleName,typeof b===o?b.apply(a):b))}function g(){return"inputError"}function h(a,b){var d,e,f="";return f+='value="'+p((d=a.userData,d=null==d||d===!1?d:d.city,typeof d===o?d.apply(a):d))+", ",e=c["if"].call(a,(d=a.userData,null==d||d===!1?d:d.country),{hash:{},inverse:q.noop,fn:q.program(6,i,b),data:b}),(e||0===e)&&(f+=e),f+='"'}function i(a){var b;return p((b=a.userData,b=null==b||b===!1?b:b.country,typeof b===o?b.apply(a):b))}function j(a){var b,c="";return c+='<span class="error typeaheadError">'+p((b=a.error,b=null==b||b===!1?b:b.locationName,typeof b===o?b.apply(a):b))+"</span>"}function k(a){var b,c="";return c+='\n                <span class="error">'+p((b=a.error,b=null==b||b===!1?b:b.password,typeof b===o?b.apply(a):b))+"</span>\n            "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),d=this.merge(d,a.partials),e=e||{};var l,m,n="",o="function",p=this.escapeExpression,q=this;return l=q.invokePartial(d.mobile_modal_error,"mobile_modal_error",b,c,d,e),(l||0===l)&&(n+=l),n+='\n\n<div id="registration" class="location social_reg">\n    <header>\n        <h1>Join The Community</h1>\n        ',l=q.invokePartial(d.mobile_modal_header,"mobile_modal_header",b,c,d,e),(l||0===l)&&(n+=l),n+='\n    </header>\n\n    <section class="left">\n        <h3 class="white">\n            Welcome, '+p((l=b.userData,l=null==l||l===!1?l:l.firstName,typeof l===o?l.apply(b):l))+" ",m=c["if"].call(b,(l=b.userData,null==l||l===!1?l:l.middleName),{hash:{},inverse:q.noop,fn:q.program(1,f,e),data:e}),(m||0===m)&&(n+=m),n+=" "+p((l=b.userData,l=null==l||l===!1?l:l.lastName,typeof l===o?l.apply(b):l))+'\n        </h3>\n        <div class="avatar_upload">\n            <span id="reg-avatar" class="avatar"></span>\n\n            <div class="welcome med_text">\n                <p class="explanation_text white">This is your profile photo. You can always change it later.\n                </p>\n            </div>\n        </div>\n    </section>\n\n    <section class="right">\n        <p class="med_text white">Please provide some additional information to finish registering.</p>\n        <div class="required whats-this">\n            <input class="',m=c["if"].call(b,(l=b.error,null==l||l===!1?l:l.locationName),{hash:{},inverse:q.noop,fn:q.program(3,g,e),data:e}),(m||0===m)&&(n+=m),n+='" type="text" id="location-name"\n            name="locationName" placeholder="City, State, Country" ',m=c["if"].call(b,(l=b.userData,null==l||l===!1?l:l.city),{hash:{},inverse:q.noop,fn:q.program(5,h,e),data:e}),(m||0===m)&&(n+=m),n+=' autocomplete="off" spellcheck="false" dir="auto" required/>\n            <div class="tooltip_wrap">\n                <span class="med_text">?</span>\n                <div class="tool_tip">\n                    <ul>\n                        <li class="whats-this"><div class="arrow"></div>Why are we asking for your location? Your geographic location will provide valuable context to the stories you may share with us! In addition, we want to provide our community easy ways to connect with other members in their area.</li>\n                    </ul>\n                </div>\n            </div>\n            ',m=c["if"].call(b,(l=b.error,null==l||l===!1?l:l.locationName),{hash:{},inverse:q.noop,fn:q.program(8,j,e),data:e}),(m||0===m)&&(n+=m),n+='\n        </div>\n\n        <div name="password" class="required tooltip_wrap password">\n            <input class="',m=c["if"].call(b,(l=b.error,null==l||l===!1?l:l.password),{hash:{},inverse:q.noop,fn:q.program(3,g,e),data:e}),(m||0===m)&&(n+=m),n+='" type="password" name="password" placeholder="Password" maxlength="30" pattern="^\\S{8,}$" title="The password must be at least 8 characters" required>\n            <div class="tool_tip tool_tip_bottom password_validator">\n                <ul>\n                    <li class="pass_length invalid">At least 8 characters</li>\n                    <li class="pass_number invalid">Contains a number and a letter</li>\n                    <li class="pass_strength">Password does not meet requirements</li>\n                </ul>\n            </div>\n            ',m=c["if"].call(b,(l=b.error,null==l||l===!1?l:l.password),{hash:{},inverse:q.noop,fn:q.program(10,k,e),data:e}),(m||0===m)&&(n+=m),n+='\n        </div>\n        <input type="hidden" id="icaptcha" name="icaptcha"/>\n\n        <p class="med_text required req_fields">Required fields</p>\n    </section>\n\n    <div class="casl_agreement casl_hidden" style="display: none;">\n        <h1 class="modal_title">Canadian Anti-Spam Compliance</h1>\n        <p>Based on Canada’s Anti-Spam law, we are not allowed to send you messages without your express consent. To continue enjoying the benefits of our communications, please select the check box below.</p>\n\n        <div id="user_agrees_to">\n            <!-- casl checkbox place -->\n            <p>CONSENT: I would like to get emails with updates about National Geographic\'s mission, relevant content about our products and services and reminders about events in my area.</p>\n\n            <p class="small">You can withdraw your consent at any time by clicking on the “unsubscribe” link in any email. See our Privacy Policy for more details about changing your marketing preferences for the National Geographic society and its affiliates.</p>\n        </div>\n    </div>\n\n    <span class="reg_loading">\n        <img class="reg_loading_spinner" src="',(m=c.STATIC_URL)?m=m.call(b,{hash:{},data:e}):(m=b.STATIC_URL,m=typeof m===o?m.apply(b):m),n+=p(m)+'views/images/ajax-loader.gif" alt="Loading" />\n        <span class="reg_loading_text">Your account is being created.</span>\n    </span>\n\n    ',m=q.invokePartial(d.confirm_cancel_modal,"confirm_cancel_modal",b,c,d,e),(m||0===m)&&(n+=m),n+='\n\n    <footer>\n        <p class="btn_series">\n            <a class="btn btn_submit" form="native-reg-final-form" href="#nojump.continue">Continue</a>\n        </p>\n    </footer>\n</div>\n<script>\n(function() {\n    _M.require({\n        mobileSocialReg_js: \'',(m=c.HEADER_STATIC_MEDIA)?m=m.call(b,{hash:{},data:e}):(m=b.HEADER_STATIC_MEDIA,m=typeof m===o?m.apply(b):m),n+=p(m)+"build/views/mobile_social_reg/mobile_social_reg.js?v=",(m=c.HEADER_VERSION)?m=m.call(b,{hash:{},data:e}):(m=b.HEADER_VERSION,m=typeof m===o?m.apply(b):m),n+=p(m)+"',\n        nativeReg_css: '",(m=c.HEADER_STATIC_MEDIA)?m=m.call(b,{hash:{},data:e}):(m=b.HEADER_STATIC_MEDIA,m=typeof m===o?m.apply(b):m),n+=p(m)+"css/native_reg.css?v=",(m=c.HEADER_VERSION)?m=m.call(b,{hash:{},data:e}):(m=b.HEADER_VERSION,m=typeof m===o?m.apply(b):m),n+=p(m)+"'\n    });\n})();\n</script>\n"}),this.hbs.native_reg=Handlebars.template(function(a,b,c,d,e){function f(a){var b,c="";return c+='<div class="errorTop">'+y((b=a.error,b=null==b||b===!1?b:b.errorTop,typeof b===x?b.apply(a):b))+"</div>"}function g(){return"inputError"}function h(a){var b,c="";return c+=' value="'+y((b=a.formValues,b=null==b||b===!1?b:b.firstName,typeof b===x?b.apply(a):b))+'"'}function i(a){var b,c="";return c+='<span class="error">'+y((b=a.error,b=null==b||b===!1?b:b.firstName,typeof b===x?b.apply(a):b))+"</span>"}function j(a){var b,c="";return c+=' value="'+y((b=a.formValues,b=null==b||b===!1?b:b.middleName,typeof b===x?b.apply(a):b))+'"'}function k(a){var b,c="";return c+='<span class="error">'+y((b=a.error,b=null==b||b===!1?b:b.middleName,typeof b===x?b.apply(a):b))+"</span>"}function l(a){var b,c="";return c+=' value="'+y((b=a.formValues,b=null==b||b===!1?b:b.lastName,typeof b===x?b.apply(a):b))+'"'}function m(a){var b,c="";return c+='<span class="error">'+y((b=a.error,b=null==b||b===!1?b:b.lastName,typeof b===x?b.apply(a):b))+"</span>"}function n(a,b){var d,e,f,g="";return g+='\n                            <option value="'+y((d=b,d=null==d||d===!1?d:d.index,typeof d===x?d.apply(a):d))+'"',f={hash:{},inverse:z.noop,fn:z.program(18,o,b),data:b},d=c.is_selected||a.is_selected,e=d?d.call(a,(d=b,null==d||d===!1?d:d.index),(d=a.formValues,null==d||d===!1?d:d.birthMonth),f):A.call(a,"is_selected",(d=b,null==d||d===!1?d:d.index),(d=a.formValues,null==d||d===!1?d:d.birthMonth),f),(e||0===e)&&(g+=e),g+=">"+y(typeof a===x?a.apply(a):a)+"</option>\n                            "}function o(){return'selected="selected"'}function p(a,b){var d,e,f,g="";return g+='\n                            <option value="'+y(typeof a===x?a.apply(a):a)+'"',f={hash:{},inverse:z.noop,fn:z.program(18,o,b),data:b},d=c.is_selected||a.is_selected,e=d?d.call(a,(d=b,null==d||d===!1?d:d.index),(d=a.formValues,null==d||d===!1?d:d.birthMonth),f):A.call(a,"is_selected",(d=b,null==d||d===!1?d:d.index),(d=a.formValues,null==d||d===!1?d:d.birthMonth),f),(e||0===e)&&(g+=e),g+=">"+y(typeof a===x?a.apply(a):a)+"</option>\n                            "}function q(a){var b,c="";return c+='<span class="error">'+y((b=a.error,b=null==b||b===!1?b:b.birthDate,typeof b===x?b.apply(a):b))+"</span>"}function r(a){var b,c="";return c+=' value="'+y((b=a.formValues,b=null==b||b===!1?b:b.email,typeof b===x?b.apply(a):b))+'"'}function s(a){var b,c="";return c+='<span class="error">'+y((b=a.error,b=null==b||b===!1?b:b.email,typeof b===x?b.apply(a):b))+"</span>"}function t(a){var b,c="";return c+='<span class="error">'+y((b=a.error,b=null==b||b===!1?b:b.password,typeof b===x?b.apply(a):b))+"</span>"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var u,v,w="",x="function",y=this.escapeExpression,z=this,A=c.helperMissing;return w+='<div id="modalTop" class="border"><span class="med_text border_text">Create a new account</span></div>\n',v=c["if"].call(b,(u=b.error,null==u||u===!1?u:u.errorTop),{hash:{},inverse:z.noop,fn:z.program(1,f,e),data:e}),(v||0===v)&&(w+=v),w+='\n<section id="registration" class="native_reg">\n\n    <header>\n        <h1 class="modal_title">Join the National Geographic Community</h1>\n        <hr class="dots" />\n    </header>\n\n    <section id="reg_form">\n        <form autocomplete="on" method="POST" id="native-reg-start-form" action="#members.location">\n            <!--{% csrf_token %}-->\n            <section class="left">\n                <span class="required">\n                    <input class="',v=c["if"].call(b,(u=b.error,null==u||u===!1?u:u.firstName),{hash:{},inverse:z.noop,fn:z.program(3,g,e),data:e}),(v||0===v)&&(w+=v),w+='" type="text" name="firstName" id="firstName" placeholder="First Name" maxlength="50"',v=c["if"].call(b,(u=b.formValues,null==u||u===!1?u:u.firstName),{hash:{},inverse:z.noop,fn:z.program(5,h,e),data:e}),(v||0===v)&&(w+=v),w+=" required/>\n                    ",v=c["if"].call(b,(u=b.error,null==u||u===!1?u:u.firstName),{hash:{},inverse:z.noop,fn:z.program(7,i,e),data:e}),(v||0===v)&&(w+=v),w+='\n                </span>\n\n                <input class="',v=c["if"].call(b,(u=b.error,null==u||u===!1?u:u.middleName),{hash:{},inverse:z.noop,fn:z.program(3,g,e),data:e}),(v||0===v)&&(w+=v),w+='" type="text" name="middleName" id="middleName" placeholder="Middle Name" maxlength="50"',v=c["if"].call(b,(u=b.formValues,null==u||u===!1?u:u.middleName),{hash:{},inverse:z.noop,fn:z.program(9,j,e),data:e}),(v||0===v)&&(w+=v),w+="/>\n                ",v=c["if"].call(b,(u=b.error,null==u||u===!1?u:u.middleName),{hash:{},inverse:z.noop,fn:z.program(11,k,e),data:e}),(v||0===v)&&(w+=v),w+='\n\n                <span class="required">\n                    <input class="',v=c["if"].call(b,(u=b.error,null==u||u===!1?u:u.lastName),{hash:{},inverse:z.noop,fn:z.program(3,g,e),data:e}),(v||0===v)&&(w+=v),w+='" type="text" name="lastName" id="lastName" placeholder="Last Name" maxlength="50"',v=c["if"].call(b,(u=b.formValues,null==u||u===!1?u:u.lastName),{hash:{},inverse:z.noop,fn:z.program(13,l,e),data:e}),(v||0===v)&&(w+=v),w+=" required/>\n                    ",v=c["if"].call(b,(u=b.error,null==u||u===!1?u:u.lastName),{hash:{},inverse:z.noop,fn:z.program(15,m,e),data:e}),(v||0===v)&&(w+=v),w+='\n                </span>\n\n                <fieldset name="birthdate" id="datePicker">\n                    <div class="whats-this">\n                        <label class="med_text">Birthdate</label>\n                        <div class="tooltip_wrap">\n                            <span class="med_text">?</span>\n                            <div class="tool_tip tool_tip_bottom">\n                                <ul>\n                                    <li class="whats-this"><div class="arrow"></div>Providing your birthday helps ensure you get the right National Geographic experience. This information will not be displayed to others.</li>\n                                </ul>\n                            </div>\n                        </div>\n                    </div>\n                    <span class="dateFields required">\n                        <select id="birthMonth" name="birthMonth" class="',v=c["if"].call(b,(u=b.error,null==u||u===!1?u:u.birthDate),{hash:{},inverse:z.noop,fn:z.program(3,g,e),data:e}),(v||0===v)&&(w+=v),w+='" required>\n                            <option value="month">Month</option>\n                            ',v=c.each.call(b,b.months,{hash:{},inverse:z.noop,fn:z.program(17,n,e),data:e}),(v||0===v)&&(w+=v),w+='\n                        </select>\n\n                        <select id="birthDay" name="birthDay" class="',v=c["if"].call(b,(u=b.error,null==u||u===!1?u:u.birthDate),{hash:{},inverse:z.noop,fn:z.program(3,g,e),data:e}),(v||0===v)&&(w+=v),w+='" required>\n                            <option value="day">Day</option>\n                            ',v=c.each.call(b,b.days,{hash:{},inverse:z.noop,fn:z.program(20,p,e),data:e}),(v||0===v)&&(w+=v),w+='\n                        </select>\n\n                        <select id="birthYear" name="birthYear" class="',v=c["if"].call(b,(u=b.error,null==u||u===!1?u:u.birthDate),{hash:{},inverse:z.noop,fn:z.program(3,g,e),data:e}),(v||0===v)&&(w+=v),w+='" required>\n                            <option value="year">Year</option>\n                            ',v=c.each.call(b,b.years,{hash:{},inverse:z.noop,fn:z.program(20,p,e),data:e}),(v||0===v)&&(w+=v),w+="\n                        </select>\n                    </span>\n                </fieldset>\n                ",v=c["if"].call(b,(u=b.error,null==u||u===!1?u:u.birthDate),{hash:{},inverse:z.noop,fn:z.program(22,q,e),data:e}),(v||0===v)&&(w+=v),w+='\n            </section>\n            <section class="right">\n                <span class="required">\n                    <input id="regEmail" class="',v=c["if"].call(b,(u=b.error,null==u||u===!1?u:u.email),{hash:{},inverse:z.noop,fn:z.program(3,g,e),data:e}),(v||0===v)&&(w+=v),w+='" type="email" name="email" placeholder="Email Address" maxlength="62" ',v=c["if"].call(b,(u=b.formValues,null==u||u===!1?u:u.email),{hash:{},inverse:z.noop,fn:z.program(24,r,e),data:e}),(v||0===v)&&(w+=v),w+=" required/>\n                    ",v=c["if"].call(b,(u=b.error,null==u||u===!1?u:u.email),{hash:{},inverse:z.noop,fn:z.program(26,s,e),data:e}),(v||0===v)&&(w+=v),w+='\n                </span>\n\n                <div name="password" class="required tooltip_wrap password">\n                    <input id="regPassword" class="',v=c["if"].call(b,(u=b.error,null==u||u===!1?u:u.password),{hash:{},inverse:z.noop,fn:z.program(3,g,e),data:e}),(v||0===v)&&(w+=v),w+='" type="password" name="password" placeholder="Password" maxlength="30" pattern="^\\S{8,}$" title="The password must be at least 8 characters" required>\n                    <div class="tool_tip tool_tip_bottom password_validator">\n                        <ul>\n                            <li class="pass_length invalid">At least 8 characters</li>\n                            <li class="pass_number invalid">Contains a number and a letter</li>\n                            <!-- <li class="pass_case">Must contain an uppercase character</li> -->\n                            <li class="pass_strength">Password does not meet requirements</li>\n                        </ul>\n                    </div>\n                    ',v=c["if"].call(b,(u=b.error,null==u||u===!1?u:u.password),{hash:{},inverse:z.noop,fn:z.program(28,t,e),data:e}),(v||0===v)&&(w+=v),w+='\n                </div>\n\n                <input type="hidden" id="bot" name="bot"/>\n                <div class="med_text links">\n                    <span>Already a member? <a class="signIn" href="#members.signin">Sign in.</a></span>\n                    <span><a href="http://help.nationalgeographic.com/customer/portal/articles/757556" target="_blank">Why am I joining?</a> | <a href="http://help.nationalgeographic.com/customer/portal/articles/884025" target="_blank">Previous site user?</a></span>\n                    <p class="required">Required fields</p>\n                </div>\n            </section>\n        </form>\n    </section>\n\n    <span class="reg_loading">\n        <img class="reg_loading_spinner" src="',(v=c.STATIC_URL)?v=v.call(b,{hash:{},data:e}):(v=b.STATIC_URL,v=typeof v===x?v.apply(b):v),w+=y(v)+'views/images/ajax-loader.gif" alt="Loading" />\n        <span class="reg_loading_text">Processing...</span>\n    </span>\n\n    <footer>\n        <hr class="dots" />\n        <p class="legal tiny_text underline">By signing up, you agree to our <a href="http://www.nationalgeographic.com/community/terms/" target="_blank">Terms of Service</a>, <a href="http://www.nationalgeographic.com/community/privacy/" target="_blank">Privacy Policy</a>, and <a href="http://www.nationalgeographic.com/community/community-rules/" target="_blank">Community Rules</a></p>\n        <p class="btn_series med_btn">\n            <a id="continue" class="btn btn_submit" form="native-reg-start-form" href="#members.location">Continue</a>\n            <a id="cancel" class="btn btn_secondary" href="#close">Cancel</a>\n        </p>\n    </footer>\n</section>\n\n<script>\n    (function() {\n        window._M.require({\n            native_reg_js: \'',(v=c.HEADER_STATIC_MEDIA)?v=v.call(b,{hash:{},data:e}):(v=b.HEADER_STATIC_MEDIA,v=typeof v===x?v.apply(b):v),w+=y(v)+"build/views/native_reg/native_reg.js?v=",(v=c.HEADER_VERSION)?v=v.call(b,{hash:{},data:e}):(v=b.HEADER_VERSION,v=typeof v===x?v.apply(b):v),w+=y(v)+"',\n            native_reg_css: '",(v=c.HEADER_STATIC_MEDIA)?v=v.call(b,{hash:{},data:e}):(v=b.HEADER_STATIC_MEDIA,v=typeof v===x?v.apply(b):v),w+=y(v)+"css/native_reg.css?v=",(v=c.HEADER_VERSION)?v=v.call(b,{hash:{},data:e}):(v=b.HEADER_VERSION,v=typeof v===x?v.apply(b):v),w+=y(v)+"'\n        });\n    })();\n</script>\n"
}),this.hbs.nocookies=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h,i="",j="function",k=this.escapeExpression,l=c.helperMissing;return i+='<div id="modalTop" class="border"><span class="med_text border_text">Warning</span></div>\n<section id="nocookie" class="nocookie">\n    <header>\n        <h1 class="modal_title">Please enable cookies to continue</h1>\n        <hr class="dots" />\n    </header>\n    <div class="no-cookies">\n    	<p>Cookies are bits of informations stored on your computer which are required in order to sign up and login. They allow us to offer you a better browsing experience as well.</p>\n    	<p>We noticed you\'re using ',(f=c._browser)?f=f.call(b,{hash:{},data:e}):(f=b._browser,f=typeof f===j?f.apply(b):f),i+=k(f)+" to browse National Geographic. Below is a link to  ",h={hash:{},data:e},i+=k((f=c.link_to||b.link_to,f?f.call(b,b._cookie_support_url,b._browser,h):l.call(b,"link_to",b._cookie_support_url,b._browser,h)))+" support where you can learn more about cookies and how you can enable them. </p>\n    	<p> For more information, visit ",h={hash:{},data:e},i+=k((f=c.link_to||b.link_to,f?f.call(b,b._cookie_support_url,b._browser,h):l.call(b,"link_to",b._cookie_support_url,b._browser,h)))+" support.</p>\n    </div>\n</section>\n<script>\n(function() {\n    _M.require({\n        nocookies: '",(g=c.HEADER_STATIC_MEDIA)?g=g.call(b,{hash:{},data:e}):(g=b.HEADER_STATIC_MEDIA,g=typeof g===j?g.apply(b):g),i+=k(g)+"build/views/nocookies/nocookie.css?v=",(g=c.HEADER_VERSION)?g=g.call(b,{hash:{},data:e}):(g=b.HEADER_VERSION,g=typeof g===j?g.apply(b):g),i+=k(g)+"',\n    });\n})();\n</script>"}),this.hbs.resend_email_verification=Handlebars.template(function(a,b,c,d,e){function f(a){var b,c="";return c+='<div class="errorTop">'+k((b=a.error,b=null==b||b===!1?b:b.errorTop,typeof b===j?b.apply(a):b))+"</div>"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var g,h,i="",j="function",k=this.escapeExpression,l=this;return i+='<div id="modalTop" class="border"><span class="med_text border_text">Verification sent</span></div>\n',h=c["if"].call(b,(g=b.error,null==g||g===!1?g:g.errorTop),{hash:{},inverse:l.noop,fn:l.program(1,f,e),data:e}),(h||0===h)&&(i+=h),i+='\n<section id="registration" class="resend_activation">\n	<header>\n		<h1 class="modal_title">Verification sent</h1>\n		<hr class="dots" />\n	</header>\n	<p class="helptext med_text">To activate your account, please click the email activation link we sent to ',(h=c.email)?h=h.call(b,{hash:{},data:e}):(h=b.email,h=typeof h===j?h.apply(b):h),i+=k(h)+'.</p>\n	<p class="med_text">You can also request the link again.</p>\n    <form class="resend-email-verification-form" method="post">\n		<input type="email" maxlength="62" value="',(h=c.email)?h=h.call(b,{hash:{},data:e}):(h=b.email,h=typeof h===j?h.apply(b):h),i+=k(h)+'" placeholder="Email Address" name="email" disabled>\n        <input type="submit" value="Resend" class="btn submit">\n    </form>\n</section>\n<script>\n(function() {\n    window._M.require({\n        reverify_js: \'',(h=c.HEADER_STATIC_MEDIA)?h=h.call(b,{hash:{},data:e}):(h=b.HEADER_STATIC_MEDIA,h=typeof h===j?h.apply(b):h),i+=k(h)+"build/views/resend_email_verification/resend_email_verification.js?v=",(h=c.HEADER_VERSION)?h=h.call(b,{hash:{},data:e}):(h=b.HEADER_VERSION,h=typeof h===j?h.apply(b):h),i+=k(h)+"',\n        nativeReg_css: '",(h=c.HEADER_STATIC_MEDIA)?h=h.call(b,{hash:{},data:e}):(h=b.HEADER_STATIC_MEDIA,h=typeof h===j?h.apply(b):h),i+=k(h)+"css/native_reg.css?v=",(h=c.HEADER_VERSION)?h=h.call(b,{hash:{},data:e}):(h=b.HEADER_VERSION,h=typeof h===j?h.apply(b):h),i+=k(h)+"'\n    });\n})();\n</script>\n"}),this.hbs.reset_password=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e="";return e+='\n    <p class="med_text">An email with instructions on how to reset your password has been sent to ',(d=c.email)?d=d.call(a,{hash:{},data:b}):(d=a.email,d=typeof d===l?d.apply(a):d),e+=m(d)+".</p>\n\n    "}function g(a,b){var d,e,f="";return f+='\n    <p class="med_text">Please enter a new password.</p>\n    <form autocomplete="on" id="reset-password-form" method="post">\n        <section class="left">\n        <div name="password" class="required tooltip_wrap password">\n            <input type="password" name="password" class="',e=c["if"].call(a,(d=a.error,null==d||d===!1?d:d.password),{hash:{},inverse:n.noop,fn:n.program(4,h,b),data:b}),(e||0===e)&&(f+=e),f+='"  placeholder="Password" maxlength="30" pattern="^\\S{8,}$" title="The password must be at least 8 characters" required >\n            <div class="tool_tip tool_tip_bottom password_validator">\n                <ul>\n                    <li class="pass_length invalid">At least 8 characters</li>\n                    <li class="pass_number invalid">Contains a number and a letter</li>\n                    <!-- <li class="pass_case">Must contain an uppercase character</li> -->\n                    <li class="pass_strength">Password does not meet requirements</li>\n                </ul>\n            </div>\n            ',e=c["if"].call(a,(d=a.error,null==d||d===!1?d:d.password),{hash:{},inverse:n.noop,fn:n.program(6,i,b),data:b}),(e||0===e)&&(f+=e),f+='\n        </div>\n        </section>\n\n        <section class="right">\n        <div class="required tooltip_wrap password">\n            <input type="password" name="password_confirmation" class="',e=c["if"].call(a,(d=a.error,null==d||d===!1?d:d.confirmation),{hash:{},inverse:n.noop,fn:n.program(4,h,b),data:b}),(e||0===e)&&(f+=e),f+='" placeholder="Confirm Password" required >\n            <div class="tool_tip tool_tip_bottom password_confirmation">\n                <ul>\n                    <li class="nomatch">Passwords do not match</li>\n                </ul>\n            </div>\n        </div>\n        </section>\n        <footer>\n            <input type="hidden" name="confirmaiton_code">\n            <input type="submit" name="reset_password" value="Reset Password" class="btn submit">\n        </footer>\n    </form>\n\n    <span class="reg_loading">\n        <img class="reg_loading_spinner" src="',(e=c.STATIC_URL)?e=e.call(a,{hash:{},data:b}):(e=a.STATIC_URL,e=typeof e===l?e.apply(a):e),f+=m(e)+'views/images/ajax-loader.gif" alt="Setting password" />\n        <span class="reg_loading_text">Resetting password....</span>\n    </span>\n\n    <footer>\n        <p class="med_text">Not a member? <a id="reglink" href="#members.join">Join now.</a></p>\n    </footer>\n    '}function h(){return"inputError"}function i(a){var b,c="";return c+='<span class="error">'+m((b=a.error,b=null==b||b===!1?b:b.password,typeof b===l?b.apply(a):b))+"</span>"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),d=this.merge(d,a.partials),e=e||{};var j,k="",l="function",m=this.escapeExpression,n=this;return k+='<div id="modalTop" class="border"><span class="med_text border_text">Reset Password</span></div>\n',j=n.invokePartial(d.mobile_modal_error,"mobile_modal_error",b,c,d,e),(j||0===j)&&(k+=j),k+='\n<section id="reset_password" class="reset_password">\n    <header>\n        <h1 class="modal_title">Reset password</h1>\n        <hr class="dots" />\n    </header>\n\n    ',j=c["if"].call(b,b.success,{hash:{},inverse:n.program(3,g,e),fn:n.program(1,f,e),data:e}),(j||0===j)&&(k+=j),k+="\n</section>\n\n<script>\n(function() {\n    window._M.require({\n        resetPassword_css: '",(j=c.HEADER_STATIC_MEDIA)?j=j.call(b,{hash:{},data:e}):(j=b.HEADER_STATIC_MEDIA,j=typeof j===l?j.apply(b):j),k+=m(j)+"css/reset_password.css?v=",(j=c.HEADER_VERSION)?j=j.call(b,{hash:{},data:e}):(j=b.HEADER_VERSION,j=typeof j===l?j.apply(b):j),k+=m(j)+"',\n        resetPassword_js: '",(j=c.HEADER_STATIC_MEDIA)?j=j.call(b,{hash:{},data:e}):(j=b.HEADER_STATIC_MEDIA,j=typeof j===l?j.apply(b):j),k+=m(j)+"build/views/reset_password/reset_password.js?v=",(j=c.HEADER_VERSION)?j=j.call(b,{hash:{},data:e}):(j=b.HEADER_VERSION,j=typeof j===l?j.apply(b):j),k+=m(j)+"',\n    });\n})();\n</script>\n\n"}),this.hbs.signin=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f,h="";return h+='\n    <div class="errorTop">\n        '+r((d=a.error,d=null==d||d===!1?d:d.errorTop,typeof d===q?d.apply(a):d))+"\n        ",f={hash:{},inverse:s.noop,fn:s.program(2,g,b),data:b},d=c.checkError||a.checkError,e=d?d.call(a,(d=a.error,null==d||d===!1?d:d.code),"USER_EMAIL_NOT_VERIFIED",f):t.call(a,"checkError",(d=a.error,null==d||d===!1?d:d.code),"USER_EMAIL_NOT_VERIFIED",f),(e||0===e)&&(h+=e),h+="\n    </div>\n"}function g(a,b){var d,e="";return e+='\n            <div id="resend-activation-link">\n                <div>\n                    <span class="med_text">\n                        <p>You can also provide a new email address or request the link again.\n                        <input type="text" id="resend-activation-email" name="resend_verification" value="',(d=c.username)?d=d.call(a,{hash:{},data:b}):(d=a.username,d=typeof d===q?d.apply(a):d),e+=r(d)+'">\n                        <a id="resend-activation-link-button" class="btn">Resend</a></p>\n                    </span>\n                </div>\n            </div>\n        '}function h(){return"inputError"}function i(a,b){var d;return(d=c.username)?d=d.call(a,{hash:{},data:b}):(d=a.username,d=typeof d===q?d.apply(a):d),r(d)}function j(a){var b,c="";return c+='<span class="error">'+r((b=a.error,b=null==b||b===!1?b:b.email,typeof b===q?b.apply(a):b))+"</span>"}function k(a){var b,c="";return c+='<span class="error">'+r((b=a.error,b=null==b||b===!1?b:b.password,typeof b===q?b.apply(a):b))+"</span>"}function l(){return'\n    <section class="login_fb right">\n        <div>\n            <p>\n                <span>Or</span>\n                <a id="login-facebook-button" class="btn btn_fb" href="">Sign In with Facebook</a>\n            </p>\n        </div>\n    </section>\n    '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var m,n,o,p="",q="function",r=this.escapeExpression,s=this,t=c.helperMissing,u=c.blockHelperMissing;return p+='<div id="modalTop" class="border"><span class="med_text border_text">Sign In</span></div>\n',n=c["if"].call(b,(m=b.error,null==m||m===!1?m:m.errorTop),{hash:{},inverse:s.noop,fn:s.program(1,f,e),data:e}),(n||0===n)&&(p+=n),p+='\n\n<section id="signin">\n    <header>\n        <h1 class="modal_title">Member sign in</h1>\n        <hr class="dots" />\n    </header>\n\n    <section class="left">\n        <form class="login" action="#" autocomplete="on" id="login-form" method="post">\n            <input type="email" name="username" placeholder="Email Address" class="',n=c["if"].call(b,(m=b.error,null==m||m===!1?m:m.email),{hash:{},inverse:s.noop,fn:s.program(4,h,e),data:e}),(n||0===n)&&(p+=n),p+='" required value="',n=c["if"].call(b,b.username,{hash:{},inverse:s.noop,fn:s.program(6,i,e),data:e}),(n||0===n)&&(p+=n),p+='" maxlength="62">\n            ',n=c["if"].call(b,(m=b.error,null==m||m===!1?m:m.email),{hash:{},inverse:s.noop,fn:s.program(8,j,e),data:e}),(n||0===n)&&(p+=n),p+='\n            <input type="password" name="password" placeholder="Password" class="',n=c["if"].call(b,(m=b.error,null==m||m===!1?m:m.password),{hash:{},inverse:s.noop,fn:s.program(4,h,e),data:e}),(n||0===n)&&(p+=n),p+='" required maxlength="30">\n            ',n=c["if"].call(b,(m=b.error,null==m||m===!1?m:m.password),{hash:{},inverse:s.noop,fn:s.program(10,k,e),data:e}),(n||0===n)&&(p+=n),p+='\n            <input type="text" name="username_confirm" class="sec_h" required>\n            <input type="submit" value="Sign in" class="btn submit">\n        </form>\n    </section>\n\n    ',o={hash:{},inverse:s.noop,fn:s.program(12,l,e),data:e},(n=c.unless_embedded_browser)?n=n.call(b,o):(n=b.unless_embedded_browser,n=typeof n===q?n.apply(b):n),c.unless_embedded_browser||(n=u.call(b,n,o)),(n||0===n)&&(p+=n),p+='\n\n    <section>\n        <a id="forgot_password_link" class="med_text forgot" href="#members.forgot_password">Forgot your password?</a>\n    </section>\n\n    <footer>\n        <h1 class="modal_title">Not a member?</h1>\n        <hr class="dots" />\n        <a class="btn" id="reglink" href="#members.join">Register here</a>\n    </footer>\n</section>\n\n<script>\n(function() {\n    window._M.require({\n        signIn_css: \'',(n=c.HEADER_STATIC_MEDIA)?n=n.call(b,{hash:{},data:e}):(n=b.HEADER_STATIC_MEDIA,n=typeof n===q?n.apply(b):n),p+=r(n)+"css/signin.css?v=",(n=c.HEADER_VERSION)?n=n.call(b,{hash:{},data:e}):(n=b.HEADER_VERSION,n=typeof n===q?n.apply(b):n),p+=r(n)+"',\n        signIn_js: '",(n=c.HEADER_STATIC_MEDIA)?n=n.call(b,{hash:{},data:e}):(n=b.HEADER_STATIC_MEDIA,n=typeof n===q?n.apply(b):n),p+=r(n)+"build/views/signin/signin.js?v=",(n=c.HEADER_VERSION)?n=n.call(b,{hash:{},data:e}):(n=b.HEADER_VERSION,n=typeof n===q?n.apply(b):n),p+=r(n)+"'\n    });\n})();\n</script>\n\n\n\n"}),this.hbs.social_reg=Handlebars.template(function(a,b,c,d,e){function f(a){var b,c="";return c+='<div class="errorTop">'+u((b=a.error,b=null==b||b===!1?b:b.errorTop,typeof b===t?b.apply(a):b))+"</div>"}function g(a){var b;return u((b=a.userData,b=null==b||b===!1?b:b.middleName,typeof b===t?b.apply(a):b))}function h(){return"inputError"}function i(a,b){var d,e,f,g="";return g+='\n                    <option value="',f={hash:{},data:b},g+=u((d=c.math||a.math,d?d.call(a,(d=b,null==d||d===!1?d:d.index),"+",1,f):v.call(a,"math",(d=b,null==d||d===!1?d:d.index),"+",1,f)))+'"',f={hash:{},inverse:w.noop,fn:w.program(8,j,b),data:b},d=c.is_selected||a.is_selected,e=d?d.call(a,(d=b,null==d||d===!1?d:d.index),(d=a.formValues,null==d||d===!1?d:d.birthMonth),f):v.call(a,"is_selected",(d=b,null==d||d===!1?d:d.index),(d=a.formValues,null==d||d===!1?d:d.birthMonth),f),(e||0===e)&&(g+=e),g+=">"+u(typeof a===t?a.apply(a):a)+"</option>\n                    "}function j(){return'selected="selected"'}function k(a,b){var d,e,f,g="";return g+='\n                    <option value="'+u(typeof a===t?a.apply(a):a)+'"',f={hash:{},inverse:w.noop,fn:w.program(8,j,b),data:b},d=c.is_selected||a.is_selected,e=d?d.call(a,(d=b,null==d||d===!1?d:d.index),(d=a.formValues,null==d||d===!1?d:d.birthMonth),f):v.call(a,"is_selected",(d=b,null==d||d===!1?d:d.index),(d=a.formValues,null==d||d===!1?d:d.birthMonth),f),(e||0===e)&&(g+=e),g+=">"+u(typeof a===t?a.apply(a):a)+"</option>\n                    "}function l(a){var b,c="";return c+='<span class="error">'+u((b=a.error,b=null==b||b===!1?b:b.birthDate,typeof b===t?b.apply(a):b))+"</span>"}function m(a,b){var d,e,f="";return f+='value="'+u((d=a.userData,d=null==d||d===!1?d:d.city,typeof d===t?d.apply(a):d))+", ",e=c["if"].call(a,(d=a.userData,null==d||d===!1?d:d.country),{hash:{},inverse:w.noop,fn:w.program(15,n,b),data:b}),(e||0===e)&&(f+=e),f+='"'}function n(a){var b;return u((b=a.userData,b=null==b||b===!1?b:b.country,typeof b===t?b.apply(a):b))}function o(a){var b,c="";return c+='<span class="error typeaheadError">'+u((b=a.error,b=null==b||b===!1?b:b.locationName,typeof b===t?b.apply(a):b))+"</span>"}function p(a){var b,c="";return c+='\n                <span class="error">'+u((b=a.error,b=null==b||b===!1?b:b.password,typeof b===t?b.apply(a):b))+"</span>\n            "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),d=this.merge(d,a.partials),e=e||{};var q,r,s="",t="function",u=this.escapeExpression,v=c.helperMissing,w=this;return s+='<div id="modalTop" class="border"><span class="med_text border_text">Create a new account</span></div>\n',r=c["if"].call(b,(q=b.error,null==q||q===!1?q:q.errorTop),{hash:{},inverse:w.noop,fn:w.program(1,f,e),data:e}),(r||0===r)&&(s+=r),s+='\n<div id="registration" class="location social_reg">\n    <header>\n        <h1 class="modal_title">Complete Your Account</h1>\n        <hr class="dots" />\n    </header>\n\n    <section class="left">\n        <div class="avatar_upload">\n            <span id="reg-avatar" class="avatar"></span>\n\n            <div class="welcome med_text">\n                <p><b>Welcome, '+u((q=b.userData,q=null==q||q===!1?q:q.firstName,typeof q===t?q.apply(b):q))+" ",r=c["if"].call(b,(q=b.userData,null==q||q===!1?q:q.middleName),{hash:{},inverse:w.noop,fn:w.program(3,g,e),data:e}),(r||0===r)&&(s+=r),s+=" "+u((q=b.userData,q=null==q||q===!1?q:q.lastName,typeof q===t?q.apply(b):q))+'</b></p>\n\n                <p class="explanation_text">\n                Use your profile picture from Facebook or upload a new one.<br />You can always change it later.\n				</p>\n            </div>\n        </div>\n\n        <div class="file_chooser">\n            <form id="social-reg-final-form" enctype="multipart/form-data" method="post">\n                <input type="file" name="original" id="avatar" accept="image/*">\n                <input type="hidden" name="call_id">\n            </form>\n            <a id="avatar-upload-button" class="choose_file" style="" href="#">Choose file</a>\n            <span class="med_text size_limit">(up to 1MB)</span>\n        </div>\n    </section>\n\n    <section class="right">\n        <fieldset name="birthdate" id="datePicker" class="datePicker">\n            <div class="whats-this">\n                <label class="med_text">Birthdate</label>\n                <div class="tooltip_wrap">\n                    <span class="med_text">?</span>\n                    <div class="tool_tip tool_tip_bottom">\n                        <ul>\n                            <li class="whats-this"><div class="arrow"></div>Providing your birthday helps ensure you get the right National Geographic experience. This information will not be displayed to others.</li>\n                        </ul>\n                    </div>\n                </div>\n            </div>\n            <span class="dateFields required">\n                <select id="birthMonth" name="birthMonth" class="',r=c["if"].call(b,(q=b.error,null==q||q===!1?q:q.birthDate),{hash:{},inverse:w.noop,fn:w.program(5,h,e),data:e}),(r||0===r)&&(s+=r),s+='" required>\n                    <option value="month">Month</option>\n                    ',r=c.each.call(b,b.months,{hash:{},inverse:w.noop,fn:w.program(7,i,e),data:e}),(r||0===r)&&(s+=r),s+='\n                </select>\n\n                <select id="birthDay" name="birthDay" class="',r=c["if"].call(b,(q=b.error,null==q||q===!1?q:q.birthDate),{hash:{},inverse:w.noop,fn:w.program(5,h,e),data:e}),(r||0===r)&&(s+=r),s+='" required>\n                    <option value="day">Day</option>\n                    ',r=c.each.call(b,b.days,{hash:{},inverse:w.noop,fn:w.program(10,k,e),data:e}),(r||0===r)&&(s+=r),s+='\n                </select>\n\n                <select id="birthYear" name="birthYear" class="',r=c["if"].call(b,(q=b.error,null==q||q===!1?q:q.birthDate),{hash:{},inverse:w.noop,fn:w.program(5,h,e),data:e}),(r||0===r)&&(s+=r),s+='" required>\n                    <option value="year">Year</option>\n                    ',r=c.each.call(b,b.years,{hash:{},inverse:w.noop,fn:w.program(10,k,e),data:e}),(r||0===r)&&(s+=r),s+="\n                </select>\n            </span>\n        </fieldset>\n        ",r=c["if"].call(b,(q=b.error,null==q||q===!1?q:q.birthDate),{hash:{},inverse:w.noop,fn:w.program(12,l,e),data:e}),(r||0===r)&&(s+=r),s+='\n\n        <p class="med_text">Please type your town name, then select your location from the drop-down list</p>\n        <div class="required whats-this">\n            <input class="',r=c["if"].call(b,(q=b.error,null==q||q===!1?q:q.locationName),{hash:{},inverse:w.noop,fn:w.program(5,h,e),data:e}),(r||0===r)&&(s+=r),s+='" type="text" id="location-name"\n            name="locationName" placeholder="City, State, Country" ',r=c["if"].call(b,(q=b.userData,null==q||q===!1?q:q.city),{hash:{},inverse:w.noop,fn:w.program(14,m,e),data:e}),(r||0===r)&&(s+=r),s+=' autocomplete="off" spellcheck="false" dir="auto" required/>\n            <div class="tooltip_wrap">\n                <span class="med_text">?</span>\n                <div class="tool_tip">\n                    <ul>\n                        <li class="whats-this"><div class="arrow"></div>Why are we asking for your location? Your geographic location will provide valuable context to the stories you may share with us! In addition, we want to provide our community easy ways to connect with other members in their area.</li>\n                    </ul>\n                </div>\n            </div>\n	        ',r=c["if"].call(b,(q=b.error,null==q||q===!1?q:q.locationName),{hash:{},inverse:w.noop,fn:w.program(17,o,e),data:e}),(r||0===r)&&(s+=r),s+='\n	    </div>\n\n        <div name="password" class="required tooltip_wrap password">\n            <input class="',r=c["if"].call(b,(q=b.error,null==q||q===!1?q:q.password),{hash:{},inverse:w.noop,fn:w.program(5,h,e),data:e}),(r||0===r)&&(s+=r),s+='" type="password" name="password" placeholder="Password" maxlength="30" pattern="^\\S{8,}$" title="The password must be at least 8 characters" required>\n            <div class="tool_tip tool_tip_bottom password_validator">\n                <ul>\n                    <li class="pass_length invalid">At least 8 characters</li>\n                    <li class="pass_number invalid">Contains a number and a letter</li>\n                    <li class="pass_strength">Password does not meet requirements</li>\n                </ul>\n            </div>\n            ',r=c["if"].call(b,(q=b.error,null==q||q===!1?q:q.password),{hash:{},inverse:w.noop,fn:w.program(19,p,e),data:e}),(r||0===r)&&(s+=r),s+='\n        </div>\n        <input type="hidden" id="icaptcha" name="icaptcha"/>\n    </section>\n\n    <section class="casl_agreement casl_hidden" style="display: none;">\n        <h1 class="modal_title">Canadian Anti-Spam Compliance</h1>\n        <p>Based on Canada’s Anti-Spam law, we are not allowed to send you messages without your express consent. To continue enjoying the benefits of our communications, please select the check box below.</p>\n\n        <div id="user_agrees_to">\n            <!-- casl checkbox place -->\n            <p>CONSENT: I would like to get emails with updates about National Geographic\'s mission, relevant content about our products and services and reminders about events in my area.</p>\n\n            <p class="small">You can withdraw your consent at any time by clicking on the “unsubscribe” link in any email. See our Privacy Policy for more details about changing your marketing preferences for the National Geographic society and its affiliates.</p>\n        </div>\n    </section>\n\n    <p class="med_text required req_fields">Required fields</p>\n\n    <span class="reg_loading">\n        <img class="reg_loading_spinner" src="',(r=c.STATIC_URL)?r=r.call(b,{hash:{},data:e}):(r=b.STATIC_URL,r=typeof r===t?r.apply(b):r),s+=u(r)+'views/images/ajax-loader.gif" alt="Loading" />\n        <span class="reg_loading_text">Your account is being created.</span>\n    </span>\n\n    ',r=w.invokePartial(d.confirm_cancel_modal,"confirm_cancel_modal",b,c,d,e),(r||0===r)&&(s+=r),s+='\n\n    <footer>\n        <hr class="dots" />\n        <p class="btn_series">\n            <a class="btn btn_submit" form="native-reg-final-form" href="#nojump.continue">Continue</a>\n            <a class="btn btn_secondary confirm" href="#nojump.confirm">Cancel</a>\n        </p>\n    </footer>\n</div>\n\n<script>\n(function() {\n	window._M.require({\n		socialReg_js: \'',(r=c.HEADER_STATIC_MEDIA)?r=r.call(b,{hash:{},data:e}):(r=b.HEADER_STATIC_MEDIA,r=typeof r===t?r.apply(b):r),s+=u(r)+"views/social_reg/social_reg.js?v=",(r=c.HEADER_VERSION)?r=r.call(b,{hash:{},data:e}):(r=b.HEADER_VERSION,r=typeof r===t?r.apply(b):r),s+=u(r)+"',\n		nativeReg_css: '",(r=c.HEADER_STATIC_MEDIA)?r=r.call(b,{hash:{},data:e}):(r=b.HEADER_STATIC_MEDIA,r=typeof r===t?r.apply(b):r),s+=u(r)+"css/native_reg.css?v=",(r=c.HEADER_VERSION)?r=r.call(b,{hash:{},data:e}):(r=b.HEADER_VERSION,r=typeof r===t?r.apply(b):r),s+=u(r)+"'\n	});\n})();\n</script>\n"}),this.hbs.verification=Handlebars.template(function(a,b,c,d,e){function f(a){var b,c="";return c+='<span class="error">'+n((b=a.error,b=null==b||b===!1?b:b.errorTop,typeof b===m?b.apply(a):b))+"</span>"}function g(){return"inputError"}function h(a){var b,c="";return c+='<span class="error">'+n((b=a.error,b=null==b||b===!1?b:b.email,typeof b===m?b.apply(a):b))+"</span>"}function i(a){var b,c="";return c+='<span class="error">'+n((b=a.error,b=null==b||b===!1?b:b.password,typeof b===m?b.apply(a):b))+"</span>"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var j,k,l="",m="function",n=this.escapeExpression,o=this;return l+='<div id="registration" class="verification">\n    <section class="promo reverse">\n        <header>\n            <h1 class="modal_title">Account Verification</h1>\n            <h1 class="modal_subtitle verify_text">Your account has been<br/>created successfully,<br/>please sign in to access your profile and account settings.</h1>\n        </header>\n    </section>\n    <section id="signin" class="action signin">\n        <header>\n            <h1 class="modal_title">Member sign in</h1>\n            <hr class="dots" />\n        </header>\n        <div class="login_native">\n            ',k=c["if"].call(b,(j=b.error,null==j||j===!1?j:j.errorTop),{hash:{},inverse:o.noop,fn:o.program(1,f,e),data:e}),(k||0===k)&&(l+=k),l+='\n            <form class="login" action="#" autocomplete="on" id="login-form" method="post">\n                <input type="email" name="username" placeholder="Email Address" class="',k=c["if"].call(b,(j=b.error,null==j||j===!1?j:j.email),{hash:{},inverse:o.noop,fn:o.program(3,g,e),data:e}),(k||0===k)&&(l+=k),l+='" required value="" maxlength="62">\n                ',k=c["if"].call(b,(j=b.error,null==j||j===!1?j:j.email),{hash:{},inverse:o.noop,fn:o.program(5,h,e),data:e}),(k||0===k)&&(l+=k),l+='\n                <input type="password" name="password" placeholder="Password" class="',k=c["if"].call(b,(j=b.error,null==j||j===!1?j:j.password),{hash:{},inverse:o.noop,fn:o.program(3,g,e),data:e}),(k||0===k)&&(l+=k),l+='" required maxlength="30">\n                ',k=c["if"].call(b,(j=b.error,null==j||j===!1?j:j.password),{hash:{},inverse:o.noop,fn:o.program(7,i,e),data:e}),(k||0===k)&&(l+=k),l+='\n                <input type="text" name="username_confirm" class="sec_h" required>\n                <input type="submit" value="Sign in" class="btn submit">\n            </form>\n        </div>\n        <a id="forgot_password_link" class="med_text forgot" href="#members.forgot_password">Forgot your password?</a>\n        <footer>\n            <p class="med_text">Not a member? <a id="reglink" href="#members.join">Register here.</a></p>\n        </footer>\n    </section>\n</div>\n\n<script>\n(function() {\n    _M.require({\n        verification_js: \'',(k=c.HEADER_STATIC_MEDIA)?k=k.call(b,{hash:{},data:e}):(k=b.HEADER_STATIC_MEDIA,k=typeof k===m?k.apply(b):k),l+=n(k)+"build/views/verification/verification.js?v=",(k=c.HEADER_VERSION)?k=k.call(b,{hash:{},data:e}):(k=b.HEADER_VERSION,k=typeof k===m?k.apply(b):k),l+=n(k)+"',\n        join_css: '",(k=c.HEADER_STATIC_MEDIA)?k=k.call(b,{hash:{},data:e}):(k=b.HEADER_STATIC_MEDIA,k=typeof k===m?k.apply(b):k),l+=n(k)+"css/join.css?v=",(k=c.HEADER_VERSION)?k=k.call(b,{hash:{},data:e}):(k=b.HEADER_VERSION,k=typeof k===m?k.apply(b):k),l+=n(k)+"',\n    });\n})();\n</script>\n"});