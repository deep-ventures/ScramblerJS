!function(e,t){"use strict";function n(e,t){var n,r;t=t||{},e="raven"+e.substr(0,1).toUpperCase()+e.substr(1),document.createEvent?(n=document.createEvent("HTMLEvents"),n.initEvent(e,!0,!0)):(n=document.createEventObject(),n.eventType=e);for(r in t)u(t,r)&&(n[r]=t[r]);if(document.createEvent)document.dispatchEvent(n);else try{document.fireEvent("on"+n.eventType.toLowerCase(),n)}catch(i){}}function r(e){this.name="RavenConfigError",this.message=e}function i(e){var t=q.exec(e),n={},i=7;try{for(;i--;)n[I[i]]=t[i]||""}catch(o){throw new r("Invalid DSN: "+e)}if(n.pass)throw new r("Do not specify your private key in the DSN!");return n}function o(e){return"undefined"==typeof e}function a(e){return"function"==typeof e}function s(e){return"string"==typeof e}function l(e){for(var t in e)return!1;return!0}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function c(e,t){var n,r;if(o(e.length))for(n in e)u(e,n)&&t.call(null,n,e[n]);else if(r=e.length)for(n=0;r>n;n++)t.call(null,n,e[n])}function f(){O="?sentry_version=4&sentry_client=raven-js/"+N.VERSION+"&sentry_key="+j}function h(e,t){var r=[];e.stack&&e.stack.length&&c(e.stack,function(e,t){var n=p(t);n&&r.push(n)}),n("handle",{stackInfo:e,options:t}),m(e.name,e.message,e.url,e.lineno,r,t)}function p(e){if(e.url){var t,n={filename:e.url,lineno:e.line,colno:e.column,"function":e.func||"?"},r=d(e);if(r){var i=["pre_context","context_line","post_context"];for(t=3;t--;)n[i[t]]=r[t]}return n.in_app=!(!P.includePaths.test(n.filename)||/(Raven|TraceKit)\./.test(n["function"])||/raven\.(min\.)?js$/.test(n.filename)),n}}function d(e){if(e.context&&P.fetchContext){for(var t=e.context,n=~~(t.length/2),r=t.length,i=!1;r--;)if(t[r].length>300){i=!0;break}if(i){if(o(e.column))return;return[[],t[n].substr(e.column,50),[]]}return[t.slice(0,n),t[n],t.slice(n+1)]}}function m(e,t,n,r,i,o){var a,s;t+="",("Error"!==e||t)&&(P.ignoreErrors.test(t)||(i&&i.length?(n=i[0].filename||n,i.reverse(),a={frames:i}):n&&(a={frames:[{filename:n,lineno:r,in_app:!0}]}),t=v(t,100),P.ignoreUrls&&P.ignoreUrls.test(n)||(!P.whitelistUrls||P.whitelistUrls.test(n))&&(s=r?t+" at "+r:t,b(g({exception:{type:e,value:t},stacktrace:a,culprit:n,message:s},o)))))}function g(e,t){return t?(c(t,function(t,n){e[t]=n}),e):e}function v(e,t){return e.length<=t?e:e.substr(0,t)+"â€¦"}function y(){var e={url:document.location.href,headers:{"User-Agent":navigator.userAgent}};return document.referrer&&(e.headers.Referer=document.referrer),e}function b(e){x()&&(e=g({project:L,logger:P.logger,site:P.site,platform:"javascript",request:y()},e),e.tags=g(P.tags,e.tags),e.extra=g(P.extra,e.extra),l(e.tags)&&delete e.tags,l(e.extra)&&delete e.extra,B&&(e.user=B),a(P.dataCallback)&&(e=P.dataCallback(e)),(!a(P.shouldSendCallback)||P.shouldSendCallback(e))&&(E=e.event_id||(e.event_id=_()),w(e)))}function w(e){var t=new Image,r=A+O+"&sentry_data="+encodeURIComponent(JSON.stringify(e));t.onload=function(){n("success",{data:e,src:r})},t.onerror=t.onabort=function(){n("failure",{data:e,src:r})},t.src=r}function x(){return R?A?!0:(M("error","Error: Raven has not been configured."),!1):!1}function k(e){for(var t,n=[],r=0,i=e.length;i>r;r++)t=e[r],s(t)?n.push(t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):t&&t.source&&n.push(t.source);return new RegExp(n.join("|"),"i")}function _(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"==e?t:3&t|8;return n.toString(16)})}function M(t,n){e.console&&console[t]&&N.debug&&console[t](n)}function z(){var t=e.RavenConfig;t&&N.config(t.dsn,t.config).install()}var C={remoteFetching:!1,collectWindowErrors:!0,linesOfContext:7},S=[].slice,D="?";C.wrap=function(e){function t(){try{return e.apply(this,arguments)}catch(t){throw C.report(t),t}}return t},C.report=function(){function n(e){s(),d.push(e)}function r(e){for(var t=d.length-1;t>=0;--t)d[t]===e&&d.splice(t,1)}function i(){l(),d=[]}function o(e,t){var n=null;if(!t||C.collectWindowErrors){for(var r in d)if(u(d,r))try{d[r].apply(null,[e].concat(S.call(arguments,2)))}catch(i){n=i}if(n)throw n}}function a(e,t,n,r,i){var a=null;if(v)C.computeStackTrace.augmentStackTraceWithInitialElement(v,t,n,e),c();else if(i)a=C.computeStackTrace(i),o(a,!0);else{var s={url:t,line:n,column:r};s.func=C.computeStackTrace.guessFunctionName(s.url,s.line),s.context=C.computeStackTrace.gatherContext(s.url,s.line),a={message:e,url:document.location.href,stack:[s]},o(a,!0)}return h?h.apply(this,arguments):!1}function s(){p||(h=e.onerror,e.onerror=a,p=!0)}function l(){p&&(e.onerror=h,p=!1,h=t)}function c(){var e=v,t=m;m=null,v=null,g=null,o.apply(null,[e,!1].concat(t))}function f(t,n){var r=S.call(arguments,1);if(v){if(g===t)return;c()}var i=C.computeStackTrace(t);if(v=i,g=t,m=r,e.setTimeout(function(){g===t&&c()},i.incomplete?2e3:0),n!==!1)throw t}var h,p,d=[],m=null,g=null,v=null;return f.subscribe=n,f.unsubscribe=r,f.uninstall=i,f}(),C.computeStackTrace=function(){function t(t){if(!C.remoteFetching)return"";try{var n=function(){try{return new e.XMLHttpRequest}catch(t){return new e.ActiveXObject("Microsoft.XMLHTTP")}},r=n();return r.open("GET",t,!1),r.send(""),r.responseText}catch(i){return""}}function n(e){if(!s(e))return[];if(!u(x,e)){var n="";-1!==e.indexOf(document.domain)&&(n=t(e)),x[e]=n?n.split("\n"):[]}return x[e]}function r(e,t){var r,i=/function ([^(]*)\(([^)]*)\)/,a=/['"]?([0-9A-Za-z$_]+)['"]?\s*[:=]\s*(function|eval|new Function)/,s="",l=10,u=n(e);if(!u.length)return D;for(var c=0;l>c;++c)if(s=u[t-c]+s,!o(s)){if(r=a.exec(s))return r[1];if(r=i.exec(s))return r[1]}return D}function i(e,t){var r=n(e);if(!r.length)return null;var i=[],a=Math.floor(C.linesOfContext/2),s=a+C.linesOfContext%2,l=Math.max(0,t-a-1),u=Math.min(r.length,t+s-1);t-=1;for(var c=l;u>c;++c)o(r[c])||i.push(r[c]);return i.length>0?i:null}function a(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g,"\\$&")}function l(e){return a(e).replace("<","(?:<|&lt;)").replace(">","(?:>|&gt;)").replace("&","(?:&|&amp;)").replace('"','(?:"|&quot;)').replace(/\s+/g,"\\s+")}function c(e,t){for(var r,i,o=0,a=t.length;a>o;++o)if((r=n(t[o])).length&&(r=r.join("\n"),i=e.exec(r)))return{url:t[o],line:r.substring(0,i.index).split("\n").length,column:i.index-r.lastIndexOf("\n",i.index)-1};return null}function f(e,t,r){var i,o=n(t),s=new RegExp("\\b"+a(e)+"\\b");return r-=1,o&&o.length>r&&(i=s.exec(o[r]))?i.index:null}function h(t){for(var n,r,i,o,s=[e.location.href],u=document.getElementsByTagName("script"),f=""+t,h=/^function(?:\s+([\w$]+))?\s*\(([\w\s,]*)\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,p=/^function on([\w$]+)\s*\(event\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,d=0;d<u.length;++d){var m=u[d];m.src&&s.push(m.src)}if(i=h.exec(f)){var g=i[1]?"\\s+"+i[1]:"",v=i[2].split(",").join("\\s*,\\s*");n=a(i[3]).replace(/;$/,";?"),r=new RegExp("function"+g+"\\s*\\(\\s*"+v+"\\s*\\)\\s*{\\s*"+n+"\\s*}")}else r=new RegExp(a(f).replace(/\s+/g,"\\s+"));if(o=c(r,s))return o;if(i=p.exec(f)){var y=i[1];if(n=l(i[2]),r=new RegExp("on"+y+"=[\\'\"]\\s*"+n+"\\s*[\\'\"]","i"),o=c(r,s[0]))return o;if(r=new RegExp(n),o=c(r,s))return o}return null}function p(e){if(!e.stack)return null;for(var t,n,a=/^\s*at (?:((?:\[object object\])?\S+(?: \[as \S+\])?) )?\(?((?:file|https?|chrome-extension):.*?):(\d+)(?::(\d+))?\)?\s*$/i,s=/^\s*(\S*)(?:\((.*?)\))?@((?:file|https?|chrome).*?):(\d+)(?::(\d+))?\s*$/i,l=e.stack.split("\n"),u=[],c=/^(.*) is undefined$/.exec(e.message),h=0,p=l.length;p>h;++h){if(t=s.exec(l[h]))n={url:t[3],func:t[1]||D,args:t[2]?t[2].split(","):"",line:+t[4],column:t[5]?+t[5]:null};else{if(!(t=a.exec(l[h])))continue;n={url:t[2],func:t[1]||D,line:+t[3],column:t[4]?+t[4]:null}}!n.func&&n.line&&(n.func=r(n.url,n.line)),n.line&&(n.context=i(n.url,n.line)),u.push(n)}return u.length?(u[0].line&&!u[0].column&&c?u[0].column=f(c[1],u[0].url,u[0].line):u[0].column||o(e.columnNumber)||(u[0].column=e.columnNumber+1),{name:e.name,message:e.message,url:document.location.href,stack:u}):null}function d(e){for(var t,n=e.stacktrace,o=/ line (\d+), column (\d+) in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\) in (.*):\s*$/i,a=n.split("\n"),s=[],l=0,u=a.length;u>l;l+=2)if(t=o.exec(a[l])){var c={line:+t[1],column:+t[2],func:t[3]||t[4],args:t[5]?t[5].split(","):[],url:t[6]};if(!c.func&&c.line&&(c.func=r(c.url,c.line)),c.line)try{c.context=i(c.url,c.line)}catch(f){}c.context||(c.context=[a[l+1]]),s.push(c)}return s.length?{name:e.name,message:e.message,url:document.location.href,stack:s}:null}function m(t){var o=t.message.split("\n");if(o.length<4)return null;var a,s,f,h,p=/^\s*Line (\d+) of linked script ((?:file|https?)\S+)(?:: in function (\S+))?\s*$/i,d=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?)\S+)(?:: in function (\S+))?\s*$/i,m=/^\s*Line (\d+) of function script\s*$/i,g=[],v=document.getElementsByTagName("script"),y=[];for(s in v)u(v,s)&&!v[s].src&&y.push(v[s]);for(s=2,f=o.length;f>s;s+=2){var b=null;if(a=p.exec(o[s]))b={url:a[2],func:a[3],line:+a[1]};else if(a=d.exec(o[s])){b={url:a[3],func:a[4]};var w=+a[1],x=y[a[2]-1];if(x&&(h=n(b.url))){h=h.join("\n");var k=h.indexOf(x.innerText);k>=0&&(b.line=w+h.substring(0,k).split("\n").length)}}else if(a=m.exec(o[s])){var _=e.location.href.replace(/#.*$/,""),M=a[1],z=new RegExp(l(o[s+1]));h=c(z,[_]),b={url:_,line:h?h.line:M,func:""}}if(b){b.func||(b.func=r(b.url,b.line));var C=i(b.url,b.line),S=C?C[Math.floor(C.length/2)]:null;C&&S.replace(/^\s*/,"")===o[s+1].replace(/^\s*/,"")?b.context=C:b.context=[o[s+1]],g.push(b)}}return g.length?{name:t.name,message:o[0],url:document.location.href,stack:g}:null}function g(e,t,n,o){var a={url:t,line:n};if(a.url&&a.line){e.incomplete=!1,a.func||(a.func=r(a.url,a.line)),a.context||(a.context=i(a.url,a.line));var s=/ '([^']+)' /.exec(o);if(s&&(a.column=f(s[1],a.url,a.line)),e.stack.length>0&&e.stack[0].url===a.url){if(e.stack[0].line===a.line)return!1;if(!e.stack[0].line&&e.stack[0].func===a.func)return e.stack[0].line=a.line,e.stack[0].context=a.context,!1}return e.stack.unshift(a),e.partial=!0,!0}return e.incomplete=!0,!1}function v(e,t){for(var n,i,o,a=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,s=[],l={},u=!1,c=v.caller;c&&!u;c=c.caller)if(c!==y&&c!==C.report){if(i={url:null,func:D,line:null,column:null},c.name?i.func=c.name:(n=a.exec(c.toString()))&&(i.func=n[1]),o=h(c)){i.url=o.url,i.line=o.line,i.func===D&&(i.func=r(i.url,i.line));var p=/ '([^']+)' /.exec(e.message||e.description);p&&(i.column=f(p[1],o.url,o.line))}l[""+c]?u=!0:l[""+c]=!0,s.push(i)}t&&s.splice(0,t);var d={name:e.name,message:e.message,url:document.location.href,stack:s};return g(d,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description),d}function y(e,t){var n=null;t=null==t?0:+t;try{if(n=d(e))return n}catch(r){if(w)throw r}try{if(n=p(e))return n}catch(r){if(w)throw r}try{if(n=m(e))return n}catch(r){if(w)throw r}try{if(n=v(e,t+1))return n}catch(r){if(w)throw r}return{}}function b(e){e=(null==e?0:+e)+1;try{throw new Error}catch(t){return y(t,e+1)}}var w=!1,x={};return y.augmentStackTraceWithInitialElement=g,y.guessFunctionName=r,y.gatherContext=i,y.ofCaller=b,y}();var T,E,A,B,j,L,O,F=e.Raven,R=!(!e.JSON||!e.JSON.stringify),P={logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],collectWindowErrors:!0,tags:{},extra:{}},H=!1,N={VERSION:"1.1.16",debug:!0,noConflict:function(){return e.Raven=F,N},config:function(e,t){if(A)return M("error","Error: Raven has already been configured"),N;if(!e)return N;var n=i(e),r=n.path.lastIndexOf("/"),o=n.path.substr(1,r);return t&&c(t,function(e,t){P[e]=t}),P.ignoreErrors.push("Script error."),P.ignoreErrors.push("Script error"),P.ignoreErrors.push("Javascript error: Script error on line 0"),P.ignoreErrors.push("Javascript error: Script error. on line 0"),P.ignoreErrors=k(P.ignoreErrors),P.ignoreUrls=P.ignoreUrls.length?k(P.ignoreUrls):!1,P.whitelistUrls=P.whitelistUrls.length?k(P.whitelistUrls):!1,P.includePaths=k(P.includePaths),j=n.user,L=n.path.substr(r+1),A="//"+n.host+(n.port?":"+n.port:"")+"/"+o+"api/"+L+"/store/",n.protocol&&(A=n.protocol+":"+A),P.fetchContext&&(C.remoteFetching=!0),P.linesOfContext&&(C.linesOfContext=P.linesOfContext),C.collectWindowErrors=!!P.collectWindowErrors,f(),N},install:function(){return x()&&!H&&(C.report.subscribe(h),H=!0),N},context:function(e,n,r){return a(e)&&(r=n||[],n=e,e=t),N.wrap(e,n).apply(this,r)},wrap:function(e,n){function r(){for(var t=[],r=arguments.length,i=!e||e&&e.deep!==!1;r--;)t[r]=i?N.wrap(e,arguments[r]):arguments[r];try{return n.apply(this,t)}catch(o){throw N.captureException(o,e),o}}if(o(n)&&!a(e))return e;if(a(e)&&(n=e,e=t),!a(n))return n;if(n.__raven__)return n;for(var i in n)u(n,i)&&(r[i]=n[i]);return r.__raven__=!0,r.__inner__=n,r},uninstall:function(){return C.report.uninstall(),H=!1,N},captureException:function(e,t){if(!(e instanceof Error))return N.captureMessage(e,t);T=e;try{C.report(e,t)}catch(n){if(e!==n)throw n}return N},captureMessage:function(e,t){return b(g({message:e+""},t)),N},setUserContext:function(e){return B=e,N},setExtraContext:function(e){return P.extra=e||{},N},setTagsContext:function(e){return P.tags=e||{},N},lastException:function(){return T},lastEventId:function(){return E}};N.setUser=N.setUserContext;var I="source protocol user pass host port path".split(" "),q=/^(?:(\w+):)?\/\/(\w+)(:\w+)?@([\w\.-]+)(?::(\d+))?(\/.*)/;r.prototype=new Error,r.prototype.constructor=r,z(),e.Raven=N,"function"==typeof define&&define.amd&&define("raven",[],function(){return N})}(this),function(e){"use strict";function t(){this.frames=[],this.lastId=0,this.raf=n,this.batch={hash:{},read:[],write:[],mode:null}}var n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)};t.prototype.read=function(e,t){var n=this.add("read",e,t),r=n.id;this.batch.read.push(n.id);var i="reading"===this.batch.mode||this.batch.scheduled;return i?r:(this.scheduleBatch(),r)},t.prototype.write=function(e,t){var n=this.add("write",e,t),r=this.batch.mode,i=n.id;this.batch.write.push(n.id);var o="writing"===r||"reading"===r||this.batch.scheduled;return o?i:(this.scheduleBatch(),i)},t.prototype.defer=function(e,t,n){"function"==typeof e&&(n=t,t=e,e=1);var r=this,i=e-1;return this.schedule(i,function(){r.run({fn:t,ctx:n})})},t.prototype.clear=function(e){if("function"==typeof e)return this.clearFrame(e);var t=this.batch.hash[e];if(t){var n=this.batch[t.type],r=n.indexOf(e);delete this.batch.hash[e],~r&&n.splice(r,1)}},t.prototype.clearFrame=function(e){var t=this.frames.indexOf(e);~t&&this.frames.splice(t,1)},t.prototype.scheduleBatch=function(){var e=this;this.schedule(0,function(){e.batch.scheduled=!1,e.runBatch()}),this.batch.scheduled=!0},t.prototype.uniqueId=function(){return++this.lastId},t.prototype.flush=function(e){for(var t;t=e.shift();)this.run(this.batch.hash[t])},t.prototype.runBatch=function(){try{this.batch.mode="reading",this.flush(this.batch.read),this.batch.mode="writing",this.flush(this.batch.write),this.batch.mode=null}catch(e){throw this.runBatch(),e}},t.prototype.add=function(e,t,n){var r=this.uniqueId();return this.batch.hash[r]={id:r,fn:t,ctx:n,type:e}},t.prototype.run=function(e){var t=e.ctx||this,n=e.fn;if(delete this.batch.hash[e.id],!this.onError)return n.call(t);try{n.call(t)}catch(r){this.onError(r)}},t.prototype.loop=function(){var e=this,t=this.raf;this.looping||(t(function n(){var r=e.frames.shift();e.frames.length?t(n):e.looping=!1,r&&r()}),this.looping=!0)},t.prototype.schedule=function(e,t){return this.frames[e]?this.schedule(e+1,t):(this.loop(),this.frames[e]=t)},e=e||new t,"undefined"!=typeof module&&module.exports?module.exports=e:"function"==typeof define&&define.amd?define("fastdom",[],function(){return e}):window.fastdom=e}(window.fastdom),window.matchMedia||(window.matchMedia=function(){"use strict";var e,t,n,r=window.styleMedia||window.media;return r||(e=document.createElement("style"),t=document.getElementsByTagName("script")[0],n=null,e.type="text/css",e.id="matchmediajs-test",t.parentNode.insertBefore(e,t),n="getComputedStyle"in window&&window.getComputedStyle(e,null)||e.currentStyle,r={matchMedium:function(t){var r="@media "+t+"{ #matchmediajs-test { width: 1px; } }";return e.styleSheet?e.styleSheet.cssText=r:e.textContent=r,"1px"===n.width}}),function(e){return{matches:r.matchMedium(e||"all"),media:e||"all"}}}()),define("picturefill",["fastdom"],function(e){return function(t,n,r){"use strict";function i(r){var i,s,l,u,c,f=r||{};i=f.elements||o.getAllElements,e.read(function(){o.viewportWidth=Math.max(t.innerWidth||0,n.documentElement.clientWidth);for(var e=0,r=i.length;r>e;e++)s=i[e],l=s.parentNode,u=void 0,c=void 0,"IMG"===s.nodeName.toUpperCase()&&(s[o.ns]||(s[o.ns]={}),(f.reevaluate||!s[o.ns].evaluated)&&(!o.sizesSupported&&s.srcset&&a.test(s.srcset)&&o.dodgeSrcset(s),u?(c=o.processSourceSet(u),o.applyBestCandidate(c,s)):(c=o.processSourceSet(s),(void 0===s.srcset||s[o.ns].srcset)&&o.applyBestCandidate(c,s)),s[o.ns].evaluated=!0))})}if(t.HTMLPictureElement)return function(){};var o=t.picturefill||{},a=/\s+\+?\d+(e\d+)?w/;return o.ns="picturefill",function(){o.srcsetSupported="srcset"in r,o.sizesSupported="sizes"in r,o.curSrcSupported="currentSrc"in r}(),o.trim=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},o.makeUrl=function(){var e=n.createElement("a");return function(t){return e.href=t,e.href}}(),o.canMatchMedia=t.matchMedia&&t.matchMedia("(min-width: 0px)").matches,o.matchesMedia=function(e){return o.canMatchMedia?t.matchMedia&&t.matchMedia(e).matches:!0},o.getDpr=function(){return t.devicePixelRatio||1},o.getWidthFromLength=function(e){return e=e.replace("vw","%"),e=e.indexOf("%")>-1?o.viewportWidth*parseInt(e,10)*.01:parseInt(e,10)},o.parseSize=function(e){var t=/(\([^)]+\))?\s*(.+)/g.exec(e);return{media:t&&t[1],length:t&&t[2]}},o.findWidthFromSourceSize=function(e){var t,n,r,i,a,s,l,u=o.trim(e).split(/\s*,\s*/);for(n=0,r=u.length;r>n&&(i=u[n],a=o.parseSize(i),s=a.length,l=a.media,!s||l&&!o.matchesMedia(l)||!(t=o.getWidthFromLength(s)));n++);return t||o.viewportWidth},o.parseSrcset=function(e){for(var t,n,r,i,o,a=[];""!==e;)e=e.replace(/^\s+/g,""),t=e.search(/\s/g),r=null,-1!==t?(n=e.slice(0,t),i=n.slice(-1),(","===i||""===n)&&(n=n.replace(/,+$/,""),r=""),e=e.slice(t+1),null===r&&(o=e.indexOf(","),-1!==o?(r=e.slice(0,o),e=e.slice(o+1)):(r=e,e=""))):(n=e,e=""),(n||r)&&a.push({url:n,descriptor:r});return a},o.parseDescriptor=function(e,t){var n,r,i,a,s,l,u=t||"100vw",c=e&&e.replace(/(^\s+|\s+$)/g,""),f=o.findWidthFromSourceSize(u);if(c)for(r=c.split(" "),i=r.length-1;i>=0;i--)a=r[i],l=a&&a.slice(a.length-1),"h"!==l&&"w"!==l||o.sizesSupported?"x"===l&&(s=a&&parseFloat(a,10),n=s&&!isNaN(s)?s:1):n=parseFloat(parseInt(a,10)/f);return n||1},o.getCandidatesFromSourceSet=function(e,t){var n,r,i,a=o.parseSrcset(e),s=[];for(r=0,i=a.length;i>r;r++)n=a[r],s.push({url:n.url,resolution:o.parseDescriptor(n.descriptor,t)});return s},o.dodgeSrcset=function(e){e.srcset&&(e[o.ns].srcset=e.srcset,e.srcset="",e.setAttribute("data-pfsrcset",e[o.ns].srcset))},o.processSourceSet=function(e){var t=e.getAttribute("srcset"),n=e.getAttribute("sizes"),r=[];return"IMG"===e.nodeName.toUpperCase()&&e[o.ns]&&e[o.ns].srcset&&(t=e[o.ns].srcset),t&&(r=o.getCandidatesFromSourceSet(t,n)),r},o.applyBestCandidate=function(t,n){var r,i,a,s;for(t.sort(o.ascendingSort),i=t.length,a=t[i-1],s=0;i>s;s++)if(r=t[s],r.resolution>=o.getDpr()){a=r;break}a&&(a.url=o.makeUrl(a.url),n.src!==a.url&&e.write(function(){n.src=a.url,o.curSrcSupported||(n.currentSrc=n.src)}))},o.ascendingSort=function(e,t){return e.resolution-t.resolution},o.getAllElements=function(){var e,t,r,i=[],a=n.getElementsByTagName("img");for(t=0,r=a.length;r>t;t++)e=a[t],("PICTURE"===e.parentNode.nodeName.toUpperCase()||null!==e.getAttribute("srcset")||e[o.ns]&&null!==e[o.ns].srcset)&&i.push(e);return i},i._=o,i}(window,window.document,new window.Image)}),function(){function e(e,t,n){for(var r=(n||0)-1,i=e?e.length:0;++r<i;)if(e[r]===t)return r;return-1}function t(t,n){var r=typeof n;if(t=t.cache,"boolean"==r||null==n)return t[n]?0:-1;"number"!=r&&"string"!=r&&(r="object");var i="number"==r?n:b+n;return t=(t=t[r])&&t[i],"object"==r?t&&e(t,n)>-1?0:-1:t?0:-1}function n(e){var t=this.cache,n=typeof e;if("boolean"==n||null==e)t[e]=!0;else{"number"!=n&&"string"!=n&&(n="object");var r="number"==n?e:b+e,i=t[n]||(t[n]={});"object"==n?(i[r]||(i[r]=[])).push(e):i[r]=!0}}function r(e){return e.charCodeAt(0)}function i(e,t){for(var n=e.criteria,r=t.criteria,i=-1,o=n.length;++i<o;){var a=n[i],s=r[i];if(a!==s){if(a>s||"undefined"==typeof a)return 1;if(s>a||"undefined"==typeof s)return-1}}return e.index-t.index}function o(e){var t=-1,r=e.length,i=e[0],o=e[r/2|0],a=e[r-1];if(i&&"object"==typeof i&&o&&"object"==typeof o&&a&&"object"==typeof a)return!1;var s=l();s["false"]=s["null"]=s["true"]=s.undefined=!1;var u=l();for(u.array=e,u.cache=s,u.push=n;++t<r;)u.push(e[t]);return u}function a(e){return"\\"+Z[e]}function s(){return m.pop()||[]}function l(){return g.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}}function u(e){return"function"!=typeof e.toString&&"string"==typeof(e+"")}function c(e){e.length=0,m.length<x&&m.push(e)}function f(e){var t=e.cache;t&&f(t),e.array=e.cache=e.criteria=e.object=e.number=e.string=e.value=null,g.length<x&&g.push(e)}function h(e,t,n){t||(t=0),"undefined"==typeof n&&(n=e?e.length:0);for(var r=-1,i=n-t||0,o=Array(0>i?0:i);++r<i;)o[r]=e[t+r];return o}function p(n){function m(e){return e&&"object"==typeof e&&!fr(e)&&Un.call(e,"__wrapped__")?e:new g(e)}function g(e,t){this.__chain__=!!t,this.__wrapped__=e}function x(e){function t(){if(r){var e=h(r);Vn.apply(e,arguments)}if(this instanceof t){var o=te(n.prototype),a=n.apply(o,e||arguments);return Re(a)?a:o}return n.apply(i,e||arguments)}var n=e[0],r=e[2],i=e[4];return cr(t,e),t}function Z(e,t,n,r,i){if(n){var o=n(e);if("undefined"!=typeof o)return o}var a=Re(e);if(!a)return e;var l=Rn.call(e);if(!G[l]||!lr.nodeClass&&u(e))return e;var f=ar[l];switch(l){case N:case I:return new f(+e);case U:case K:return new f(e);case W:return o=f(e.source,D.exec(e)),o.lastIndex=e.lastIndex,o}var p=fr(e);if(t){var d=!r;r||(r=s()),i||(i=s());for(var m=r.length;m--;)if(r[m]==e)return i[m];o=p?f(e.length):{}}else o=p?h(e):kr({},e);return p&&(Un.call(e,"index")&&(o.index=e.index),Un.call(e,"input")&&(o.input=e.input)),t?(r.push(e),i.push(o),(p?xr:zr)(e,function(e,a){o[a]=Z(e,t,n,r,i)}),d&&(c(r),c(i)),o):o}function te(e,t){return Re(e)?Jn(e):{}}function ne(e,t,n){if("function"!=typeof e)return on;if("undefined"==typeof t||!("prototype"in e))return e;var r=e.__bindData__;if("undefined"==typeof r&&(lr.funcNames&&(r=!e.name),r=r||!lr.funcDecomp,!r)){var i=qn.call(e);lr.funcNames||(r=!T.test(i)),r||(r=j.test(i),cr(e,r))}if(r===!1||r!==!0&&1&r[1])return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return It(e,t)}function re(e){function t(){var e=l?a:this;if(i){var d=h(i);Vn.apply(d,arguments)}if((o||c)&&(d||(d=h(arguments)),o&&Vn.apply(d,o),c&&d.length<s))return r|=16,re([n,f?r:-4&r,d,null,a,s]);if(d||(d=arguments),u&&(n=e[p]),this instanceof t){e=te(n.prototype);var m=n.apply(e,d);return Re(m)?m:e}return n.apply(e,d)}var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=1&r,u=2&r,c=4&r,f=8&r,p=n;return cr(t,e),t}function ie(n,r){var i=-1,a=me(),s=n?n.length:0,l=s>=w&&a===e,u=[];if(l){var c=o(r);c?(a=t,r=c):l=!1}for(;++i<s;){var h=n[i];a(r,h)<0&&u.push(h)}return l&&f(r),u}function ae(e,t,n,r){for(var i=(r||0)-1,o=e?e.length:0,a=[];++i<o;){var s=e[i];if(s&&"object"==typeof s&&"number"==typeof s.length&&(fr(s)||be(s))){t||(s=ae(s,t,n));var l=-1,u=s.length,c=a.length;for(a.length+=u;++l<u;)a[c++]=s[l]}else n||a.push(s)}return a}function se(e,t,n,r,i,o){if(n){var a=n(e,t);if("undefined"!=typeof a)return!!a}if(e===t)return 0!==e||1/e==1/t;var l=typeof e,f=typeof t;if(!(e!==e||e&&Y[l]||t&&Y[f]))return!1;if(null==e||null==t)return e===t;var h=Rn.call(e),p=Rn.call(t);if(h==P&&(h=V),p==P&&(p=V),h!=p)return!1;switch(h){case N:case I:return+e==+t;case U:return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case W:case K:return e==En(t)}var d=h==H;if(!d){var m=Un.call(e,"__wrapped__"),g=Un.call(t,"__wrapped__");if(m||g)return se(m?e.__wrapped__:e,g?t.__wrapped__:t,n,r,i,o);if(h!=V||!lr.nodeClass&&(u(e)||u(t)))return!1;var v=!lr.argsObject&&be(e)?Dn:e.constructor,y=!lr.argsObject&&be(t)?Dn:t.constructor;if(v!=y&&!(Fe(v)&&v instanceof v&&Fe(y)&&y instanceof y)&&"constructor"in e&&"constructor"in t)return!1}var b=!i;i||(i=s()),o||(o=s());for(var w=i.length;w--;)if(i[w]==e)return o[w]==t;var x=0;if(a=!0,i.push(e),o.push(t),d){if(w=e.length,x=t.length,a=x==w,a||r)for(;x--;){var k=w,_=t[x];if(r)for(;k--&&!(a=se(e[k],_,n,r,i,o)););else if(!(a=se(e[x],_,n,r,i,o)))break}}else Mr(t,function(t,s,l){return Un.call(l,s)?(x++,a=Un.call(e,s)&&se(e[s],t,n,r,i,o)):void 0}),a&&!r&&Mr(e,function(e,t,n){return Un.call(n,t)?a=--x>-1:void 0});return i.pop(),o.pop(),b&&(c(i),c(o)),a}function le(e,t,n,r,i){(fr(t)?rt:zr)(t,function(t,o){var a,s,l=t,u=e[o];if(t&&((s=fr(t))||Cr(t))){for(var c=r.length;c--;)if(a=r[c]==t){u=i[c];break}if(!a){var f;n&&(l=n(u,t),(f="undefined"!=typeof l)&&(u=l)),f||(u=s?fr(u)?u:[]:Cr(u)?u:{}),r.push(t),i.push(u),f||le(u,t,n,r,i)}}else n&&(l=n(u,t),"undefined"==typeof l&&(l=t)),"undefined"!=typeof l&&(u=l);e[o]=u})}function ue(e,t){return e+In(or()*(t-e+1))}function ce(n,r,i){var a=-1,l=me(),u=n?n.length:0,h=[],p=!r&&u>=w&&l===e,d=i||p?s():h;if(p){var m=o(d);l=t,d=m}for(;++a<u;){var g=n[a],v=i?i(g,a,n):g;(r?!a||d[d.length-1]!==v:l(d,v)<0)&&((i||p)&&d.push(v),h.push(g))}return p?(c(d.array),f(d)):i&&c(d),h}function fe(e){return function(t,n,r){var i={};if(n=m.createCallback(n,r,3),fr(t))for(var o=-1,a=t.length;++o<a;){var s=t[o];e(i,s,n(s,o,t),t)}else xr(t,function(t,r,o){e(i,t,n(t,r,o),o)});return i}}function he(e,t,n,r,i,o){var a=1&t,s=2&t,l=4&t,u=16&t,c=32&t;if(!s&&!Fe(e))throw new An;u&&!n.length&&(t&=-17,u=n=!1),c&&!r.length&&(t&=-33,c=r=!1);var f=e&&e.__bindData__;if(f&&f!==!0)return f=h(f),f[2]&&(f[2]=h(f[2])),f[3]&&(f[3]=h(f[3])),!a||1&f[1]||(f[4]=i),!a&&1&f[1]&&(t|=8),!l||4&f[1]||(f[5]=o),u&&Vn.apply(f[2]||(f[2]=[]),n),c&&Qn.apply(f[3]||(f[3]=[]),r),f[1]|=t,he.apply(null,f);var p=1==t||17===t?x:re;return p([e,t,n,r,i,o])}function pe(){J.shadowedProps=F,J.array=J.bottom=J.loop=J.top="",J.init="iterable",J.useHas=!0;for(var e,t=0;e=arguments[t];t++)for(var n in e)J[n]=e[n];var r=J.args;J.firstArg=/^[^,]+/.exec(r)[0];var i=zn("baseCreateCallback, errorClass, errorProto, hasOwnProperty, indicatorObject, isArguments, isArray, isString, keys, objectProto, objectTypes, nonEnumProps, stringClass, stringProto, toString","return function("+r+") {\n"+ur(J)+"\n}");return i(ne,q,jn,Un,y,be,fr,qe,J.keys,Ln,Y,sr,K,On,Rn)}function de(e){return vr[e]}function me(){var t=(t=m.indexOf)===Mt?e:t;return t}function ge(e){return"function"==typeof e&&Pn.test(e)}function ve(e){var t,n;return!e||Rn.call(e)!=V||(t=e.constructor,Fe(t)&&!(t instanceof t))||!lr.argsClass&&be(e)||!lr.nodeClass&&u(e)?!1:lr.ownLast?(Mr(e,function(e,t,r){return n=Un.call(r,t),!1}),n!==!1):(Mr(e,function(e,t){n=t}),"undefined"==typeof n||Un.call(e,n))}function ye(e){return yr[e]}function be(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Rn.call(e)==P||!1}function we(e,t,n,r){return"boolean"!=typeof t&&null!=t&&(r=n,n=t,t=!1),Z(e,t,"function"==typeof n&&ne(n,r,1))}function xe(e,t,n){return Z(e,!0,"function"==typeof t&&ne(t,n,1))}function ke(e,t){var n=te(e);return t?kr(n,t):n}function _e(e,t,n){var r;return t=m.createCallback(t,n,3),zr(e,function(e,n,i){return t(e,n,i)?(r=n,!1):void 0}),r}function Me(e,t,n){var r;return t=m.createCallback(t,n,3),Ce(e,function(e,n,i){return t(e,n,i)?(r=n,!1):void 0}),r}function ze(e,t,n){var r=[];Mr(e,function(e,t){r.push(t,e)});var i=r.length;for(t=ne(t,n,3);i--&&t(r[i--],r[i],e)!==!1;);return e}function Ce(e,t,n){var r=pr(e),i=r.length;for(t=ne(t,n,3);i--;){var o=r[i];if(t(e[o],o,e)===!1)break}return e}function Se(e){var t=[];return Mr(e,function(e,n){Fe(e)&&t.push(n)}),t.sort()}function De(e,t){return e?Un.call(e,t):!1}function Te(e){for(var t=-1,n=pr(e),r=n.length,i={};++t<r;){var o=n[t];i[e[o]]=o}return i}function Ee(e){return e===!0||e===!1||e&&"object"==typeof e&&Rn.call(e)==N||!1}function Ae(e){return e&&"object"==typeof e&&Rn.call(e)==I||!1}function Be(e){return e&&1===e.nodeType||!1}function je(e){var t=!0;if(!e)return t;var n=Rn.call(e),r=e.length;return n==H||n==K||(lr.argsClass?n==P:be(e))||n==V&&"number"==typeof r&&Fe(e.splice)?!r:(zr(e,function(){return t=!1}),t)}function Le(e,t,n,r){return se(e,t,"function"==typeof n&&ne(n,r,2))}function Oe(e){return Zn(e)&&!er(parseFloat(e))}function Fe(e){return"function"==typeof e}function Re(e){return!(!e||!Y[typeof e])}function Pe(e){return Ne(e)&&e!=+e}function He(e){return null===e}function Ne(e){return"number"==typeof e||e&&"object"==typeof e&&Rn.call(e)==U||!1}function Ie(e){return e&&Y[typeof e]&&Rn.call(e)==W||!1}function qe(e){return"string"==typeof e||e&&"object"==typeof e&&Rn.call(e)==K||!1}function $e(e){return"undefined"==typeof e}function Ue(e,t,n){var r={};return t=m.createCallback(t,n,3),zr(e,function(e,n,i){r[n]=t(e,n,i)}),r}function Ve(e){var t=arguments,n=2;if(!Re(e))return e;if("number"!=typeof t[2]&&(n=t.length),n>3&&"function"==typeof t[n-2])var r=ne(t[--n-1],t[n--],2);else n>2&&"function"==typeof t[n-1]&&(r=t[--n]);for(var i=h(arguments,1,n),o=-1,a=s(),l=s();++o<n;)le(e,i[o],r,a,l);return c(a),c(l),e}function We(e,t,n){var r={};if("function"!=typeof t){var i=[];Mr(e,function(e,t){i.push(t)}),i=ie(i,ae(arguments,!0,!1,1));for(var o=-1,a=i.length;++o<a;){var s=i[o];r[s]=e[s]}}else t=m.createCallback(t,n,3),Mr(e,function(e,n,i){t(e,n,i)||(r[n]=e)});return r}function Ke(e){for(var t=-1,n=pr(e),r=n.length,i=xn(r);++t<r;){var o=n[t];i[t]=[o,e[o]]}return i}function Ge(e,t,n){var r={};if("function"!=typeof t)for(var i=-1,o=ae(arguments,!0,!1,1),a=Re(e)?o.length:0;++i<a;){var s=o[i];s in e&&(r[s]=e[s])}else t=m.createCallback(t,n,3),Mr(e,function(e,n,i){t(e,n,i)&&(r[n]=e)});return r}function Qe(e,t,n,r){var i=fr(e);if(null==n)if(i)n=[];else{var o=e&&e.constructor,a=o&&o.prototype;n=te(a)}return t&&(t=m.createCallback(t,r,4),(i?xr:zr)(e,function(e,r,i){return t(n,e,r,i)})),n}function Xe(e){for(var t=-1,n=pr(e),r=n.length,i=xn(r);++t<r;)i[t]=e[n[t]];return i}function Je(e){var t=arguments,n=-1,r=ae(t,!0,!1,1),i=t[2]&&t[2][t[1]]===e?1:r.length,o=xn(i);for(lr.unindexedChars&&qe(e)&&(e=e.split(""));++n<i;)o[n]=e[r[n]];return o}function Ye(e,t,n){var r=-1,i=me(),o=e?e.length:0,a=!1;return n=(0>n?nr(0,o+n):n)||0,fr(e)?a=i(e,t,n)>-1:"number"==typeof o?a=(qe(e)?e.indexOf(t,n):i(e,t,n))>-1:xr(e,function(e){return++r>=n?!(a=e===t):void 0}),a}function Ze(e,t,n){var r=!0;if(t=m.createCallback(t,n,3),fr(e))for(var i=-1,o=e.length;++i<o&&(r=!!t(e[i],i,e)););else xr(e,function(e,n,i){return r=!!t(e,n,i)});return r}function et(e,t,n){var r=[];if(t=m.createCallback(t,n,3),fr(e))for(var i=-1,o=e.length;++i<o;){var a=e[i];t(a,i,e)&&r.push(a)}else xr(e,function(e,n,i){t(e,n,i)&&r.push(e)});return r}function tt(e,t,n){if(t=m.createCallback(t,n,3),!fr(e)){var r;return xr(e,function(e,n,i){return t(e,n,i)?(r=e,!1):void 0}),r}for(var i=-1,o=e.length;++i<o;){var a=e[i];if(t(a,i,e))return a}}function nt(e,t,n){var r;return t=m.createCallback(t,n,3),it(e,function(e,n,i){return t(e,n,i)?(r=e,!1):void 0}),r}function rt(e,t,n){if(t&&"undefined"==typeof n&&fr(e))for(var r=-1,i=e.length;++r<i&&t(e[r],r,e)!==!1;);else xr(e,t,n);return e}function it(e,t,n){var r=e,i=e?e.length:0;if(t=t&&"undefined"==typeof n?t:ne(t,n,3),fr(e))for(;i--&&t(e[i],i,e)!==!1;);else{if("number"!=typeof i){var o=pr(e);i=o.length}else lr.unindexedChars&&qe(e)&&(r=e.split(""));xr(e,function(e,n,a){
return n=o?o[--i]:--i,t(r[n],n,a)})}return e}function ot(e,t){var n=h(arguments,2),r=-1,i="function"==typeof t,o=e?e.length:0,a=xn("number"==typeof o?o:0);return rt(e,function(e){a[++r]=(i?t:e[t]).apply(e,n)}),a}function at(e,t,n){var r=-1,i=e?e.length:0,o=xn("number"==typeof i?i:0);if(t=m.createCallback(t,n,3),fr(e))for(;++r<i;)o[r]=t(e[r],r,e);else xr(e,function(e,n,i){o[++r]=t(e,n,i)});return o}function st(e,t,n){var i=-(1/0),o=i;if("function"!=typeof t&&n&&n[t]===e&&(t=null),null==t&&fr(e))for(var a=-1,s=e.length;++a<s;){var l=e[a];l>o&&(o=l)}else t=null==t&&qe(e)?r:m.createCallback(t,n,3),xr(e,function(e,n,r){var a=t(e,n,r);a>i&&(i=a,o=e)});return o}function lt(e,t,n){var i=1/0,o=i;if("function"!=typeof t&&n&&n[t]===e&&(t=null),null==t&&fr(e))for(var a=-1,s=e.length;++a<s;){var l=e[a];o>l&&(o=l)}else t=null==t&&qe(e)?r:m.createCallback(t,n,3),xr(e,function(e,n,r){var a=t(e,n,r);i>a&&(i=a,o=e)});return o}function ut(e,t,n,r){var i=arguments.length<3;if(t=m.createCallback(t,r,4),fr(e)){var o=-1,a=e.length;for(i&&(n=e[++o]);++o<a;)n=t(n,e[o],o,e)}else xr(e,function(e,r,o){n=i?(i=!1,e):t(n,e,r,o)});return n}function ct(e,t,n,r){var i=arguments.length<3;return t=m.createCallback(t,r,4),it(e,function(e,r,o){n=i?(i=!1,e):t(n,e,r,o)}),n}function ft(e,t,n){return t=m.createCallback(t,n,3),et(e,function(e,n,r){return!t(e,n,r)})}function ht(e,t,n){if(e&&"number"!=typeof e.length?e=Xe(e):lr.unindexedChars&&qe(e)&&(e=e.split("")),null==t||n)return e?e[ue(0,e.length-1)]:d;var r=pt(e);return r.length=rr(nr(0,t),r.length),r}function pt(e){var t=-1,n=e?e.length:0,r=xn("number"==typeof n?n:0);return rt(e,function(e){var n=ue(0,++t);r[t]=r[n],r[n]=e}),r}function dt(e){var t=e?e.length:0;return"number"==typeof t?t:pr(e).length}function mt(e,t,n){var r;if(t=m.createCallback(t,n,3),fr(e))for(var i=-1,o=e.length;++i<o&&!(r=t(e[i],i,e)););else xr(e,function(e,n,i){return!(r=t(e,n,i))});return!!r}function gt(e,t,n){var r=-1,o=fr(t),a=e?e.length:0,u=xn("number"==typeof a?a:0);for(o||(t=m.createCallback(t,n,3)),rt(e,function(e,n,i){var a=u[++r]=l();o?a.criteria=at(t,function(t){return e[t]}):(a.criteria=s())[0]=t(e,n,i),a.index=r,a.value=e}),a=u.length,u.sort(i);a--;){var h=u[a];u[a]=h.value,o||c(h.criteria),f(h)}return u}function vt(e){return e&&"number"==typeof e.length?lr.unindexedChars&&qe(e)?e.split(""):h(e):Xe(e)}function yt(e){for(var t=-1,n=e?e.length:0,r=[];++t<n;){var i=e[t];i&&r.push(i)}return r}function bt(e){return ie(e,ae(arguments,!0,!0,1))}function wt(e,t,n){var r=-1,i=e?e.length:0;for(t=m.createCallback(t,n,3);++r<i;)if(t(e[r],r,e))return r;return-1}function xt(e,t,n){var r=e?e.length:0;for(t=m.createCallback(t,n,3);r--;)if(t(e[r],r,e))return r;return-1}function kt(e,t,n){var r=0,i=e?e.length:0;if("number"!=typeof t&&null!=t){var o=-1;for(t=m.createCallback(t,n,3);++o<i&&t(e[o],o,e);)r++}else if(r=t,null==r||n)return e?e[0]:d;return h(e,0,rr(nr(0,r),i))}function _t(e,t,n,r){return"boolean"!=typeof t&&null!=t&&(r=n,n="function"!=typeof t&&r&&r[t]===e?null:t,t=!1),null!=n&&(e=at(e,n,r)),ae(e,t)}function Mt(t,n,r){if("number"==typeof r){var i=t?t.length:0;r=0>r?nr(0,i+r):r||0}else if(r){var o=jt(t,n);return t[o]===n?o:-1}return e(t,n,r)}function zt(e,t,n){var r=0,i=e?e.length:0;if("number"!=typeof t&&null!=t){var o=i;for(t=m.createCallback(t,n,3);o--&&t(e[o],o,e);)r++}else r=null==t||n?1:t||r;return h(e,0,rr(nr(0,i-r),i))}function Ct(){for(var n=[],r=-1,i=arguments.length,a=s(),l=me(),u=l===e,h=s();++r<i;){var p=arguments[r];(fr(p)||be(p))&&(n.push(p),a.push(u&&p.length>=w&&o(r?n[r]:h)))}var d=n[0],m=-1,g=d?d.length:0,v=[];e:for(;++m<g;){var y=a[0];if(p=d[m],(y?t(y,p):l(h,p))<0){for(r=i,(y||h).push(p);--r;)if(y=a[r],(y?t(y,p):l(n[r],p))<0)continue e;v.push(p)}}for(;i--;)y=a[i],y&&f(y);return c(a),c(h),v}function St(e,t,n){var r=0,i=e?e.length:0;if("number"!=typeof t&&null!=t){var o=i;for(t=m.createCallback(t,n,3);o--&&t(e[o],o,e);)r++}else if(r=t,null==r||n)return e?e[i-1]:d;return h(e,nr(0,i-r))}function Dt(e,t,n){var r=e?e.length:0;for("number"==typeof n&&(r=(0>n?nr(0,r+n):rr(n,r-1))+1);r--;)if(e[r]===t)return r;return-1}function Tt(e){for(var t=arguments,n=0,r=t.length,i=e?e.length:0;++n<r;)for(var o=-1,a=t[n];++o<i;)e[o]===a&&(Gn.call(e,o--,1),i--);return e}function Et(e,t,n){e=+e||0,n="number"==typeof n?n:+n||1,null==t&&(t=e,e=0);for(var r=-1,i=nr(0,Hn((t-e)/(n||1))),o=xn(i);++r<i;)o[r]=e,e+=n;return o}function At(e,t,n){var r=-1,i=e?e.length:0,o=[];for(t=m.createCallback(t,n,3);++r<i;){var a=e[r];t(a,r,e)&&(o.push(a),Gn.call(e,r--,1),i--)}return o}function Bt(e,t,n){if("number"!=typeof t&&null!=t){var r=0,i=-1,o=e?e.length:0;for(t=m.createCallback(t,n,3);++i<o&&t(e[i],i,e);)r++}else r=null==t||n?1:nr(0,t);return h(e,r)}function jt(e,t,n,r){var i=0,o=e?e.length:i;for(n=n?m.createCallback(n,r,1):on,t=n(t);o>i;){var a=i+o>>>1;n(e[a])<t?i=a+1:o=a}return i}function Lt(){return ce(ae(arguments,!0,!0))}function Ot(e,t,n,r){return"boolean"!=typeof t&&null!=t&&(r=n,n="function"!=typeof t&&r&&r[t]===e?null:t,t=!1),null!=n&&(n=m.createCallback(n,r,3)),ce(e,t,n)}function Ft(e){return ie(e,h(arguments,1))}function Rt(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(fr(n)||be(n))var r=r?ce(ie(r,n).concat(ie(n,r))):n}return r||[]}function Pt(){for(var e=arguments.length>1?arguments:arguments[0],t=-1,n=e?st(Er(e,"length")):0,r=xn(0>n?0:n);++t<n;)r[t]=Er(e,t);return r}function Ht(e,t){var n=-1,r=e?e.length:0,i={};for(t||!r||fr(e[0])||(t=[]);++n<r;){var o=e[n];t?i[o]=t[n]:o&&(i[o[0]]=o[1])}return i}function Nt(e,t){if(!Fe(t))throw new An;return function(){return--e<1?t.apply(this,arguments):void 0}}function It(e,t){return arguments.length>2?he(e,17,h(arguments,2),null,t):he(e,1,null,null,t)}function qt(e){for(var t=arguments.length>1?ae(arguments,!0,!1,1):Se(e),n=-1,r=t.length;++n<r;){var i=t[n];e[i]=he(e[i],1,null,null,e)}return e}function $t(e,t){return arguments.length>2?he(t,19,h(arguments,2),null,e):he(t,3,null,null,e)}function Ut(){for(var e=arguments,t=e.length;t--;)if(!Fe(e[t]))throw new An;return function(){for(var t=arguments,n=e.length;n--;)t=[e[n].apply(this,t)];return t[0]}}function Vt(e,t){return t="number"==typeof t?t:+t||e.length,he(e,4,null,null,null,t)}function Wt(e,t,n){var r,i,o,a,s,l,u,c=0,f=!1,h=!0;if(!Fe(e))throw new An;if(t=nr(0,t)||0,n===!0){var p=!0;h=!1}else Re(n)&&(p=n.leading,f="maxWait"in n&&(nr(t,n.maxWait)||0),h="trailing"in n?n.trailing:h);var m=function(){var n=t-(Br()-a);if(0>=n){i&&Nn(i);var f=u;i=l=u=d,f&&(c=Br(),o=e.apply(s,r),l||i||(r=s=null))}else l=Kn(m,n)},g=function(){l&&Nn(l),i=l=u=d,(h||f!==t)&&(c=Br(),o=e.apply(s,r),l||i||(r=s=null))};return function(){if(r=arguments,a=Br(),s=this,u=h&&(l||!p),f===!1)var n=p&&!l;else{i||p||(c=a);var d=f-(a-c),v=0>=d;v?(i&&(i=Nn(i)),c=a,o=e.apply(s,r)):i||(i=Kn(g,d))}return v&&l?l=Nn(l):l||t===f||(l=Kn(m,t)),n&&(v=!0,o=e.apply(s,r)),!v||l||i||(r=s=null),o}}function Kt(e){if(!Fe(e))throw new An;var t=h(arguments,1);return Kn(function(){e.apply(d,t)},1)}function Gt(e,t){if(!Fe(e))throw new An;var n=h(arguments,2);return Kn(function(){e.apply(d,n)},t)}function Qt(e,t){if(!Fe(e))throw new An;var n=function(){var r=n.cache,i=t?t.apply(this,arguments):b+arguments[0];return Un.call(r,i)?r[i]:r[i]=e.apply(this,arguments)};return n.cache={},n}function Xt(e){var t,n;if(!Fe(e))throw new An;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}}function Jt(e){return he(e,16,h(arguments,1))}function Yt(e){return he(e,32,null,h(arguments,1))}function Zt(e,t,n){var r=!0,i=!0;if(!Fe(e))throw new An;return n===!1?r=!1:Re(n)&&(r="leading"in n?n.leading:r,i="trailing"in n?n.trailing:i),Q.leading=r,Q.maxWait=t,Q.trailing=i,Wt(e,t,Q)}function en(e,t){return he(t,16,[e])}function tn(e){return function(){return e}}function nn(e,t,n){var r=typeof e;if(null==e||"function"==r)return ne(e,t,n);if("object"!=r)return un(e);var i=pr(e),o=i[0],a=e[o];return 1!=i.length||a!==a||Re(a)?function(t){for(var n=i.length,r=!1;n--&&(r=se(t[i[n]],e[i[n]],null,!0)););return r}:function(e){var t=e[o];return a===t&&(0!==a||1/a==1/t)}}function rn(e){return null==e?"":En(e).replace(wr,de)}function on(e){return e}function an(e,t,n){var r=!0,i=t&&Se(t);t&&(n||i.length)||(null==n&&(n=t),o=g,t=e,e=m,i=Se(t)),n===!1?r=!1:Re(n)&&"chain"in n&&(r=n.chain);var o=e,a=Fe(o);rt(i,function(n){var i=e[n]=t[n];a&&(o.prototype[n]=function(){var t=this.__chain__,n=this.__wrapped__,a=[n];Vn.apply(a,arguments);var s=i.apply(e,a);if(r||t){if(n===s&&Re(s))return this;s=new o(s),s.__chain__=t}return s})})}function sn(){return n._=Fn,this}function ln(){}function un(e){return function(t){return t[e]}}function cn(e,t,n){var r=null==e,i=null==t;if(null==n&&("boolean"==typeof e&&i?(n=e,e=1):i||"boolean"!=typeof t||(n=t,i=!0)),r&&i&&(t=1),e=+e||0,i?(t=e,e=0):t=+t||0,n||e%1||t%1){var o=or();return rr(e+o*(t-e+parseFloat("1e-"+((o+"").length-1))),t)}return ue(e,t)}function fn(e,t){if(e){var n=e[t];return Fe(n)?e[t]():n}}function hn(e,t,n){var r=m.templateSettings;e=En(e||""),n=_r({},n,r);var i,o=_r({},n.imports,r.imports),s=pr(o),l=Xe(o),u=0,c=n.interpolate||B,f="__p += '",h=Tn((n.escape||B).source+"|"+c.source+"|"+(c===E?S:B).source+"|"+(n.evaluate||B).source+"|$","g");e.replace(h,function(t,n,r,o,s,l){return r||(r=o),f+=e.slice(u,l).replace(L,a),n&&(f+="' +\n__e("+n+") +\n'"),s&&(i=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=l+t.length,t}),f+="';\n";var p=n.variable,g=p;g||(p="obj",f="with ("+p+") {\n"+f+"\n}\n"),f=(i?f.replace(M,""):f).replace(z,"$1").replace(C,"$1;"),f="function("+p+") {\n"+(g?"":p+" || ("+p+" = {});\n")+"var __t, __p = '', __e = _.escape"+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var v="\n/*\n//# sourceURL="+(n.sourceURL||"/lodash/template/source["+R++ +"]")+"\n*/";try{var y=zn(s,"return "+f+v).apply(d,l)}catch(b){throw b.source=f,b}return t?y(t):(y.source=f,y)}function pn(e,t,n){e=(e=+e)>-1?e:0;var r=-1,i=xn(e);for(t=ne(t,n,1);++r<e;)i[r]=t(r);return i}function dn(e){return null==e?"":En(e).replace(br,ye)}function mn(e){var t=++v;return En(null==e?"":e)+t}function gn(e){return e=new g(e),e.__chain__=!0,e}function vn(e,t){return t(e),e}function yn(){return this.__chain__=!0,this}function bn(){return En(this.__wrapped__)}function wn(){return this.__wrapped__}n=n?oe.defaults(ee.Object(),n,oe.pick(ee,O)):ee;var xn=n.Array,kn=n.Boolean,_n=n.Date,Mn=n.Error,zn=n.Function,Cn=n.Math,Sn=n.Number,Dn=n.Object,Tn=n.RegExp,En=n.String,An=n.TypeError,Bn=[],jn=Mn.prototype,Ln=Dn.prototype,On=En.prototype,Fn=n._,Rn=Ln.toString,Pn=Tn("^"+En(Rn).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),Hn=Cn.ceil,Nn=n.clearTimeout,In=Cn.floor,qn=zn.prototype.toString,$n=ge($n=Dn.getPrototypeOf)&&$n,Un=Ln.hasOwnProperty,Vn=Bn.push,Wn=Ln.propertyIsEnumerable,Kn=n.setTimeout,Gn=Bn.splice,Qn=Bn.unshift,Xn=function(){try{var e={},t=ge(t=Dn.defineProperty)&&t,n=t(e,e,e)&&t}catch(r){}return n}(),Jn=ge(Jn=Dn.create)&&Jn,Yn=ge(Yn=xn.isArray)&&Yn,Zn=n.isFinite,er=n.isNaN,tr=ge(tr=Dn.keys)&&tr,nr=Cn.max,rr=Cn.min,ir=n.parseInt,or=Cn.random,ar={};ar[H]=xn,ar[N]=kn,ar[I]=_n,ar[$]=zn,ar[V]=Dn,ar[U]=Sn,ar[W]=Tn,ar[K]=En;var sr={};sr[H]=sr[I]=sr[U]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},sr[N]=sr[K]={constructor:!0,toString:!0,valueOf:!0},sr[q]=sr[$]=sr[W]={constructor:!0,toString:!0},sr[V]={constructor:!0},function(){for(var e=F.length;e--;){var t=F[e];for(var n in sr)Un.call(sr,n)&&!Un.call(sr[n],t)&&(sr[n][t]=!1)}}(),g.prototype=m.prototype;var lr=m.support={};!function(){var e=function(){this.x=1},t={0:1,length:1},r=[];e.prototype={valueOf:1,y:1};for(var i in new e)r.push(i);for(i in arguments);lr.argsClass=Rn.call(arguments)==P,lr.argsObject=arguments.constructor==Dn&&!(arguments instanceof xn),lr.enumErrorProps=Wn.call(jn,"message")||Wn.call(jn,"name"),lr.enumPrototypes=Wn.call(e,"prototype"),lr.funcDecomp=!ge(n.WinRTError)&&j.test(p),lr.funcNames="string"==typeof zn.name,lr.nonEnumArgs=0!=i,lr.nonEnumShadows=!/valueOf/.test(r),lr.ownLast="x"!=r[0],lr.spliceObjects=(Bn.splice.call(t,0,1),!t[0]),lr.unindexedChars="x"[0]+Dn("x")[0]!="xx";try{lr.nodeClass=!(Rn.call(document)==V&&!({toString:0}+""))}catch(o){lr.nodeClass=!0}}(1),m.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:E,variable:"",imports:{_:m}};var ur=function(e){var t="var index, iterable = "+e.firstArg+", result = "+e.init+";\nif (!iterable) return result;\n"+e.top+";";e.array?(t+="\nvar length = iterable.length; index = -1;\nif ("+e.array+") {  ",lr.unindexedChars&&(t+="\n  if (isString(iterable)) {\n    iterable = iterable.split('')\n  }  "),t+="\n  while (++index < length) {\n    "+e.loop+";\n  }\n}\nelse {  "):lr.nonEnumArgs&&(t+="\n  var length = iterable.length; index = -1;\n  if (length && isArguments(iterable)) {\n    while (++index < length) {\n      index += '';\n      "+e.loop+";\n    }\n  } else {  "),lr.enumPrototypes&&(t+="\n  var skipProto = typeof iterable == 'function';\n  "),lr.enumErrorProps&&(t+="\n  var skipErrorProps = iterable === errorProto || iterable instanceof Error;\n  ");var n=[];if(lr.enumPrototypes&&n.push('!(skipProto && index == "prototype")'),lr.enumErrorProps&&n.push('!(skipErrorProps && (index == "message" || index == "name"))'),e.useHas&&e.keys)t+="\n  var ownIndex = -1,\n      ownProps = objectTypes[typeof iterable] && keys(iterable),\n      length = ownProps ? ownProps.length : 0;\n\n  while (++ownIndex < length) {\n    index = ownProps[ownIndex];\n",n.length&&(t+="    if ("+n.join(" && ")+") {\n  "),t+=e.loop+";    ",n.length&&(t+="\n    }"),t+="\n  }  ";else if(t+="\n  for (index in iterable) {\n",e.useHas&&n.push("hasOwnProperty.call(iterable, index)"),n.length&&(t+="    if ("+n.join(" && ")+") {\n  "),t+=e.loop+";    ",n.length&&(t+="\n    }"),t+="\n  }    ",lr.nonEnumShadows){for(t+="\n\n  if (iterable !== objectProto) {\n    var ctor = iterable.constructor,\n        isProto = iterable === (ctor && ctor.prototype),\n        className = iterable === stringProto ? stringClass : iterable === errorProto ? errorClass : toString.call(iterable),\n        nonEnum = nonEnumProps[className];\n      ",k=0;k<7;k++)t+="\n    index = '"+e.shadowedProps[k]+"';\n    if ((!(isProto && nonEnum[index]) && hasOwnProperty.call(iterable, index))",e.useHas||(t+=" || (!nonEnum[index] && iterable[index] !== objectProto[index])"),t+=") {\n      "+e.loop+";\n    }      ";t+="\n  }    "}return(e.array||lr.nonEnumArgs)&&(t+="\n}"),t+=e.bottom+";\nreturn result"};Jn||(te=function(){function e(){}return function(t){if(Re(t)){e.prototype=t;var r=new e;e.prototype=null}return r||n.Object()}}());var cr=Xn?function(e,t){X.value=t,Xn(e,"__bindData__",X)}:ln;lr.argsClass||(be=function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Un.call(e,"callee")&&!Wn.call(e,"callee")||!1});var fr=Yn||function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Rn.call(e)==H||!1},hr=pe({args:"object",init:"[]",top:"if (!(objectTypes[typeof object])) return result",loop:"result.push(index)"}),pr=tr?function(e){return Re(e)?lr.enumPrototypes&&"function"==typeof e||lr.nonEnumArgs&&e.length&&be(e)?hr(e):tr(e):[]}:hr,dr={args:"collection, callback, thisArg",top:"callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3)",array:"typeof length == 'number'",keys:pr,loop:"if (callback(iterable[index], index, collection) === false) return result"},mr={args:"object, source, guard",top:"var args = arguments,\n    argsIndex = 0,\n    argsLength = typeof guard == 'number' ? 2 : args.length;\nwhile (++argsIndex < argsLength) {\n  iterable = args[argsIndex];\n  if (iterable && objectTypes[typeof iterable]) {",keys:pr,loop:"if (typeof result[index] == 'undefined') result[index] = iterable[index]",bottom:"  }\n}"},gr={top:"if (!objectTypes[typeof iterable]) return result;\n"+dr.top,array:!1},vr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},yr=Te(vr),br=Tn("("+pr(yr).join("|")+")","g"),wr=Tn("["+pr(vr).join("")+"]","g"),xr=pe(dr),kr=pe(mr,{top:mr.top.replace(";",";\nif (argsLength > 3 && typeof args[argsLength - 2] == 'function') {\n  var callback = baseCreateCallback(args[--argsLength - 1], args[argsLength--], 2);\n} else if (argsLength > 2 && typeof args[argsLength - 1] == 'function') {\n  callback = args[--argsLength];\n}"),loop:"result[index] = callback ? callback(result[index], iterable[index]) : iterable[index]"}),_r=pe(mr),Mr=pe(dr,gr,{useHas:!1}),zr=pe(dr,gr);Fe(/x/)&&(Fe=function(e){return"function"==typeof e&&Rn.call(e)==$});var Cr=$n?function(e){if(!e||Rn.call(e)!=V||!lr.argsClass&&be(e))return!1;var t=e.valueOf,n=ge(t)&&(n=$n(t))&&$n(n);return n?e==n||$n(e)==n:ve(e)}:ve,Sr=fe(function(e,t,n){Un.call(e,n)?e[n]++:e[n]=1}),Dr=fe(function(e,t,n){(Un.call(e,n)?e[n]:e[n]=[]).push(t)}),Tr=fe(function(e,t,n){e[n]=t}),Er=at,Ar=et,Br=ge(Br=_n.now)&&Br||function(){return(new _n).getTime()},jr=8==ir(_+"08")?ir:function(e,t){return ir(qe(e)?e.replace(A,""):e,t||0)};return m.after=Nt,m.assign=kr,m.at=Je,m.bind=It,m.bindAll=qt,m.bindKey=$t,m.chain=gn,m.compact=yt,m.compose=Ut,m.constant=tn,m.countBy=Sr,m.create=ke,m.createCallback=nn,m.curry=Vt,m.debounce=Wt,m.defaults=_r,m.defer=Kt,m.delay=Gt,m.difference=bt,m.filter=et,m.flatten=_t,m.forEach=rt,m.forEachRight=it,m.forIn=Mr,m.forInRight=ze,m.forOwn=zr,m.forOwnRight=Ce,m.functions=Se,m.groupBy=Dr,m.indexBy=Tr,m.initial=zt,m.intersection=Ct,m.invert=Te,m.invoke=ot,m.keys=pr,m.map=at,m.mapValues=Ue,m.max=st,m.memoize=Qt,m.merge=Ve,m.min=lt,m.omit=We,m.once=Xt,m.pairs=Ke,m.partial=Jt,m.partialRight=Yt,m.pick=Ge,m.pluck=Er,m.property=un,m.pull=Tt,m.range=Et,m.reject=ft,m.remove=At,m.rest=Bt,m.shuffle=pt,m.sortBy=gt,m.tap=vn,m.throttle=Zt,m.times=pn,m.toArray=vt,m.transform=Qe,m.union=Lt,m.uniq=Ot,m.values=Xe,m.where=Ar,m.without=Ft,m.wrap=en,m.xor=Rt,m.zip=Pt,m.zipObject=Ht,m.collect=at,m.drop=Bt,m.each=rt,m.eachRight=it,m.extend=kr,m.methods=Se,m.object=Ht,m.select=et,m.tail=Bt,m.unique=Ot,m.unzip=Pt,an(m),m.clone=we,m.cloneDeep=xe,m.contains=Ye,m.escape=rn,m.every=Ze,m.find=tt,m.findIndex=wt,m.findKey=_e,m.findLast=nt,m.findLastIndex=xt,m.findLastKey=Me,m.has=De,m.identity=on,m.indexOf=Mt,m.isArguments=be,m.isArray=fr,m.isBoolean=Ee,m.isDate=Ae,m.isElement=Be,m.isEmpty=je,m.isEqual=Le,m.isFinite=Oe,m.isFunction=Fe,m.isNaN=Pe,m.isNull=He,m.isNumber=Ne,m.isObject=Re,m.isPlainObject=Cr,m.isRegExp=Ie,m.isString=qe,m.isUndefined=$e,m.lastIndexOf=Dt,m.mixin=an,m.noConflict=sn,m.noop=ln,m.now=Br,m.parseInt=jr,m.random=cn,m.reduce=ut,m.reduceRight=ct,m.result=fn,m.runInContext=p,m.size=dt,m.some=mt,m.sortedIndex=jt,m.template=hn,m.unescape=dn,m.uniqueId=mn,m.all=Ze,m.any=mt,m.detect=tt,m.findWhere=tt,m.foldl=ut,m.foldr=ct,m.include=Ye,m.inject=ut,an(function(){var e={};return zr(m,function(t,n){m.prototype[n]||(e[n]=t)}),e}(),!1),m.first=kt,m.last=St,m.sample=ht,m.take=kt,m.head=kt,zr(m,function(e,t){var n="sample"!==t;m.prototype[t]||(m.prototype[t]=function(t,r){var i=this.__chain__,o=e(this.__wrapped__,t,r);return i||null!=t&&(!r||n&&"function"==typeof t)?new g(o,i):o})}),m.VERSION="2.4.1",m.prototype.chain=yn,m.prototype.toString=bn,m.prototype.value=wn,m.prototype.valueOf=wn,xr(["join","pop","shift"],function(e){var t=Bn[e];m.prototype[e]=function(){var e=this.__chain__,n=t.apply(this.__wrapped__,arguments);return e?new g(n,e):n}}),xr(["push","reverse","sort","unshift"],function(e){var t=Bn[e];m.prototype[e]=function(){return t.apply(this.__wrapped__,arguments),this}}),xr(["concat","slice","splice"],function(e){var t=Bn[e];m.prototype[e]=function(){return new g(t.apply(this.__wrapped__,arguments),this.__chain__)}}),lr.spliceObjects||xr(["pop","shift","splice"],function(e){var t=Bn[e],n="splice"==e;m.prototype[e]=function(){var e=this.__chain__,r=this.__wrapped__,i=t.apply(r,arguments);return 0===r.length&&delete r[0],e||n?new g(i,e):i}}),m}var d,m=[],g=[],v=0,y={},b=+new Date+"",w=75,x=40,_=" 	\fÂ \ufeff\n\r\u2028\u2029áš€á Žâ€€â€â€‚â€ƒâ€„â€…â€†â€‡â€ˆâ€‰â€Šâ€¯âŸã€€",M=/\b__p \+= '';/g,z=/\b(__p \+=) '' \+/g,C=/(__e\(.*?\)|\b__t\)) \+\n'';/g,S=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,D=/\w*$/,T=/^\s*function[ \n\r\t]+\w/,E=/<%=([\s\S]+?)%>/g,A=RegExp("^["+_+"]*0+(?=.$)"),B=/($^)/,j=/\bthis\b/,L=/['\n\r\t\u2028\u2029\\]/g,O=["Array","Boolean","Date","Error","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],F=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],R=0,P="[object Arguments]",H="[object Array]",N="[object Boolean]",I="[object Date]",q="[object Error]",$="[object Function]",U="[object Number]",V="[object Object]",W="[object RegExp]",K="[object String]",G={};G[$]=!1,G[P]=G[H]=G[N]=G[I]=G[U]=G[V]=G[W]=G[K]=!0;var Q={leading:!1,maxWait:0,trailing:!1},X={configurable:!1,enumerable:!1,value:null,writable:!1},J={args:"",array:null,bottom:"",firstArg:"",init:"",keys:null,loop:"",shadowedProps:null,support:null,top:"",useHas:!1},Y={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},Z={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},ee=Y[typeof window]&&window||this,te=Y[typeof exports]&&exports&&!exports.nodeType&&exports,ne=Y[typeof module]&&module&&!module.nodeType&&module,re=ne&&ne.exports===te&&te,ie=Y[typeof global]&&global;!ie||ie.global!==ie&&ie.window!==ie||(ee=ie);var oe=p();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(ee._=oe,define("lodash/dist/lodash.compat",[],function(){return oe})):te&&ne?re?(ne.exports=oe)._=oe:te._=oe:ee._=oe}.call(this),define("common/utils/_",["lodash/dist/lodash.compat"],function(e){return e}),function(e,t,n){"undefined"!=typeof module&&module.exports?module.exports=n():"function"==typeof define&&define.amd?define("bonzo",n):t[e]=n()}("bonzo",this,function(){function e(e,t){var n=null,r=S.defaultView.getComputedStyle(e,"");return r&&(n=r[t]),e.style[t]||n}function t(e){return e&&e.nodeName&&(1==e.nodeType||11==e.nodeType)}function n(e,n,r){var i,o,a;if("string"==typeof e)return k.create(e);if(t(e)&&(e=[e]),r){for(a=[],i=0,o=e.length;o>i;i++)a[i]=y(n,e[i]);return a}return e}function r(e){return new RegExp("(^|\\s+)"+e+"(\\s+|$)")}function i(e,t,n,r){for(var i,o=0,a=e.length;a>o;o++)i=r?e.length-o-1:o,t.call(n||e[i],e[i],i,e);return e}function o(e,n,r){for(var i=0,a=e.length;a>i;i++)t(e[i])&&(o(e[i].childNodes,n,r),n.call(r||e[i],e[i],i,e));return e}function a(e){return e.replace(/-(.)/g,function(e,t){return t.toUpperCase()})}function s(e){return e?e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase():e}function l(e){e[V]("data-node-uid")||e[U]("data-node-uid",++N);var t=e[V]("data-node-uid");return H[t]||(H[t]={})}function u(e){var t=e[V]("data-node-uid");t&&delete H[t]}function c(e){var t;try{return null===e||void 0===e?void 0:"true"===e?!0:"false"===e?!1:"null"===e?null:(t=parseFloat(e))==e?t:e}catch(n){}return void 0}function f(e,t,n){for(var r=0,i=e.length;i>r;++r)if(t.call(n||null,e[r],r,e))return!0;return!1}function h(e){return"transform"==e&&(e=W.transform)||/^transform-?[Oo]rigin$/.test(e)&&(e=W.transform+"Origin"),e?a(e):null}function p(e,t,r,o){var a=0,s=t||this,l=[],u=X&&"string"==typeof e&&"<"!=e.charAt(0)?X(e):e;return i(n(u),function(e,t){i(s,function(n){r(e,l[a++]=t>0?y(s,n):n)},null,o)},this,o),s.length=a,i(l,function(e){s[--a]=e},null,!o),s}function d(e,t,n){var r=k(e),i=r.css("position"),o=r.offset(),a="relative",s=i==a,l=[parseInt(r.css("left"),10),parseInt(r.css("top"),10)];"static"==i&&(r.css("position",a),i=a),isNaN(l[0])&&(l[0]=s?0:e.offsetLeft),isNaN(l[1])&&(l[1]=s?0:e.offsetTop),null!=t&&(e.style.left=t-o.left+l[0]+$),null!=n&&(e.style.top=n-o.top+l[1]+$)}function m(e,t){return"function"==typeof t?t.call(e,e):t}function g(e,t,n){var r=this[0];return r?null==e&&null==t?(b(r)?w():{x:r.scrollLeft,y:r.scrollTop})[n]:(b(r)?C.scrollTo(e,t):(null!=e&&(r.scrollLeft=e),null!=t&&(r.scrollTop=t)),this):this}function v(e){if(this.length=0,e){e="string"==typeof e||e.nodeType||"undefined"==typeof e.length?[e]:e,this.length=e.length;for(var t=0;t<e.length;t++)this[t]=e[t]}}function y(e,t){var n,r,i,o=t.cloneNode(!0);if(e.$&&"function"==typeof e.cloneEvents)for(e.$(o).cloneEvents(t),n=e.$(o).find("*"),r=e.$(t).find("*"),i=0;i<r.length;i++)e.$(n[i]).cloneEvents(r[i]);return o}function b(e){return e===C||/^(?:body|html)$/i.test(e.tagName)}function w(){return{x:C.pageXOffset||D.scrollLeft,y:C.pageYOffset||D.scrollTop}}function x(e){var t=document.createElement("script"),n=e.match(B);return t.src=n[1],t}function k(e){return new v(e)}var _,M,z,C=window,S=C.document,D=S.documentElement,T="parentNode",E=/^(checked|value|selected|disabled)$/i,A=/^(select|fieldset|table|tbody|tfoot|td|tr|colgroup)$/i,B=/\s*<script +src=['"]([^'"]+)['"]>/,j=["<table>","</table>",1],L=["<table><tbody><tr>","</tr></tbody></table>",3],O=["<select>","</select>",1],F=["_","",0,1],R={thead:j,tbody:j,tfoot:j,colgroup:j,caption:j,tr:["<table><tbody>","</tbody></table>",2],th:L,td:L,col:["<table><colgroup>","</colgroup></table>",2],fieldset:["<form>","</form>",1],legend:["<form><fieldset>","</fieldset></form>",2],option:O,optgroup:O,script:F,style:F,link:F,param:F,base:F},P=/^(checked|selected|disabled)$/,H={},N=0,I=/^-?[\d\.]+$/,q=/^data-(.+)$/,$="px",U="setAttribute",V="getAttribute",W=function(){var e=S.createElement("p");return{transform:function(){var t,n=["transform","webkitTransform","MozTransform","OTransform","msTransform"];for(t=0;t<n.length;t++)if(n[t]in e.style)return n[t]}(),classList:"classList"in e}}(),K=/\s+/,G=String.prototype.toString,Q={lineHeight:1,zoom:1,zIndex:1,opacity:1,boxFlex:1,WebkitBoxFlex:1,MozBoxFlex:1},X=S.querySelectorAll&&function(e){return S.querySelectorAll(e)};return W.classList?(_=function(e,t){return e.classList.contains(t)},M=function(e,t){e.classList.add(t)},z=function(e,t){e.classList.remove(t)}):(_=function(e,t){return r(t).test(e.className)},M=function(e,t){e.className=(e.className+" "+t).trim()},z=function(e,t){e.className=e.className.replace(r(t)," ").trim()}),v.prototype={get:function(e){return this[e]||null},each:function(e,t){return i(this,e,t)},deepEach:function(e,t){return o(this,e,t)},map:function(e,t){var n,r,i=[];for(r=0;r<this.length;r++)n=e.call(this,this[r],r),t?t(n)&&i.push(n):i.push(n);return i},html:function(e,t){var r=t?"textContent":"innerHTML",o=this,a=function(t,r){i(n(e,o,r),function(e){t.appendChild(e)})},s=function(n,i){try{if(t||"string"==typeof e&&!A.test(n.tagName))return n[r]=e}catch(o){}a(n,i)};return"undefined"!=typeof e?this.empty().each(s):this[0]?this[0][r]:""},text:function(e){return this.html(e,!0)},append:function(e){var t=this;return this.each(function(r,o){i(n(e,t,o),function(e){r.appendChild(e)})})},prepend:function(e){var t=this;return this.each(function(r,o){var a=r.firstChild;i(n(e,t,o),function(e){r.insertBefore(e,a)})})},appendTo:function(e,t){return p.call(this,e,t,function(e,t){e.appendChild(t)})},prependTo:function(e,t){return p.call(this,e,t,function(e,t){e.insertBefore(t,e.firstChild)},1)},before:function(e){var t=this;return this.each(function(r,o){i(n(e,t,o),function(e){r[T].insertBefore(e,r)})})},after:function(e){var t=this;return this.each(function(r,o){i(n(e,t,o),function(e){r[T].insertBefore(e,r.nextSibling)},null,1)})},insertBefore:function(e,t){return p.call(this,e,t,function(e,t){e[T].insertBefore(t,e)})},insertAfter:function(e,t){return p.call(this,e,t,function(e,t){var n=e.nextSibling;n?e[T].insertBefore(t,n):e[T].appendChild(t)},1)},replaceWith:function(e){var t=this;return this.each(function(r,o){i(n(e,t,o),function(e){r[T]&&r[T].replaceChild(e,r)})})},clone:function(e){var t,n,r=[];for(n=0,t=this.length;t>n;n++)r[n]=y(e||this,this[n]);return k(r)},addClass:function(e){return e=G.call(e).split(K),this.each(function(t){i(e,function(e){e&&!_(t,m(t,e))&&M(t,m(t,e))})})},removeClass:function(e){return e=G.call(e).split(K),this.each(function(t){i(e,function(e){e&&_(t,m(t,e))&&z(t,m(t,e))})})},hasClass:function(e){return e=G.call(e).split(K),f(this,function(t){return f(e,function(e){return e&&_(t,e)})})},toggleClass:function(e,t){return e=G.call(e).split(K),this.each(function(n){i(e,function(e){e&&("undefined"!=typeof t?t?!_(n,e)&&M(n,e):z(n,e):_(n,e)?z(n,e):M(n,e))})})},show:function(e){return e="string"==typeof e?e:"",this.each(function(t){t.style.display=e})},hide:function(){return this.each(function(e){e.style.display="none"})},toggle:function(e,t){return t="string"==typeof t?t:"","function"!=typeof e&&(e=null),this.each(function(n){n.style.display=n.offsetWidth||n.offsetHeight?"none":t,e&&e.call(n)})},first:function(){return k(this.length?this[0]:[])},last:function(){return k(this.length?this[this.length-1]:[])},next:function(){return this.related("nextSibling")},previous:function(){return this.related("previousSibling")},parent:function(){return this.related(T)},related:function(e){return k(this.map(function(t){for(t=t[e];t&&1!==t.nodeType;)t=t[e];return t||0},function(e){return e}))},focus:function(){return this.length&&this[0].focus(),this},blur:function(){return this.length&&this[0].blur(),this},css:function(t,n){function r(e,t,n){for(var r in o)if(o.hasOwnProperty(r)){n=o[r],(t=h(r))&&I.test(n)&&!(t in Q)&&(n+=$);try{e.style[t]=m(e,n)}catch(i){}}}var i,o=t;return void 0===n&&"string"==typeof t?(n=this[0],n?n===S||n===C?(i=n===S?k.doc():k.viewport(),"width"==t?i.width:"height"==t?i.height:""):(t=h(t))?e(n,t):null:null):("string"==typeof t&&(o={},o[t]=n),this.each(r))},offset:function(e,t){if(e&&"object"==typeof e&&("number"==typeof e.top||"number"==typeof e.left))return this.each(function(t){d(t,e.left,e.top)});if("number"==typeof e||"number"==typeof t)return this.each(function(n){d(n,e,t)});if(!this[0])return{top:0,left:0,height:0,width:0};var n=this[0],r=n.ownerDocument.documentElement,i=n.getBoundingClientRect(),o=w(),a=n.offsetWidth,s=n.offsetHeight,l=i.top+o.y-Math.max(0,r&&r.clientTop,S.body.clientTop),u=i.left+o.x-Math.max(0,r&&r.clientLeft,S.body.clientLeft);return{top:l,left:u,height:s,width:a}},dim:function(){if(!this.length)return{height:0,width:0};var e=this[0],t=9==e.nodeType&&e.documentElement,n=t||!e.style||e.offsetWidth||e.offsetHeight?null:function(t){var n={position:e.style.position||"",visibility:e.style.visibility||"",display:e.style.display||""};return t.first().css({position:"absolute",visibility:"hidden",display:"block"}),n}(this),r=t?Math.max(e.body.scrollWidth,e.body.offsetWidth,t.scrollWidth,t.offsetWidth,t.clientWidth):e.offsetWidth,i=t?Math.max(e.body.scrollHeight,e.body.offsetHeight,t.scrollHeight,t.offsetHeight,t.clientHeight):e.offsetHeight;return n&&this.first().css(n),{height:i,width:r}},attr:function(e,t){var n,r=this[0];if("string"!=typeof e&&!(e instanceof String)){for(n in e)e.hasOwnProperty(n)&&this.attr(n,e[n]);return this}return"undefined"==typeof t?r?E.test(e)?P.test(e)&&"string"==typeof r[e]?!0:r[e]:r[V](e):null:this.each(function(n){E.test(e)?n[e]=m(n,t):n[U](e,m(n,t))})},removeAttr:function(e){return this.each(function(t){P.test(e)?t[e]=!1:t.removeAttribute(e)})},val:function(e){return"string"==typeof e||"number"==typeof e?this.attr("value",e):this.length?this[0].value:null},data:function(e,t){var n,r,o=this[0];return"undefined"==typeof t?o?(n=l(o),"undefined"==typeof e?(i(o.attributes,function(e){(r=(""+e.name).match(q))&&(n[a(r[1])]=c(e.value))}),n):("undefined"==typeof n[e]&&(n[e]=c(this.attr("data-"+s(e)))),n[e])):null:this.each(function(n){l(n)[e]=t})},remove:function(){return this.deepEach(u),this.detach()},empty:function(){return this.each(function(e){for(o(e.childNodes,u);e.firstChild;)e.removeChild(e.firstChild)})},detach:function(){return this.each(function(e){e[T]&&e[T].removeChild(e)})},scrollTop:function(e){return g.call(this,null,e,"y")},scrollLeft:function(e){return g.call(this,e,null,"x")}},k.setQueryEngine=function(e){X=e,delete k.setQueryEngine},k.aug=function(e,t){for(var n in e)e.hasOwnProperty(n)&&((t||v.prototype)[n]=e[n])},k.create=function(e){return"string"==typeof e&&""!==e?function(){
if(B.test(e))return[x(e)];var t=e.match(/^\s*<([^\s>]+)/),n=S.createElement("div"),r=[],o=t?R[t[1].toLowerCase()]:null,a=o?o[2]+1:1,s=o&&o[3],l=T;for(n.innerHTML=o?o[0]+e+o[1]:e;a--;)n=n.firstChild;s&&n&&1!==n.nodeType&&(n=n.nextSibling);do t&&1!=n.nodeType||r.push(n);while(n=n.nextSibling);return i(r,function(e){e[l]&&e[l].removeChild(e)}),r}():t(e)?[e.cloneNode(!0)]:[]},k.doc=function(){var e=k.viewport();return{width:Math.max(S.body.scrollWidth,D.scrollWidth,e.width),height:Math.max(S.body.scrollHeight,D.scrollHeight,e.height)}},k.firstChild=function(e){for(var t,n=e.childNodes,r=0,i=n&&n.length||0;i>r;r++)1===n[r].nodeType&&(t=n[i=r]);return t},k.viewport=function(){return{width:C.innerWidth,height:C.innerHeight}},k.isAncestor="compareDocumentPosition"in D?function(e,t){return 16==(16&e.compareDocumentPosition(t))}:function(e,t){return e!==t&&e.contains(t)},k}),function(e,t,n){"undefined"!=typeof module&&module.exports?module.exports=n():"function"==typeof define&&define.amd?define("qwery",n):t[e]=n()}("qwery",this,function(){function e(){this.c={}}function t(e){return G.g(e)||G.s(e,"(^|\\s+)"+e+"(\\s+|$)",1)}function n(e,t){for(var n=0,r=e.length;r>n;n++)t(e[n])}function r(e){for(var t=[],n=0,r=e.length;r>n;++n)m(e[n])?t=t.concat(e[n]):t[t.length]=e[n];return t}function i(e){for(var t=0,n=e.length,r=[];n>t;t++)r[t]=e[t];return r}function o(e){for(;(e=e.previousSibling)&&1!=e[D];);return e}function a(e){return e.match(W)}function s(e,n,r,i,o,a,s,l,c,f,h){var p,d,m,g,v;if(1!==this[D])return!1;if(n&&"*"!==n&&this[S]&&this[S].toLowerCase()!==n)return!1;if(r&&(d=r.match(T))&&d[1]!==this.id)return!1;if(r&&(v=r.match(E)))for(p=v.length;p--;)if(!t(v[p].slice(1)).test(this.className))return!1;if(c&&y.pseudos[c]&&!y.pseudos[c](this,h))return!1;if(i&&!s){g=this.attributes;for(m in g)if(Object.prototype.hasOwnProperty.call(g,m)&&(g[m].name||m)==o)return this}return i&&!u(a,Z(this,o)||"",s)?!1:this}function l(e){return Q.g(e)||Q.s(e,e.replace(H,"\\$1"))}function u(e,t,n){switch(e){case"=":return t==n;case"^=":return t.match(X.g("^="+n)||X.s("^="+n,"^"+l(n),1));case"$=":return t.match(X.g("$="+n)||X.s("$="+n,l(n)+"$",1));case"*=":return t.match(X.g(n)||X.s(n,l(n),1));case"~=":return t.match(X.g("~="+n)||X.s("~="+n,"(?:^|\\s+)"+l(n)+"(?:\\s+|$)",1));case"|=":return t.match(X.g("|="+n)||X.s("|="+n,"^"+l(n)+"(-|$)",1))}return 0}function c(e,t){var r,i,o,l,u,c,f,p=[],d=[],m=t,g=J.g(e)||J.s(e,e.split(V)),y=e.match(U);if(!g.length)return p;if(l=(g=g.slice(0)).pop(),g.length&&(o=g[g.length-1].match(A))&&(m=v(t,o[1])),!m)return p;for(c=a(l),u=m!==t&&9!==m[D]&&y&&/^[+~]$/.test(y[y.length-1])?function(e){for(;m=m.nextSibling;)1==m[D]&&(c[1]?c[1]==m[S].toLowerCase():1)&&(e[e.length]=m);return e}([]):m[M](c[1]||"*"),r=0,i=u.length;i>r;r++)(f=s.apply(u[r],c))&&(p[p.length]=f);return g.length?(n(p,function(e){h(e,g,y)&&(d[d.length]=e)}),d):p}function f(e,t,n){if(p(t))return e==t;if(m(t))return!!~r(t).indexOf(e);for(var i,o,l=t.split(",");t=l.pop();)if(i=J.g(t)||J.s(t,t.split(V)),o=t.match(U),i=i.slice(0),s.apply(e,a(i.pop()))&&(!i.length||h(e,i,o,n)))return!0;return!1}function h(e,t,n,r){function i(e,r,l){for(;l=K[n[r]](l,e);)if(p(l)&&s.apply(l,a(t[r]))){if(!r)return l;if(o=i(l,r-1,l))return o}}var o;return(o=i(e,t.length-1,e))&&(!r||Y(o,r))}function p(e,t){return e&&"object"==typeof e&&(t=e[D])&&(1==t||9==t)}function d(e){var t,n,r=[];e:for(t=0;t<e.length;++t){for(n=0;n<r.length;++n)if(r[n]==e[t])continue e;r[r.length]=e[t]}return r}function m(e){return"object"==typeof e&&isFinite(e.length)}function g(e){return e?"string"==typeof e?y(e)[0]:!e[D]&&m(e)?e[0]:e:x}function v(e,t,n){return 9===e[D]?e.getElementById(t):e.ownerDocument&&((n=e.ownerDocument.getElementById(t))&&Y(n,e)&&n||!Y(e,e.ownerDocument)&&w('[id="'+t+'"]',e)[0])}function y(e,t){var n,o,a=g(t);if(!a||!e)return[];if(e===window||p(e))return!t||e!==window&&p(a)&&Y(e,a)?[e]:[];if(e&&m(e))return r(e);if(n=e.match($)){if(n[1])return(o=v(a,n[1]))?[o]:[];if(n[2])return i(a[M](n[2]));if(ee&&n[3])return i(a[_](n[3]))}return w(e,a)}function b(e,t){return function(n){var r,i;return O.test(n)?void(9!==e[D]&&((i=r=e.getAttribute("id"))||e.setAttribute("id",i="__qwerymeupscotty"),n='[id="'+i+'"]'+n,t(e.parentNode||e,n,!0),r||e.removeAttribute("id"))):void(n.length&&t(e,n,!1))}}var w,x=document,k=x.documentElement,_="getElementsByClassName",M="getElementsByTagName",z="querySelectorAll",C="useNativeQSA",S="tagName",D="nodeType",T=/#([\w\-]+)/,E=/\.[\w\-]+/g,A=/^#([\w\-]+)$/,B=/^\.([\w\-]+)$/,j=/^([\w\-]+)$/,L=/^([\w]+)?\.([\w\-]+)$/,O=/(^|,)\s*[>~+]/,F=/^\s+|\s*([,\s\+\~>]|$)\s*/g,R=/[\s\>\+\~]/,P=/(?![\s\w\-\/\?\&\=\:\.\(\)\!,@#%<>\{\}\$\*\^'"]*\]|[\s\w\+\-]*\))/,H=/([.*+?\^=!:${}()|\[\]\/\\])/g,N=/^(\*|[a-z0-9]+)?(?:([\.\#]+[\w\-\.#]+)?)/,I=/\[([\w\-]+)(?:([\|\^\$\*\~]?\=)['"]?([ \w\-\/\?\&\=\:\.\(\)\!,@#%<>\{\}\$\*\^]+)["']?)?\]/,q=/:([\w\-]+)(\(['"]?([^()]+)['"]?\))?/,$=new RegExp(A.source+"|"+j.source+"|"+B.source),U=new RegExp("("+R.source+")"+P.source,"g"),V=new RegExp(R.source+P.source),W=new RegExp(N.source+"("+I.source+")?("+q.source+")?"),K={" ":function(e){return e&&e!==k&&e.parentNode},">":function(e,t){return e&&e.parentNode==t.parentNode&&e.parentNode},"~":function(e){return e&&e.previousSibling},"+":function(e,t,n,r){return e?(n=o(e))&&(r=o(t))&&n==r&&n:!1}};e.prototype={g:function(e){return this.c[e]||void 0},s:function(e,t,n){return t=n?new RegExp(t):t,this.c[e]=t}};var G=new e,Q=new e,X=new e,J=new e,Y="compareDocumentPosition"in k?function(e,t){return 16==(16&t.compareDocumentPosition(e))}:"contains"in k?function(e,t){return t=9===t[D]||t==window?k:t,t!==e&&t.contains(e)}:function(e,t){for(;e=e.parentNode;)if(e===t)return 1;return 0},Z=function(){var e=x.createElement("p");return(e.innerHTML='<a href="#x">x</a>')&&"#x"!=e.firstChild.getAttribute("href")?function(e,t){return"class"===t?e.className:"href"===t||"src"===t?e.getAttribute(t,2):e.getAttribute(t)}:function(e,t){return e.getAttribute(t)}}(),ee=!!x[_],te=x.querySelector&&x[z],ne=function(e,t){var r,o,a=[];try{return 9!==t[D]&&O.test(e)?(n(r=e.split(","),b(t,function(e,t){o=e[z](t),1==o.length?a[a.length]=o.item(0):o.length&&(a=a.concat(i(o)))})),r.length>1&&a.length>1?d(a):a):i(t[z](e))}catch(s){}return re(e,t)},re=function(e,r){var i,o,a,s,l,u,f=[];if(e=e.replace(F,"$1"),o=e.match(L)){for(l=t(o[2]),i=r[M](o[1]||"*"),a=0,s=i.length;s>a;a++)l.test(i[a].className)&&(f[f.length]=i[a]);return f}return n(u=e.split(","),b(r,function(e,t,n){for(l=c(t,e),a=0,s=l.length;s>a;a++)(9===e[D]||n||Y(l[a],r))&&(f[f.length]=l[a])})),u.length>1&&f.length>1?d(f):f},ie=function(e){"undefined"!=typeof e[C]&&(w=e[C]&&te?ne:re)};return ie({useNativeQSA:!0}),y.configure=ie,y.uniq=d,y.is=f,y.pseudos={},y}),define("common/utils/$",["bonzo","qwery","common/utils/_"],function(e,t,n){function r(n,r){return e(t(n,r))}return r.create=function(t){return e(e.create(t))},r.ancestor=function(t,n){return"html"===t.nodeName.toLowerCase()?!1:!t.parentNode||e(t.parentNode).hasClass(n)?t.parentNode:r.ancestor(t.parentNode,n)},r.forEachElement=function(e,r){var i=t(e);return n.forEach(i,r),i},r}),!function(e,t,n){"undefined"!=typeof module&&module.exports?module.exports=n():"function"==typeof define&&define.amd?define("reqwest",n):t[e]=n()}("reqwest",this,function(){function succeed(e){var t=protocolRe.exec(e.url);return t=t&&t[1]||window.location.protocol,httpsRe.test(t)?twoHundo.test(e.request.status):!!e.request.response}function handleReadyState(e,t,n){return function(){return e._aborted?n(e.request):e._timedOut?n(e.request,"Request is aborted: timeout"):void(e.request&&4==e.request[readyState]&&(e.request.onreadystatechange=noop,succeed(e)?t(e.request):n(e.request)))}}function setHeaders(e,t){var n,r=t.headers||{};r.Accept=r.Accept||defaultHeaders.accept[t.type]||defaultHeaders.accept["*"];var i="function"==typeof FormData&&t.data instanceof FormData;t.crossOrigin||r[requestedWith]||(r[requestedWith]=defaultHeaders.requestedWith),r[contentType]||i||(r[contentType]=t.contentType||defaultHeaders.contentType);for(n in r)r.hasOwnProperty(n)&&"setRequestHeader"in e&&e.setRequestHeader(n,r[n])}function setCredentials(e,t){"undefined"!=typeof t.withCredentials&&"undefined"!=typeof e.withCredentials&&(e.withCredentials=!!t.withCredentials)}function generalCallback(e){lastValue=e}function urlappend(e,t){return e+(/\?/.test(e)?"&":"?")+t}function handleJsonp(e,t,n,r){var i=uniqid++,o=e.jsonpCallback||"callback",a=e.jsonpCallbackName||reqwest.getcallbackPrefix(i),s=new RegExp("((^|\\?|&)"+o+")=([^&]+)"),l=r.match(s),u=doc.createElement("script"),c=0,f=-1!==navigator.userAgent.indexOf("MSIE 10.0");return l?"?"===l[3]?r=r.replace(s,"$1="+a):a=l[3]:r=urlappend(r,o+"="+a),win[a]=generalCallback,u.type="text/javascript",u.src=r,u.async=!0,"undefined"==typeof u.onreadystatechange||f||(u.htmlFor=u.id="_reqwest_"+i),u.onload=u.onreadystatechange=function(){return u[readyState]&&"complete"!==u[readyState]&&"loaded"!==u[readyState]||c?!1:(u.onload=u.onreadystatechange=null,u.onclick&&u.onclick(),t(lastValue),lastValue=void 0,head.removeChild(u),void(c=1))},head.appendChild(u),{abort:function(){u.onload=u.onreadystatechange=null,n({},"Request is aborted: timeout",{}),lastValue=void 0,head.removeChild(u),c=1}}}function getRequest(e,t){var n,r=this.o,i=(r.method||"GET").toUpperCase(),o="string"==typeof r?r:r.url,a=r.processData!==!1&&r.data&&"string"!=typeof r.data?reqwest.toQueryString(r.data):r.data||null,s=!1;return"jsonp"!=r.type&&"GET"!=i||!a||(o=urlappend(o,a),a=null),"jsonp"==r.type?handleJsonp(r,e,t,o):(n=r.xhr&&r.xhr(r)||xhr(r),n.open(i,o,r.async===!1?!1:!0),setHeaders(n,r),setCredentials(n,r),win[xDomainRequest]&&n instanceof win[xDomainRequest]?(n.onload=e,n.onerror=t,n.onprogress=function(){},s=!0):n.onreadystatechange=handleReadyState(this,e,t),r.before&&r.before(n),s?setTimeout(function(){n.send(a)},200):n.send(a),n)}function Reqwest(e,t){this.o=e,this.fn=t,init.apply(this,arguments)}function setType(e){return e.match("json")?"json":e.match("javascript")?"js":e.match("text")?"html":e.match("xml")?"xml":void 0}function init(o,fn){function complete(e){for(o.timeout&&clearTimeout(self.timeout),self.timeout=null;self._completeHandlers.length>0;)self._completeHandlers.shift()(e)}function success(resp){var type=o.type||resp&&setType(resp.getResponseHeader("Content-Type"));resp="jsonp"!==type?self.request:resp;var filteredResponse=globalSetupOptions.dataFilter(resp.responseText,type),r=filteredResponse;try{resp.responseText=r}catch(e){}if(r)switch(type){case"json":try{resp=win.JSON?win.JSON.parse(r):eval("("+r+")")}catch(err){return error(resp,"Could not parse JSON in response",err)}break;case"js":resp=eval(r);break;case"html":resp=r;break;case"xml":resp=resp.responseXML&&resp.responseXML.parseError&&resp.responseXML.parseError.errorCode&&resp.responseXML.parseError.reason?null:resp.responseXML}for(self._responseArgs.resp=resp,self._fulfilled=!0,fn(resp),self._successHandler(resp);self._fulfillmentHandlers.length>0;)resp=self._fulfillmentHandlers.shift()(resp);complete(resp)}function timedOut(){self._timedOut=!0,self.request.abort()}function error(e,t,n){for(e=self.request,self._responseArgs.resp=e,self._responseArgs.msg=t,self._responseArgs.t=n,self._erred=!0;self._errorHandlers.length>0;)self._errorHandlers.shift()(e,t,n);complete(e)}this.url="string"==typeof o?o:o.url,this.timeout=null,this._fulfilled=!1,this._successHandler=function(){},this._fulfillmentHandlers=[],this._errorHandlers=[],this._completeHandlers=[],this._erred=!1,this._responseArgs={};var self=this;fn=fn||function(){},o.timeout&&(this.timeout=setTimeout(function(){timedOut()},o.timeout)),o.success&&(this._successHandler=function(){o.success.apply(o,arguments)}),o.error&&this._errorHandlers.push(function(){o.error.apply(o,arguments)}),o.complete&&this._completeHandlers.push(function(){o.complete.apply(o,arguments)}),this.request=getRequest.call(this,success,error)}function reqwest(e,t){return new Reqwest(e,t)}function normalize(e){return e?e.replace(/\r?\n/g,"\r\n"):""}function serial(e,t){var n,r,i,o,a=e.name,s=e.tagName.toLowerCase(),l=function(e){e&&!e.disabled&&t(a,normalize(e.attributes.value&&e.attributes.value.specified?e.value:e.text))};if(!e.disabled&&a)switch(s){case"input":/reset|button|image|file/i.test(e.type)||(n=/checkbox/i.test(e.type),r=/radio/i.test(e.type),i=e.value,(!(n||r)||e.checked)&&t(a,normalize(n&&""===i?"on":i)));break;case"textarea":t(a,normalize(e.value));break;case"select":if("select-one"===e.type.toLowerCase())l(e.selectedIndex>=0?e.options[e.selectedIndex]:null);else for(o=0;e.length&&o<e.length;o++)e.options[o].selected&&l(e.options[o])}}function eachFormElement(){var e,t,n=this,r=function(e,t){var r,i,o;for(r=0;r<t.length;r++)for(o=e[byTag](t[r]),i=0;i<o.length;i++)serial(o[i],n)};for(t=0;t<arguments.length;t++)e=arguments[t],/input|select|textarea/i.test(e.tagName)&&serial(e,n),r(e,["input","select","textarea"])}function serializeQueryString(){return reqwest.toQueryString(reqwest.serializeArray.apply(null,arguments))}function serializeHash(){var e={};return eachFormElement.apply(function(t,n){t in e?(e[t]&&!isArray(e[t])&&(e[t]=[e[t]]),e[t].push(n)):e[t]=n},arguments),e}function buildParams(e,t,n,r){var i,o,a,s=/\[\]$/;if(isArray(t))for(o=0;t&&o<t.length;o++)a=t[o],n||s.test(e)?r(e,a):buildParams(e+"["+("object"==typeof a?o:"")+"]",a,n,r);else if(t&&"[object Object]"===t.toString())for(i in t)buildParams(e+"["+i+"]",t[i],n,r);else r(e,t)}var win=window,doc=document,httpsRe=/^http/,protocolRe=/(^\w+):\/\//,twoHundo=/^(20\d|1223)$/,byTag="getElementsByTagName",readyState="readyState",contentType="Content-Type",requestedWith="X-Requested-With",head=doc[byTag]("head")[0],uniqid=0,callbackPrefix="reqwest_"+ +new Date,lastValue,xmlHttpRequest="XMLHttpRequest",xDomainRequest="XDomainRequest",noop=function(){},isArray="function"==typeof Array.isArray?Array.isArray:function(e){return e instanceof Array},defaultHeaders={contentType:"application/x-www-form-urlencoded",requestedWith:xmlHttpRequest,accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},xhr=function(e){if(e.crossOrigin===!0){var t=win[xmlHttpRequest]?new XMLHttpRequest:null;if(t&&"withCredentials"in t)return t;if(win[xDomainRequest])return new XDomainRequest;throw new Error("Browser does not support cross-origin requests")}return win[xmlHttpRequest]?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")},globalSetupOptions={dataFilter:function(e){return e}};return Reqwest.prototype={abort:function(){this._aborted=!0,this.request.abort()},retry:function(){init.call(this,this.o,this.fn)},then:function(e,t){return e=e||function(){},t=t||function(){},this._fulfilled?this._responseArgs.resp=e(this._responseArgs.resp):this._erred?t(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):(this._fulfillmentHandlers.push(e),this._errorHandlers.push(t)),this},always:function(e){return this._fulfilled||this._erred?e(this._responseArgs.resp):this._completeHandlers.push(e),this},fail:function(e){return this._erred?e(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):this._errorHandlers.push(e),this},"catch":function(e){return this.fail(e)}},reqwest.serializeArray=function(){var e=[];return eachFormElement.apply(function(t,n){e.push({name:t,value:n})},arguments),e},reqwest.serialize=function(){if(0===arguments.length)return"";var e,t,n=Array.prototype.slice.call(arguments,0);return e=n.pop(),e&&e.nodeType&&n.push(e)&&(e=null),e&&(e=e.type),t="map"==e?serializeHash:"array"==e?reqwest.serializeArray:serializeQueryString,t.apply(null,n)},reqwest.toQueryString=function(e,t){var n,r,i=t||!1,o=[],a=encodeURIComponent,s=function(e,t){t="function"==typeof t?t():null==t?"":t,o[o.length]=a(e)+"="+a(t)};if(isArray(e))for(r=0;e&&r<e.length;r++)s(e[r].name,e[r].value);else for(n in e)e.hasOwnProperty(n)&&buildParams(n,e[n],i,s);return o.join("&").replace(/%20/g,"+")},reqwest.getcallbackPrefix=function(){return callbackPrefix},reqwest.compat=function(e,t){return e&&(e.type&&(e.method=e.type)&&delete e.type,e.dataType&&(e.type=e.dataType),e.jsonpCallback&&(e.jsonpCallbackName=e.jsonpCallback)&&delete e.jsonpCallback,e.jsonp&&(e.jsonpCallback=e.jsonp)),new Reqwest(e,t)},reqwest.ajaxSetup=function(e){e=e||{};for(var t in e)globalSetupOptions[t]=e[t]},reqwest}),define("common/utils/pad",[],function(){return function(e,t){for(var n=""+e;n.length<t;)n="0"+n;return n}}),function(){"use strict";function e(){}function t(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function n(e){return function(){return this[e].apply(this,arguments)}}var r=e.prototype,i=this,o=i.EventEmitter;r.getListeners=function(e){var t,n,r=this._getEvents();if(e instanceof RegExp){t={};for(n in r)r.hasOwnProperty(n)&&e.test(n)&&(t[n]=r[n])}else t=r[e]||(r[e]=[]);return t},r.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},r.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},r.addListener=function(e,n){var r,i=this.getListenersAsObject(e),o="object"==typeof n;for(r in i)i.hasOwnProperty(r)&&-1===t(i[r],n)&&i[r].push(o?n:{listener:n,once:!1});return this},r.on=n("addListener"),r.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},r.once=n("addOnceListener"),r.defineEvent=function(e){return this.getListeners(e),this},r.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},r.removeListener=function(e,n){var r,i,o=this.getListenersAsObject(e);for(i in o)o.hasOwnProperty(i)&&(r=t(o[i],n),-1!==r&&o[i].splice(r,1));return this},r.off=n("removeListener"),r.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},r.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},r.manipulateListeners=function(e,t,n){var r,i,o=e?this.removeListener:this.addListener,a=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(r=n.length;r--;)o.call(this,t,n[r]);else for(r in t)t.hasOwnProperty(r)&&(i=t[r])&&("function"==typeof i?o.call(this,r,i):a.call(this,r,i));return this},r.removeEvent=function(e){var t,n=typeof e,r=this._getEvents();if("string"===n)delete r[e];else if(e instanceof RegExp)for(t in r)r.hasOwnProperty(t)&&e.test(t)&&delete r[t];else delete this._events;return this},r.removeAllListeners=n("removeEvent"),r.emitEvent=function(e,t){var n,r,i,o,a=this.getListenersAsObject(e);for(i in a)if(a.hasOwnProperty(i))for(r=a[i].length;r--;)n=a[i][r],n.once===!0&&this.removeListener(e,n.listener),o=n.listener.apply(this,t||[]),o===this._getOnceReturnValue()&&this.removeListener(e,n.listener);return this},r.trigger=n("emitEvent"),r.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},r.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},r._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},r._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return i.EventEmitter=o,e},"function"==typeof define&&define.amd?define("EventEmitter",[],function(){return e}):"object"==typeof module&&module.exports?module.exports=e:i.EventEmitter=e}.call(this),define("common/utils/mediator",["EventEmitter"],function(e){return new e}),define("common/utils/detect",["common/utils/_","common/utils/mediator","common/utils/$"],function(e,t,n){function r(e){var t=M(e);return function(n){var r=M(e);r!==t&&(n(r,t),t=r)}}function i(e){var t,n,r,i=e||window.performance||window.msPerformance||window.webkitPerformance||window.mozPerformance;return i&&i.timing&&(t=i.timing.requestStart||i.timing.fetchStart||i.timing.navigationStart,n=i.timing.responseEnd,t&&n&&(r=n-t)),r}function o(e){var t=e||window.performance||window.msPerformance||window.webkitPerformance||window.mozPerformance;return t&&t.timing?t.timing.domComplete:(new Date).getTime()}function a(){var e=window.performance||window.msPerformance||window.webkitPerformance||window.mozPerformance;return e&&e.navigation?e.navigation.type===e.navigation.TYPE_RELOAD:!1}function s(){return/(iPad|iPhone|iPod touch)/i.test(navigator.userAgent)}function l(){return/Android/i.test(navigator.userAgent)}function u(){return navigator.mozApps&&!window.locationbar.visible}function c(){return navigator.userAgent.indexOf("FBAN/")>-1}function f(){return navigator.userAgent.indexOf("Twitter for iPhone")>-1}function h(){return/\.t\.co/.test(document.referrer)}function p(){return/\.facebook\.com/.test(document.referrer)}function d(){return/\.theguardian\.com/.test(document.referrer)}function m(){var e=/socialContext=(facebook|twitter)/.exec(window.location.hash);return null!==e?e[1]:c()||p()?"facebook":f()||h()?"twitter":null}function g(e,t,n){t=t||navigator.connection||navigator.mozConnection||navigator.webkitConnection||{type:"unknown"};var r,o,a=3===t.type||4===t.type||/^[23]g$/.test(t.type);return a?"low":(r=i(e),o="high",n&&(o="unknown"),r&&r>1e3&&(o="medium",r>3e3&&(o="low")),o)}function v(t){t=t.toLowerCase();var n={chrome:36,firefox:39},r=function(t){return e.some(n,function(e,n){return t[1]===n&&parseInt(t[2],10)>=e})},i=/(chrome|firefox)\/([0-9]+)/.exec(t);return i&&r(i)?"woff2":t.indexOf("android")>-1?"ttf":"woff"}function y(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch}function b(){return void 0!==L?L:(window.history&&history.pushState&&(L=!0,window.navigator.userAgent.match(/Android/i)&&(L=!!window.navigator.userAgent.match(/(Chrome|Firefox)/i))),L)}function w(){var e=document.createElement("video"),t={};try{e.canPlayType&&(t.mp4=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),t.ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),t.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(n){}return t}function x(){return window.innerHeight>window.innerWidth?"portrait":"landscape"}function k(){var e=window,t=document,n=t.documentElement,r=t.getElementsByTagName("body")[0];return{width:e.innerWidth||n.clientWidth||r.clientWidth,height:e.innerHeight||n.clientHeight||r.clientHeight}}function _(e,t){var n,r=[],i=e.length;for(n=0;i>n&&t(e[n]);n++)r.push(e[n]);return r}function M(t){var n,r=F.getViewport().width,i=e.last(_(P,function(e){return e.width<=r})).name;return t||(n=e.findIndex(P,function(e){return e.name===i}),i=e(P).first(n+1).findLast(function(e){return!e.isTweakpoint}).valueOf().name),i}function z(t){var n=e.defaults(t,{min:e.first(P).name,max:e.last(P).name}),r=M(!0);return e(P).rest(function(e){return e.name!==n.min}).initial(function(e){return e.name!==n.max}).pluck("name").contains(r)}function C(){function e(e){var r="visible",i="hidden",o={focus:r,focusin:r,pageshow:r,blur:i,focusout:i,pagehide:i};e=e||window.event,R=e.type in o?o[e.type]:this[n]?"hidden":"visible",t.emit("modules:detect:pagevisibility:"+R)}var n="hidden";n in document?document.addEventListener("visibilitychange",e):(n="mozHidden")in document?document.addEventListener("mozvisibilitychange",e):(n="webkitHidden")in document?document.addEventListener("webkitvisibilitychange",e):(n="msHidden")in document?document.addEventListener("msvisibilitychange",e):"onfocusin"in document?document.onfocusin=document.onfocusout=e:window.onpageshow=window.onpagehide=window.onfocus=window.onblur=e}function S(){return"visible"===R}function D(){return"WebSocket"in window}function T(){var e,t=navigator.userAgent,n=/Windows NT (\d\.\d+)/.exec(t),r="Off";return n&&(e=parseFloat(n[1],10),e>=5.1&&6.1>=e&&(r=/Chrome/.exec(t)&&6>e?"Auto":"Cleartype")),r}function E(){return window.guardian.isModernBrowser}function A(){function e(e){return"none"===e.css("display")}var t=j(),n=e(t);return t.remove(),n}function B(){var e=j(),t=e.css("-moz-binding");return t?null!==t.match("elemhidehit"):!1}function j(){var e=n.create('<div class="ad_unit" style="position: absolute; left: -9999px; height: 10px">&nbsp;</div>');return e.appendTo(document.body),e}var L,O,F,R=document.visibilityState||document.webkitVisibilityState||document.mozVisibilityState||document.msVisibilityState||"visible",P=[{name:"mobile",isTweakpoint:!1,width:0},{name:"mobileLandscape",isTweakpoint:!0,width:480},{name:"phablet",isTweakpoint:!0,width:660},{name:"tablet",isTweakpoint:!1,width:740},{name:"desktop",isTweakpoint:!1,width:980},{name:"leftCol",isTweakpoint:!0,width:1140},{name:"wide",isTweakpoint:!1,width:1300}];return O=function(){var e,t=navigator.userAgent,n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?(e=/\brv[ :]+(\d+)/g.exec(t)||[],"IE "+(e[1]||"")):"Chrome"===n[1]&&(e=t.match(/\bOPR\/(\d+)/),null!==e)?"Opera "+e[1]:(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!==(e=t.match(/version\/(\d+)/i))&&n.splice(1,1,e[1]),{browser:n[0],version:n[1]})}(),F={hasCrossedBreakpoint:r,getConnectionSpeed:g,getFontFormatSupport:v,getVideoFormatSupport:w,hasTouchScreen:y,hasPushStateSupport:b,getOrientation:x,getBreakpoint:M,getViewport:k,getUserAgent:O,isIOS:s,isAndroid:l,isFireFoxOSApp:u,isFacebookApp:c,isTwitterApp:f,isFacebookReferral:p,isTwitterReferral:h,isGuardianReferral:d,socialContext:m,isBreakpoint:z,isReload:a,initPageVisibility:C,pageVisible:S,hasWebSocket:D,getPageSpeed:i,getTimeOfDomComplete:o,breakpoints:P,fontHinting:T(),isModernBrowser:E,adblockInUse:A(),getFirefoxAdblockPlusInstalled:B}}),define("common/utils/url",["common/utils/_","common/utils/detect","common/utils/mediator"],function(e,t,n){var r=t.hasPushStateSupport(),i={getUrlVars:function(t){var n=t||{};return e((n.query||i.getCurrentQueryString()).split("&")).compact().map(function(e){return e.indexOf("=")>-1?e.split("="):[e,!0]}).zipObject().valueOf()},getCurrentQueryString:function(){return window.location.search.replace(/^\?/,"")},pushQueryString:function(e){e.querystring&&r&&i.getCurrentQueryString()!==e.querystring&&history.pushState(e.state||{},e.title||window.title,e.querystring+window.location.hash)},constructQuery:function(t){return e(t).pairs().map(function(t){var n=t[1];return e.isArray(n)&&(n=n.join(",")),[t[0],"=",n].join("")}).join("&")},getPath:function(e){var t=document.createElement("a");return t.href=e,t.pathname},pushUrl:function(e,t,n,i){r&&window.history[i?"replaceState":"pushState"](e,t,n)},back:function(){r&&window.history.back()}};return n.on("modules:url:pushquerystring",i.pushQueryString),{getUrlVars:i.getUrlVars,getPath:i.getPath,pushUrl:i.pushUrl,constructQuery:i.constructQuery,back:i.back,hasHistorySupport:r}}),define("common/utils/config",["common/utils/_","common/utils/pad","common/utils/url"],function(e,t,n){var r=guardian.config,i=n.getUrlVars()["ad-unit"];return i&&(r.page.adUnit=["/",r.page.dfpAccountId,"/",i].join("")),r.ophan={pageViewId:(new Date).getTime().toString(36)+"xxxxxxxxxxxx".replace(/x/g,function(){return Math.floor(36*Math.random()).toString(36)})},e.extend({hasTone:function(e){return(this.page.tones||"").indexOf(e)>-1},hasSeries:function(e){return(this.page.series||"").indexOf(e)>-1},referencesOfType:function(t){return e(this.page.references||[]).filter(function(e){return"undefined"!=typeof e[t]}).map(function(e){return e[t]}).valueOf()},referenceOfType:function(e){return this.referencesOfType(e)[0]},webPublicationDateAsUrlPart:function(){if(this.page.webPublicationDate){var e=new Date(this.page.webPublicationDate);return e.getFullYear()+"/"+t(e.getMonth()+1,2)+"/"+t(e.getDate(),2)}},dateFromSlug:function(){var e=this.page.pageId.match(/\d{4}\/\w{3}\/\d{2}/);return e?e[0]:null},isMedia:e.contains(["Video","Audio"],r.page.contentType)},r)}),define("common/utils/get-property",["common/utils/_"],function(e){return function(t,n,r){var i=e.reduce(n.split("."),function(t,n){return e.has(t,n)?t[n]:void 0},t);return void 0!==i?i:void 0!==r?r:!1}}),define("common/utils/ajax",["raven","reqwest","common/utils/config","common/utils/get-property"],function(e,t,n,r){function i(r){var i;return r.url.match("^(https?:)?//")||(r.url=o+r.url,r.crossOrigin=!0),n&&"money"===n.page.section&&n.switches.imgix&&(r.data?r.data.inImgixTest=!0:r.data={inImgixTest:!0}),i=t(r),e.wrap({deep:!0},i.then),i}var o=r(n,"page.ajaxUrl","");return i.setHost=function(e){o=e},i}),define("common/utils/cookies",["common/utils/_"],function(e){function t(){return f().domain.replace(/^(www|dev)\./,".")}function n(t){e.forEach(t,function(e){r(e)})}function r(e,n){f().cookie=e+"=;path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT;",n||(f().cookie=e+"=;path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT; domain="+t()+";")}function i(e,t,n){var r=new Date;n?r.setDate(r.getDate()+n):(r.setMonth(r.getMonth()+5),r.setDate(1)),f().cookie=e+"="+t+"; path=/; expires="+r.toUTCString()+";"+o()}function o(){var e=t();return"localhost"===e?"":" domain="+e+";"}function a(e,t,n){if(n){var r=new Date;r.setMinutes(r.getMinutes()+n),f().cookie=e+"="+t+"; path=/; expires="+r.toUTCString()+";"+o()}else i(e,t)}function s(e,t){f().cookie=e+"="+t+"; path=/;"+o()}function l(t){var n=[],r=t+"=",i=f().cookie.split(";");return e.forEach(i,function(e){for(;" "===e.charAt(0);)e=e.substring(1,e.length);0===e.indexOf(r)&&n.push(e.substring(r.length,e.length))}),n}function u(e){var t=l(e);return t.length>0?t[0]:null}function c(e){h=e}function f(){return h||document}var h;return{cleanUp:n,add:i,addSessionCookie:s,addForMinutes:a,remove:r,get:u,test:{setDocument:c}}}),define("common/utils/report-error",["raven"],function(e){return function(t,n,r){if(void 0===r&&(r=!0),e.captureException(t,{tags:n}),r)throw t.reported=!0,t}}),define("common/utils/robust",["common/utils/report-error","common/utils/_"],function(e,t){function n(e){return t.map(e,function(e){return o.bind(this,e[0],e[1])})}var r=function(e){var t;try{e()}catch(n){t=n}return t},i=function(t,n,r){window.console&&window.console.warn&&window.console.warn("Caught error.",n.stack),r||(r=e),r(n,{module:t},!1)},o=function(e,t,n){var o=r(t);o&&i(e,o,n)},a=function(e){t.forEach(e,function(e){var t=e[0],n=e[1];o(t,n)})};return{catchErrorsAndLog:o,catchErrorsAndLogAll:a,makeBlocks:n}}),define("common/utils/storage",["common/utils/_"],function(e){var t,n=window,r=function(e){this.type=e};return r.prototype.setWindow=function(e){n=e},r.prototype.isStorageAvailable=function(n){return(e.isUndefined(t)||n)&&(t=this.isAvailable()),t},r.prototype.isAvailable=function(e){var t="local-storage-module-test",r=e||"test";try{return n[this.type].setItem(t,r),n[this.type].removeItem(t),!0}catch(i){return!1}},r.prototype.set=function(e,t,r){if(this.isStorageAvailable()){if(!n[this.type])return;var i=r||{},o=JSON.stringify({value:t,expires:i.expires});return this.isAvailable(o)?n[this.type].setItem(e,o):!1}},r.prototype.get=function(e){if(this.isStorageAvailable()){var t,r;if(!n[this.type])return;if(t=n[this.type].getItem(e),null===t)return null;try{r=JSON.parse(t)}catch(i){return this.remove(e),null}return r.expires&&new Date>new Date(r.expires)?(this.remove(e),null):r.value}},r.prototype.getRaw=function(e){return this.isStorageAvailable()?n[this.type].getItem(e):void 0},r.prototype.remove=function(e){return this.isStorageAvailable()?n[this.type].removeItem(e):void 0},r.prototype.removeAll=function(){return this.isStorageAvailable()?n[this.type].clear():void 0},r.prototype.length=function(){return this.isStorageAvailable()?n[this.type].length:void 0},r.prototype.getKey=function(e){return this.isStorageAvailable()?n[this.type].key(e):void 0},r.prototype.clearByPrefix=function(e){if(this.isStorageAvailable()){var t,n;for(t=this.length()-1;t>-1;--t)n=this.getKey(t),0===n.indexOf(e)&&this.remove(n)}},{local:new r("localStorage"),session:new r("sessionStorage")}}),define("common/utils/template",["common/utils/_"],function(e){return e.template.bind(e)}),define("common/utils/fastdom-errors",["fastdom","common/utils/report-error"],function(e,t){
e.onError=function(e){window.console&&window.console.warn&&window.console.warn("Caught FastDom error.",e.stack),t(e,{feature:"fastdom"},!1)}}),define("common/modules/analytics/beacon",["common/utils/_","common/utils/config","common/utils/ajax"],function(e,t,n){function r(t){return e.map(e.isArray(t)?t:[t],function(e){return"c="+e}).join("&")}function i(e){var n;return o?(n=t.page.beaconUrl+"/accept-beacon?"+r(e),navigator.sendBeacon(n,"")):void 0}var o=!!navigator.sendBeacon;return{fire:function(e){var n=new Image;return n.src=t.page.beaconUrl+e,n},postJson:function(e,r,i){var a=(t.page.beaconUrl||"").replace(/^\/\//,window.location.protocol+"//")+e;o&&!i?window.addEventListener("unload",function(){navigator.sendBeacon(a,r)},!1):n({url:a,type:"json",method:"post",contentType:"application/json",data:r,crossOrigin:!0})},counts:function(e){if(o)return i(e);var t=r(e);return this.fire("/counts.gif?"+t)},beaconCounts:i}}),function(e,t,n){"undefined"!=typeof module&&module.exports?module.exports=n():"function"==typeof define&&define.amd?define("bean",n):t[e]=n()}("bean",this,function(e,t){e=e||"bean",t=t||this;var n,r=window,i=t[e],o=/[^\.]*(?=\..*)\.|.*/,a=/\..*/,s="addEventListener",l="removeEventListener",u=document||{},c=u.documentElement||{},f=c[s],h=f?s:"attachEvent",p={},d=Array.prototype.slice,m=function(e,t){return e.split(t||" ")},g=function(e){return"string"==typeof e},v=function(e){return"function"==typeof e},y="click dblclick mouseup mousedown contextmenu mousewheel mousemultiwheel DOMMouseScroll mouseover mouseout mousemove selectstart selectend keydown keypress keyup orientationchange focus blur change reset select submit load unload beforeunload resize move DOMContentLoaded readystatechange message error abort scroll ",b="show input invalid touchstart touchmove touchend touchcancel gesturestart gesturechange gestureend textinput readystatechange pageshow pagehide popstate hashchange offline online afterprint beforeprint dragstart dragenter dragover dragleave drag drop dragend loadstart progress suspend emptied stalled loadmetadata loadeddata canplay canplaythrough playing waiting seeking seeked ended durationchange timeupdate play pause ratechange volumechange cuechange checking noupdate downloading cached updateready obsolete ",w=function(e,t,n){for(n=0;n<t.length;n++)t[n]&&(e[t[n]]=1);return e}({},m(y+(f?b:""))),x=function(){var e="compareDocumentPosition"in c?function(e,t){return t.compareDocumentPosition&&16===(16&t.compareDocumentPosition(e))}:"contains"in c?function(e,t){return t=9===t.nodeType||t===window?c:t,t!==e&&t.contains(e)}:function(e,t){for(;e=e.parentNode;)if(e===t)return 1;return 0},t=function(t){var n=t.relatedTarget;return n?n!==this&&"xul"!==n.prefix&&!/document/.test(this.toString())&&!e(n,this):null==n};return{mouseenter:{base:"mouseover",condition:t},mouseleave:{base:"mouseout",condition:t},mousewheel:{base:/Firefox/.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel"}}}(),k=function(){var e=m("altKey attrChange attrName bubbles cancelable ctrlKey currentTarget detail eventPhase getModifierState isTrusted metaKey relatedNode relatedTarget shiftKey srcElement target timeStamp type view which propertyName"),t=e.concat(m("button buttons clientX clientY dataTransfer fromElement offsetX offsetY pageX pageY screenX screenY toElement")),n=t.concat(m("wheelDelta wheelDeltaX wheelDeltaY wheelDeltaZ axis")),i=e.concat(m("char charCode key keyCode keyIdentifier keyLocation location")),o=e.concat(m("data")),a=e.concat(m("touches targetTouches changedTouches scale rotation")),s=e.concat(m("data origin source")),l=e.concat(m("state")),f=/over|out/,h=[{reg:/key/i,fix:function(e,t){return t.keyCode=e.keyCode||e.which,i}},{reg:/click|mouse(?!(.*wheel|scroll))|menu|drag|drop/i,fix:function(e,n,r){return n.rightClick=3===e.which||2===e.button,n.pos={x:0,y:0},e.pageX||e.pageY?(n.clientX=e.pageX,n.clientY=e.pageY):(e.clientX||e.clientY)&&(n.clientX=e.clientX+u.body.scrollLeft+c.scrollLeft,n.clientY=e.clientY+u.body.scrollTop+c.scrollTop),f.test(r)&&(n.relatedTarget=e.relatedTarget||e[("mouseover"==r?"from":"to")+"Element"]),t}},{reg:/mouse.*(wheel|scroll)/i,fix:function(){return n}},{reg:/^text/i,fix:function(){return o}},{reg:/^touch|^gesture/i,fix:function(){return a}},{reg:/^message$/i,fix:function(){return s}},{reg:/^popstate$/i,fix:function(){return l}},{reg:/.*/,fix:function(){return e}}],p={},d=function(e,t,n){if(arguments.length&&(e=e||((t.ownerDocument||t.document||t).parentWindow||r).event,this.originalEvent=e,this.isNative=n,this.isBean=!0,e)){var i,o,a,s,l,u=e.type,c=e.target||e.srcElement;if(this.target=c&&3===c.nodeType?c.parentNode:c,n){if(l=p[u],!l)for(i=0,o=h.length;o>i;i++)if(h[i].reg.test(u)){p[u]=l=h[i].fix;break}for(s=l(e,this,u),i=s.length;i--;)!((a=s[i])in this)&&a in e&&(this[a]=e[a])}}};return d.prototype.preventDefault=function(){this.originalEvent.preventDefault?this.originalEvent.preventDefault():this.originalEvent.returnValue=!1},d.prototype.stopPropagation=function(){this.originalEvent.stopPropagation?this.originalEvent.stopPropagation():this.originalEvent.cancelBubble=!0},d.prototype.stop=function(){this.preventDefault(),this.stopPropagation(),this.stopped=!0},d.prototype.stopImmediatePropagation=function(){this.originalEvent.stopImmediatePropagation&&this.originalEvent.stopImmediatePropagation(),this.isImmediatePropagationStopped=function(){return!0}},d.prototype.isImmediatePropagationStopped=function(){return this.originalEvent.isImmediatePropagationStopped&&this.originalEvent.isImmediatePropagationStopped()},d.prototype.clone=function(e){var t=new d(this,this.element,this.isNative);return t.currentTarget=e,t},d}(),_=function(e,t){return f||t||e!==u&&e!==r?e:c},M=function(){var e=function(e,t,n,r){var i=function(n,i){return t.apply(e,r?d.call(i,n?0:1).concat(r):i)},o=function(n,r){return t.__beanDel?t.__beanDel.ft(n.target,e):r},a=n?function(e){var t=o(e,this);return n.apply(t,arguments)?(e&&(e.currentTarget=t),i(e,arguments)):void 0}:function(e){return t.__beanDel&&(e=e.clone(o(e))),i(e,arguments)};return a.__beanDel=t.__beanDel,a},t=function(t,n,r,i,o,a,s){var l,u=x[n];"unload"==n&&(r=T(E,t,n,r,i)),u&&(u.condition&&(r=e(t,r,u.condition,a)),n=u.base||n),this.isNative=l=w[n]&&!!t[h],this.customType=!f&&!l&&n,this.element=t,this.type=n,this.original=i,this.namespaces=o,this.eventType=f||l?n:"propertychange",this.target=_(t,l),this[h]=!!this.target[h],this.root=s,this.handler=e(t,r,null,a)};return t.prototype.inNamespaces=function(e){var t,n,r=0;if(!e)return!0;if(!this.namespaces)return!1;for(t=e.length;t--;)for(n=this.namespaces.length;n--;)e[t]==this.namespaces[n]&&r++;return e.length===r},t.prototype.matches=function(e,t,n){return!(this.element!==e||t&&this.original!==t||n&&this.handler!==n)},t}(),z=function(){var e={},t=function(n,r,i,o,a,s){var l=a?"r":"$";if(r&&"*"!=r){var u,c=0,f=e[l+r],h="*"==n;if(!f)return;for(u=f.length;u>c;c++)if((h||f[c].matches(n,i,o))&&!s(f[c],f,c,r))return}else for(var p in e)p.charAt(0)==l&&t(n,p.substr(1),i,o,a,s)},n=function(t,n,r,i){var o,a=e[(i?"r":"$")+n];if(a)for(o=a.length;o--;)if(!a[o].root&&a[o].matches(t,r,null))return!0;return!1},r=function(e,n,r,i){var o=[];return t(e,n,r,null,i,function(e){return o.push(e)}),o},i=function(t){var n=!t.root&&!this.has(t.element,t.type,null,!1),r=(t.root?"r":"$")+t.type;return(e[r]||(e[r]=[])).push(t),n},o=function(n){t(n.element,n.type,null,n.handler,n.root,function(t,n,r){return n.splice(r,1),t.removed=!0,0===n.length&&delete e[(t.root?"r":"$")+t.type],!1})},a=function(){var t,n=[];for(t in e)"$"==t.charAt(0)&&(n=n.concat(e[t]));return n};return{has:n,get:r,put:i,del:o,entries:a}}(),C=function(e){n=arguments.length?e:u.querySelectorAll?function(e,t){return t.querySelectorAll(e)}:function(){throw new Error("Bean: No selector engine installed")}},S=function(e,t){if(f||!t||!e||e.propertyName=="_on"+t){var n=z.get(this,t||e.type,null,!1),r=n.length,i=0;for(e=new k(e,this,!0),t&&(e.type=t);r>i&&!e.isImmediatePropagationStopped();i++)n[i].removed||n[i].handler.call(this,e)}},D=f?function(e,t,n){e[n?s:l](t,S,!1)}:function(e,t,n,r){var i;n?(z.put(i=new M(e,r||t,function(t){S.call(e,t,r)},S,null,null,!0)),r&&null==e["_on"+r]&&(e["_on"+r]=0),i.target.attachEvent("on"+i.eventType,i.handler)):(i=z.get(e,r||t,S,!0)[0],i&&(i.target.detachEvent("on"+i.eventType,i.handler),z.del(i)))},T=function(e,t,n,r,i){return function(){r.apply(this,arguments),e(t,n,i)}},E=function(e,t,n,r){var i,o,s=t&&t.replace(a,""),l=z.get(e,s,null,!1),u={};for(i=0,o=l.length;o>i;i++)n&&l[i].original!==n||!l[i].inNamespaces(r)||(z.del(l[i]),!u[l[i].eventType]&&l[i][h]&&(u[l[i].eventType]={t:l[i].eventType,c:l[i].type}));for(i in u)z.has(e,u[i].t,null,!1)||D(e,u[i].t,!1,u[i].c)},A=function(e,t){var r=function(t,r){for(var i,o=g(e)?n(e,r):e;t&&t!==r;t=t.parentNode)for(i=o.length;i--;)if(o[i]===t)return t},i=function(e){var n=r(e.target,this);n&&t.apply(n,arguments)};return i.__beanDel={ft:r,selector:e},i},B=f?function(e,t,n){var i=u.createEvent(e?"HTMLEvents":"UIEvents");i[e?"initEvent":"initUIEvent"](t,!0,!0,r,1),n.dispatchEvent(i)}:function(e,t,n){n=_(n,e),e?n.fireEvent("on"+t,u.createEventObject()):n["_on"+t]++},j=function(e,t,n){var r,i,s,l,u=g(t);if(u&&t.indexOf(" ")>0){for(t=m(t),l=t.length;l--;)j(e,t[l],n);return e}if(i=u&&t.replace(a,""),i&&x[i]&&(i=x[i].base),!t||u)(s=u&&t.replace(o,""))&&(s=m(s,".")),E(e,i,n,s);else if(v(t))E(e,null,t);else for(r in t)t.hasOwnProperty(r)&&j(e,r,t[r]);return e},L=function(e,t,r,i){var s,l,u,c,f,g,y;{if(void 0!==r||"object"!=typeof t){for(v(r)?(f=d.call(arguments,3),i=s=r):(s=i,f=d.call(arguments,4),i=A(r,s,n)),u=m(t),this===p&&(i=T(j,e,t,i,s)),c=u.length;c--;)y=z.put(g=new M(e,u[c].replace(a,""),i,s,m(u[c].replace(o,""),"."),f,!1)),g[h]&&y&&D(e,g.eventType,!0,g.customType);return e}for(l in t)t.hasOwnProperty(l)&&L.call(this,e,l,t[l])}},O=function(e,t,n,r){return L.apply(null,g(n)?[e,n,t,r].concat(arguments.length>3?d.call(arguments,5):[]):d.call(arguments))},F=function(){return L.apply(p,arguments)},R=function(e,t,n){var r,i,s,l,u,c=m(t);for(r=c.length;r--;)if(t=c[r].replace(a,""),(l=c[r].replace(o,""))&&(l=m(l,".")),l||n||!e[h])for(u=z.get(e,t,null,!1),n=[!1].concat(n),i=0,s=u.length;s>i;i++)u[i].inNamespaces(l)&&u[i].handler.apply(e,n);else B(w[t],t,e);return e},P=function(e,t,n){for(var r,i,o=z.get(t,n,null,!1),a=o.length,s=0;a>s;s++)o[s].original&&(r=[e,o[s].type],(i=o[s].handler.__beanDel)&&r.push(i.selector),r.push(o[s].original),L.apply(null,r));return e},H={on:L,add:O,one:F,off:j,remove:j,clone:P,fire:R,Event:k,setSelectorEngine:C,noConflict:function(){return t[e]=i,this}};if(r.attachEvent){var N=function(){var e,t=z.entries();for(e in t)t[e].type&&"unload"!==t[e].type&&j(t[e].element,t[e].type);r.detachEvent("onunload",N),r.CollectGarbage&&r.CollectGarbage()};r.attachEvent("onunload",N)}return C(),H}),!function(e){"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define("Promise",e):"undefined"!=typeof window?window.Promise=e():"undefined"!=typeof global?global.Promise=e():"undefined"!=typeof self&&(self.Promise=e())}(function(){var e;return function t(e,n,r){function i(a,s){if(!n[a]){if(!e[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);throw new Error("Cannot find module '"+a+"'")}var u=n[a]={exports:{}};e[a][0].call(u.exports,function(t){var n=e[a][1][t];return i(n?n:t)},u,u.exports,t,e,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){var r=e("../lib/decorators/unhandledRejection"),i=r(e("../lib/Promise"));t.exports="undefined"!=typeof global?global.Promise=i:"undefined"!=typeof self?self.Promise=i:i},{"../lib/Promise":2,"../lib/decorators/unhandledRejection":4}],2:[function(t,n,r){!function(e){"use strict";e(function(e){var t=e("./makePromise"),n=e("./Scheduler"),r=e("./env").asap;return t({scheduler:new n(r)})})}("function"==typeof e&&e.amd?e:function(e){n.exports=e(t)})},{"./Scheduler":3,"./env":5,"./makePromise":7}],3:[function(t,n,r){!function(e){"use strict";e(function(){function e(e){this._async=e,this._running=!1,this._queue=this,this._queueLen=0,this._afterQueue={},this._afterQueueLen=0;var t=this;this.drain=function(){t._drain()}}return e.prototype.enqueue=function(e){this._queue[this._queueLen++]=e,this.run()},e.prototype.afterQueue=function(e){this._afterQueue[this._afterQueueLen++]=e,this.run()},e.prototype.run=function(){this._running||(this._running=!0,this._async(this.drain))},e.prototype._drain=function(){for(var e=0;e<this._queueLen;++e)this._queue[e].run(),this._queue[e]=void 0;for(this._queueLen=0,this._running=!1,e=0;e<this._afterQueueLen;++e)this._afterQueue[e].run(),this._afterQueue[e]=void 0;this._afterQueueLen=0},e})}("function"==typeof e&&e.amd?e:function(e){n.exports=e()})},{}],4:[function(t,n,r){!function(e){"use strict";e(function(e){function t(e){throw e}function n(){}var r=e("../env").setTimer,i=e("../format");return function(e){function o(e){e.handled||(p.push(e),c("Potentially unhandled rejection ["+e.id+"] "+i.formatError(e.value)))}function a(e){var t=p.indexOf(e);t>=0&&(p.splice(t,1),f("Handled previous rejection ["+e.id+"] "+i.formatObject(e.value)))}function s(e,t){h.push(e,t),null===d&&(d=r(l,0))}function l(){for(d=null;h.length>0;)h.shift()(h.shift())}var u,c=n,f=n;"undefined"!=typeof console&&(u=console,c="undefined"!=typeof u.error?function(e){u.error(e)}:function(e){u.log(e)},f="undefined"!=typeof u.info?function(e){u.info(e)}:function(e){u.log(e)}),e.onPotentiallyUnhandledRejection=function(e){s(o,e)},e.onPotentiallyUnhandledRejectionHandled=function(e){s(a,e)},e.onFatalRejection=function(e){s(t,e.value)};var h=[],p=[],d=null;return e}})}("function"==typeof e&&e.amd?e:function(e){n.exports=e(t)})},{"../env":5,"../format":6}],5:[function(t,n,r){!function(e){"use strict";e(function(e){function t(){return"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process)}function n(){return"function"==typeof MutationObserver&&MutationObserver||"function"==typeof WebKitMutationObserver&&WebKitMutationObserver}function r(e){function t(){var e=n;n=void 0,e()}var n,r=document.createTextNode(""),i=new e(t);i.observe(r,{characterData:!0});var o=0;return function(e){n=e,r.data=o^=1}}var i,o="undefined"!=typeof setTimeout&&setTimeout,a=function(e,t){return setTimeout(e,t)},s=function(e){return clearTimeout(e)},l=function(e){return o(e,0)};if(t())l=function(e){return process.nextTick(e)};else if(i=n())l=r(i);else if(!o){var u=e,c=u("vertx");a=function(e,t){return c.setTimer(t,e)},s=c.cancelTimer,l=c.runOnLoop||c.runOnContext}return{setTimer:a,clearTimer:s,asap:l}})}("function"==typeof e&&e.amd?e:function(e){n.exports=e(t)})},{}],6:[function(t,n,r){!function(e){"use strict";e(function(){function e(e){var n="object"==typeof e&&null!==e&&e.stack?e.stack:t(e);return e instanceof Error?n:n+" (WARNING: non-Error used)"}function t(e){var t=String(e);return"[object Object]"===t&&"undefined"!=typeof JSON&&(t=n(e,t)),t}function n(e,t){try{return JSON.stringify(e)}catch(n){return t}}return{formatError:e,formatObject:t,tryStringify:n}})}("function"==typeof e&&e.amd?e:function(e){n.exports=e()})},{}],7:[function(t,n,r){!function(e){"use strict";e(function(){return function(e){function t(e,t){this._handler=e===b?t:n(e)}function n(e){function t(e){i.resolve(e)}function n(e){i.reject(e)}function r(e){i.notify(e)}var i=new x;try{e(t,n,r)}catch(o){n(o)}return i}function r(e){return L(e)?e:new t(b,new k(g(e)))}function i(e){return new t(b,new k(new z(e)))}function o(){return Z}function a(){return new t(b,new x)}function s(e,t){var n=new x(e.receiver,e.join().context);return new t(b,n)}function l(e){return c(U,null,e)}function u(e,t){return c(H,e,t)}function c(e,n,r){function i(t,i,a){a.resolved||f(r,o,t,e(n,i,t),a)}function o(e,t,n){c[e]=t,0===--u&&n.become(new M(c))}for(var a,s="function"==typeof n?i:o,l=new x,u=r.length>>>0,c=new Array(u),h=0;h<r.length&&!l.resolved;++h)a=r[h],void 0!==a||h in r?f(r,s,h,a,l):--u;return 0===u&&l.become(new M(c)),new t(b,l)}function f(e,t,n,r,i){if(O(r)){var o=v(r),a=o.state();0===a?o.fold(t,n,void 0,i):a>0?t(n,o.value,i):(i.become(o),h(e,n+1,o))}else t(n,r,i)}function h(e,t,n){for(var r=t;r<e.length;++r)p(g(e[r]),n)}function p(e,t){if(e!==t){var n=e.state();0===n?e.visit(e,void 0,e._unreport):0>n&&e._unreport()}}function d(e){return"object"!=typeof e||null===e?i(new TypeError("non-iterable passed to race()")):0===e.length?o():1===e.length?r(e[0]):m(e)}function m(e){var n,r,i,o=new x;for(n=0;n<e.length;++n)if(r=e[n],void 0!==r||n in e){if(i=g(r),0!==i.state()){o.become(i),h(e,n+1,i);break}i.visit(o,o.resolve,o.reject)}return new t(b,o)}function g(e){return L(e)?e._handler.join():O(e)?y(e):new M(e)}function v(e){return L(e)?e._handler.join():y(e)}function y(e){try{var t=e.then;return"function"==typeof t?new _(t,e):new M(e)}catch(n){return new z(n)}}function b(){}function w(){}function x(e,n){t.createContext(this,n),this.consumers=void 0,this.receiver=e,this.handler=void 0,this.resolved=!1}function k(e){this.handler=e}function _(e,t){x.call(this),K.enqueue(new A(e,t,this))}function M(e){t.createContext(this),this.value=e}function z(e){t.createContext(this),this.id=++J,this.value=e,this.handled=!1,this.reported=!1,this._report()}function C(e,t){this.rejection=e,this.context=t}function S(e){this.rejection=e}function D(){return new z(new TypeError("Promise cycle"))}function T(e,t){this.continuation=e,this.handler=t}function E(e,t){this.handler=t,this.value=e}function A(e,t,n){this._then=e,this.thenable=t,this.resolver=n}function B(e,t,n,r,i){try{e.call(t,n,r,i)}catch(o){r(o)}}function j(e,t,n,r){this.f=e,this.z=t,this.c=n,this.to=r,this.resolver=X,this.receiver=this}function L(e){return e instanceof t}function O(e){return("object"==typeof e||"function"==typeof e)&&null!==e}function F(e,n,r,i){return"function"!=typeof e?i.become(n):(t.enterContext(n),N(e,n.value,r,i),void t.exitContext())}function R(e,n,r,i,o){return"function"!=typeof e?o.become(r):(t.enterContext(r),I(e,n,r.value,i,o),void t.exitContext())}function P(e,n,r,i,o){return"function"!=typeof e?o.notify(n):(t.enterContext(r),q(e,n,i,o),void t.exitContext())}function H(e,t,n){try{return e(t,n)}catch(r){return i(r)}}function N(e,t,n,r){try{r.become(g(e.call(n,t)))}catch(i){r.become(new z(i))}}function I(e,t,n,r,i){try{e.call(r,t,n,i)}catch(o){i.become(new z(o))}}function q(e,t,n,r){try{r.notify(e.call(n,t))}catch(i){r.notify(i)}}function $(e,t){t.prototype=Q(e.prototype),t.prototype.constructor=t}function U(e,t){return t}function V(){}function W(){return"undefined"!=typeof process&&null!==process&&"function"==typeof process.emit?function(e,t){return"unhandledRejection"===e?process.emit(e,t.value,t):process.emit(e,t)}:"undefined"!=typeof self&&"function"==typeof CustomEvent?function(e,t,n){var r=!1;try{var i=new n("unhandledRejection");r=i instanceof n}catch(o){}return r?function(e,r){var i=new n(e,{detail:{reason:r.value,key:r},bubbles:!1,cancelable:!0});return!t.dispatchEvent(i)}:e}(V,self,CustomEvent):V}var K=e.scheduler,G=W(),Q=Object.create||function(e){function t(){}return t.prototype=e,new t};t.resolve=r,t.reject=i,t.never=o,t._defer=a,t._handler=g,t.prototype.then=function(e,t,n){var r=this._handler,i=r.join().state();if("function"!=typeof e&&i>0||"function"!=typeof t&&0>i)return new this.constructor(b,r);var o=this._beget(),a=o._handler;return r.chain(a,r.receiver,e,t,n),o},t.prototype["catch"]=function(e){return this.then(void 0,e)},t.prototype._beget=function(){return s(this._handler,this.constructor)},t.all=l,t.race=d,t._traverse=u,t._visitRemaining=h,b.prototype.when=b.prototype.become=b.prototype.notify=b.prototype.fail=b.prototype._unreport=b.prototype._report=V,b.prototype._state=0,b.prototype.state=function(){return this._state},b.prototype.join=function(){for(var e=this;void 0!==e.handler;)e=e.handler;return e},b.prototype.chain=function(e,t,n,r,i){this.when({resolver:e,receiver:t,fulfilled:n,rejected:r,progress:i})},b.prototype.visit=function(e,t,n,r){this.chain(X,e,t,n,r)},b.prototype.fold=function(e,t,n,r){this.when(new j(e,t,n,r))},$(b,w),w.prototype.become=function(e){e.fail()};var X=new w;$(b,x),x.prototype._state=0,x.prototype.resolve=function(e){this.become(g(e))},x.prototype.reject=function(e){this.resolved||this.become(new z(e))},x.prototype.join=function(){if(!this.resolved)return this;for(var e=this;void 0!==e.handler;)if(e=e.handler,e===this)return this.handler=D();return e},x.prototype.run=function(){var e=this.consumers,t=this.handler;this.handler=this.handler.join(),this.consumers=void 0;for(var n=0;n<e.length;++n)t.when(e[n])},x.prototype.become=function(e){this.resolved||(this.resolved=!0,this.handler=e,void 0!==this.consumers&&K.enqueue(this),void 0!==this.context&&e._report(this.context))},x.prototype.when=function(e){this.resolved?K.enqueue(new T(e,this.handler)):void 0===this.consumers?this.consumers=[e]:this.consumers.push(e)},x.prototype.notify=function(e){this.resolved||K.enqueue(new E(e,this))},x.prototype.fail=function(e){var t="undefined"==typeof e?this.context:e;this.resolved&&this.handler.join().fail(t)},x.prototype._report=function(e){this.resolved&&this.handler.join()._report(e)},x.prototype._unreport=function(){this.resolved&&this.handler.join()._unreport()},$(b,k),k.prototype.when=function(e){K.enqueue(new T(e,this))},k.prototype._report=function(e){this.join()._report(e)},k.prototype._unreport=function(){this.join()._unreport()},$(x,_),$(b,M),M.prototype._state=1,M.prototype.fold=function(e,t,n,r){R(e,t,this,n,r)},M.prototype.when=function(e){F(e.fulfilled,this,e.receiver,e.resolver)};var J=0;$(b,z),z.prototype._state=-1,z.prototype.fold=function(e,t,n,r){r.become(this)},z.prototype.when=function(e){"function"==typeof e.rejected&&this._unreport(),F(e.rejected,this,e.receiver,e.resolver)},z.prototype._report=function(e){K.afterQueue(new C(this,e))},z.prototype._unreport=function(){this.handled||(this.handled=!0,K.afterQueue(new S(this)))},z.prototype.fail=function(e){this.reported=!0,G("unhandledRejection",this),t.onFatalRejection(this,void 0===e?this.context:e)},C.prototype.run=function(){this.rejection.handled||this.rejection.reported||(this.rejection.reported=!0,G("unhandledRejection",this.rejection)||t.onPotentiallyUnhandledRejection(this.rejection,this.context))},S.prototype.run=function(){this.rejection.reported&&(G("rejectionHandled",this.rejection)||t.onPotentiallyUnhandledRejectionHandled(this.rejection))},t.createContext=t.enterContext=t.exitContext=t.onPotentiallyUnhandledRejection=t.onPotentiallyUnhandledRejectionHandled=t.onFatalRejection=V;var Y=new b,Z=new t(b,Y);return T.prototype.run=function(){this.handler.join().when(this.continuation)},E.prototype.run=function(){var e=this.handler.consumers;if(void 0!==e)for(var t,n=0;n<e.length;++n)t=e[n],P(t.progress,this.value,this.handler,t.receiver,t.resolver)},A.prototype.run=function(){function e(e){r.resolve(e)}function t(e){r.reject(e)}function n(e){r.notify(e)}var r=this.resolver;B(this._then,this.thenable,e,t,n)},j.prototype.fulfilled=function(e){this.f.call(this.c,this.z,e,this.to)},j.prototype.rejected=function(e){this.to.reject(e)},j.prototype.progress=function(e){this.to.notify(e)},t}})}("function"==typeof e&&e.amd?e:function(e){n.exports=e()})},{}]},{},[1])(1)}),define("common/modules/article/spacefinder",["common/utils/$","fastdom","qwery","bonzo","bean","Promise","common/utils/_","common/utils/config","common/utils/mediator"],function(e,t,n,r,i,o,a,s,l){function u(e){return{top:e.offsetTop,bottom:e.offsetTop+e.offsetHeight,element:e}}function c(e,n){t.write(function(){r(e).addClass("spacefinder--error").attr("data-spacefinder-msg",n)})}function f(e,t,r,i){var o,s=a(e);return s=s.filter(function(e){var n=e.top>=t.minAbove,o=e.top+t.minBelow<=r,a=n&&o;return i&&!a&&(n||c(e.element,"too close to top of body"),o||c(e.element,"too close to bottom of body")),a}),t.clearContentMeta&&(o=u(n(".js-content-meta")[0]),s=s.filter(function(e){var n=e.top>o.bottom+t.clearContentMeta;return i&&!n&&c(e.element,"too close to content meta"),n})),a(t.selectors).forOwn(function(e,t){var r=a(n(g+t)).map(u);s=s.filter(function(n){var o=b(n,r,e);return i&&!o&&c(n.element,"too close to selector ("+t+")"),o})}),s.valueOf()}function h(){var t=a.filter(e(".js-article__body img"),function(e){return!e.complete});return o.all(a.map(t,function(e){return new o(function(t){window.setTimeout(t,5e3),i.on(e,"load",t)})}))}function p(){return new o(function(e){window.setTimeout(e,5e3),function t(){var r=n(".js-article__body .element-rich-link--not-upgraded");return r.length?void l.once("rich-link:loaded",t):e()}()})}function d(){return s.switches.viewability?o.all([h(),p()]):o.resolve()}function m(e,i){var s,l,c;return e=e||v,d().then(function(){return new o(function(o){t.read(function(){s=n(g)[0].offsetHeight,l=a(n(g+" > p")).map(u),i&&t.write(function(){r(l.pluck("element").valueOf()).attr("data-spacefinder-msg","").removeClass("spacefinder--valid").removeClass("spacefinder--error")}),c=f(l,e,s,i),i&&t.write(function(){r(a.pluck(c,"element")).addClass("spacefinder--valid")}),o(c.length?c[0].element:void 0)})})})}var g=".js-article__body",v={minAbove:250,minBelow:300,clearContentMeta:50,selectors:{" > h2":{minAbove:0,minBelow:250}," > *:not(p):not(h2)":{minAbove:25,minBelow:250}}},y=function(e,t,n){var r=e.top-t.bottom>=n.minAbove,i=t.top-e.top>=n.minBelow;return r||i},b=function(e,t,n){return a(t).every(function(t){return y(e,t,n)}).valueOf()};return{getParaWithSpace:m,_testElem:y,_testElems:b}}),define("text!common/views/commercial/ad-slot.html",[],function(){return'<div id="dfp-ad--<%=name%>"\n    class="js-ad-slot ad-slot ad-slot--dfp ad-slot--<%=normalisedName%><%=types%>"\n    data-link-name="ad slot <%=name%>"\n    data-test-id="ad-slot-<%=name%>"\n    data-name="<%=name%>"\n    <%=sizeMappings%>></div>\n'}),define("common/modules/commercial/create-ad-slot",["common/utils/_","common/utils/$","common/utils/config","common/utils/detect","common/utils/template","text!common/views/commercial/ad-slot.html"],function(e,t,n,r,i,o){var a={right:{sizeMappings:{mobile:"1,1|300,250|300,600"+("US"===n.page.edition?"|300,1050":"")}},"right-sticky":{name:"right",sizeMappings:{mobile:"1,1|300,250|300,251|300,600"+("US"===n.page.edition?"|300,1050":"")}},"right-small":{name:"right",sizeMappings:{mobile:"1,1|300,250"}},im:{label:!1,refresh:!1,sizeMappings:{mobile:"1,1|88,85"}},inline1:{sizeMappings:{mobile:"1,1|300,50|300,250","mobile-landscape":"1,1|300,50|320,50|300,250",tablet:"1,1|300,250"}},inline:{sizeMappings:{mobile:"1,1|300,50","mobile-landscape":"1,1|300,50|320,50",tablet:"1,1|300,250"}},mostpop:{sizeMappings:{mobile:"1,1|300,50","mobile-landscape":"1,1|300,50|320,50",tablet:"1,1|300,250"}},"merchandising-high":{label:!1,refresh:!1,sizeMappings:{mobile:"1,1|88,87"}},spbadge:{label:!1,refresh:!1,sizeMappings:{mobile:"1,1|140,90"}},adbadge:{label:!1,refresh:!1,sizeMappings:{mobile:"1,1|140,90"}},fobadge:{label:!1,refresh:!1,sizeMappings:{mobile:"1,1|140,90"}},comments:{sizeMappings:{mobile:"1,1|300,250"}}};return n.switches.noMobileTopAd&&"mobile"===r.getBreakpoint()&&(a.inline1.sizeMappings={mobile:"1,1|300,250"},a.inline.sizeMappings={mobile:"1,1|300,250"},a.mostpop.sizeMappings={mobile:"1,1|300,250"}),function(r,s,l,u,c){var f,h,p,d,m=c?c:r;h=m.match(/^inline/)&&"inline1"!==m?a.inline:a[m],n.page.hasPageSkin&&"merchandising-high"===m&&(h.sizeMappings.wide="1,1"),p={label:void 0!==h.label?h.label:!0,refresh:void 0!==h.refresh?h.refresh:!0},d=t.create(i(o,{name:h.name||r,normalisedName:(h.name||r).replace(/((?:ad|fo|sp)badge).*/,"$1"),types:s?e.map(e.isArray(s)?s:[s],function(e){return" ad-slot--"+e}).join(""):"",sizeMappings:e.map(e.pairs(h.sizeMappings),function(e){return" data-"+e[0]+'="'+e[1]+'"'}).join("")}));for(f in p)p[f]===!1&&d.attr("data-"+f,"false");return c&&d.attr("data-slot-target",c),l&&d.attr("data-series",l),u&&d.attr("data-keywords",u),d[0]}}),define("common/utils/$css",[],function(){return function(e,t){return window.document.defaultView&&window.document.defaultView.getComputedStyle?e.css(t):e[0].currentStyle[t]}}),define("common/utils/user-timing",[],function(){function e(e){t&&"mark"in t&&t.mark("gu."+e)}var t=window.performance||window.msPerformance||window.webkitPerformance||window.mozPerformance;return{mark:e}}),define("common/utils/sha1",[],function(){var e={};return e.hash=function(t){t=decodeURIComponent(encodeURIComponent(t));var n=[1518500249,1859775393,2400959708,3395469782];t+=String.fromCharCode(128);for(var r=t.length/4+2,i=Math.ceil(r/16),o=new Array(i),a=0;i>a;a++){o[a]=new Array(16);for(var s=0;16>s;s++)o[a][s]=t.charCodeAt(64*a+4*s)<<24|t.charCodeAt(64*a+4*s+1)<<16|t.charCodeAt(64*a+4*s+2)<<8|t.charCodeAt(64*a+4*s+3)}o[i-1][14]=8*(t.length-1)/Math.pow(2,32),o[i-1][14]=Math.floor(o[i-1][14]),o[i-1][15]=8*(t.length-1)&4294967295;for(var l,u,c,f,h,p=1732584193,d=4023233417,m=2562383102,g=271733878,v=3285377520,y=new Array(80),a=0;i>a;a++){for(var b=0;16>b;b++)y[b]=o[a][b];for(var b=16;80>b;b++)y[b]=e.ROTL(y[b-3]^y[b-8]^y[b-14]^y[b-16],1);l=p,u=d,c=m,f=g,h=v;for(var b=0;80>b;b++){var w=Math.floor(b/20),x=e.ROTL(l,5)+e.f(w,u,c,f)+h+n[w]+y[b]&4294967295;h=f,f=c,c=e.ROTL(u,30),u=l,l=x}p=p+l&4294967295,d=d+u&4294967295,m=m+c&4294967295,g=g+f&4294967295,v=v+h&4294967295}return e.toHexStr(p)+e.toHexStr(d)+e.toHexStr(m)+e.toHexStr(g)+e.toHexStr(v)},e.f=function(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:return t^n^r;case 2:return t&n^t&r^n&r;case 3:return t^n^r}},e.ROTL=function(e,t){return e<<t|e>>>32-t},e.toHexStr=function(e){for(var t,n="",r=7;r>=0;r--)t=e>>>4*r&15,n+=t.toString(16);return n},e}),define("common/modules/ui/sticky",["bonzo","common/utils/_","common/utils/$","common/utils/config","common/utils/mediator","fastdom"],function(e,t,n,r,i,o){var a=function(n,r){this.$element=e(n),this.$parent=this.$element.parent(),this.opts=t.defaults(r||{},{top:0}),t.bindAll(this,"updatePosition")};return a.prototype.init=function(){i.on("window:throttledScroll",this.updatePosition),o.read(this.updatePosition)},a.prototype.updatePosition=function(){var e,t,i,a=this;i=r.switches.viewability?n(".navigation").dim().height:0,window.scrollY>=this.$parent.offset().top-this.opts.top-i?(e=Math.min(this.opts.top,this.$parent[0].getBoundingClientRect().bottom-this.$element.dim().height),0!==e&&(t={position:"fixed",top:e})):t={position:null,top:null},o.write(function(){a.$element.css(t)})},a}),define("common/modules/commercial/ads/sticky-mpu",["qwery","common/utils/$","common/utils/_","common/utils/config","common/modules/ui/sticky"],function(e,t,n,r,i){var o=275,a=function(e,t){this.$adSlot=e,this.opts=n.defaults(t||{},{top:0})};return a.prototype.create=function(){var n;"right"===this.$adSlot.data("name")&&(n=r.page.hasShowcaseMainElement?t(".media-primary").dim().height:e(".content__article-body")[0].offsetTop,this.$adSlot.parent().css("height",n+o+"px"),new i(this.$adSlot[0],{top:this.opts.top}).init())},a}),define("common/modules/commercial/third-party-tags/audience-science-pql",["common/utils/_","common/utils/config","common/utils/storage","common/utils/url"],function(e,t,n,r){var i,o="//pq-direct.revsci.net/pql",a="gu.ads.audsci-gateway",s={sport:["FKSWod","2xivTZ","MTLELH"],football:["6FaXJO","ORE2W-","MTLELH"],lifeandstyle:["TQV1_5","J0tykU","kLC9nW","MTLELH"],technology:["9a9VRE","TL3gqK","MTLELH"],fashion:["TQV1_5","J0tykU","kLC9nW","MTLELH"],news:["eMdl6Y","mMYVrM","MTLELH"],"default":["FLh9mM","c7Zrhu","Y1C40a","LtKGsC","MTLELH"]},l=function(){i=s[t.page.section]?t.page.section:"default"},u=e.once(function(){if(t.switches.audienceScienceGateway){var e=s[i],l=r.constructQuery({placementIdList:e.join(","),cb:(new Date).getTime()}),u=[o,"?",l].join("");return require(["js!"+u],function(){var e=window.asiPlacements,t=n.local.get(a)||{};window.asiPlacements=t[i],t[i]=e,n.local.set(a,t)})}}),c=function(){var r={},o=n.local.get(a);return t.switches.audienceScienceGateway&&o&&(r=e(e.pairs(o[i])).filter(function(e){
return e[1]["default"]}).map(function(e){return["pq_"+e[0],"T"]}).zipObject().valueOf(),window.asiPlacements=o[i]),r};return l(),{load:u,init:l,getSegments:c}}),define("common/modules/commercial/third-party-tags/krux",["common/utils/config","common/utils/cookies","common/utils/storage"],function(e,t,n){function r(){return e.switches.krux?require(["js!//cdn.krxd.net/controltag?confid=JVZiE3vn"]):void 0}function i(e){var r="kx"+e;return n.local.getRaw(r)||t.get(r+"=([^;]*)")||""}function o(){return i("segs")?i("segs").split(","):[]}return{load:r,getSegments:o}}),define("common/utils/atob",[],function(){return window.atob?function(e){return window.atob(e)}:function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",t=function(){try{document.createElement("$")}catch(e){return e}}();return function(n){if(n=n.replace(/[=]+$/,""),n.length%4===1)throw t;for(var r,i,o=0,a=0,s="";i=n.charAt(a++);~i&&(r=o%4?64*r+i:i,o++%4)?s+=String.fromCharCode(255&r>>(-2*o&6)):0)i=e.indexOf(i);return s}}()}),define("common/modules/asyncCallMerger",[],function(){function e(e){function t(){a=arguments,o="complete";for(var e=0;e<i.length;e++)i[e].apply(null,a)}function n(n){"init"===o?(o="waiting",i.push(n),e(t)):"waiting"===o?i.push(n):n.apply(null,a)}function r(){i=[],o="init",a=null}var i,o,a;return r(),n.reset=r,n}return{mergeCalls:e}}),define("common/modules/identity/api",["common/utils/ajax","common/utils/atob","common/utils/config","common/utils/cookies","common/utils/mediator","common/utils/storage","common/modules/asyncCallMerger"],function(e,t,n,r,i,o,a){var s={},l=null;return s.cookieName="GU_U",s.signOutCookieName="GU_SO",s.fbCheckKey="gu.id.nextFbCheck",s.lastRefreshKey="identity.lastRefresh",s.idApiRoot=null,s.idUrl=null,s.init=function(){s.idApiRoot=n.page.idApiUrl,s.idUrl=n.page.idUrl,i.emit("module:identity:api:loaded")},s.reset=function(){s.getUserFromApi.reset(),l=null},s.getUserFromCookie=function(){if(null===l){var e=r.get(s.cookieName),t=e?JSON.parse(s.decodeBase64(e.split(".")[0])):null;t&&(l={id:t[0],primaryEmailAddress:t[1],displayName:t[2],accountCreatedDate:t[6],emailVerified:t[7],rawResponse:e})}return l},s.getCookie=function(){return r.get(s.cookieName)},s.isUserLoggedIn=function(){return null!==s.getUserFromCookie()},s.getUrl=function(){return s.idUrl},s.getUserFromApi=a.mergeCalls(function(t){s.isUserLoggedIn()?e({url:s.idApiRoot+"/user/me",type:"jsonp",crossOrigin:!0}).then(function(e){t("ok"===e.status?e.user:null)}):t(null)}),s.getUserFromApiWithRefreshedCookie=function(){var t="/user/me",n=e({url:s.idApiRoot+t,type:"jsonp",data:{refreshCookie:!0}});return n},s.getUserOrSignIn=function(e){if(s.isUserLoggedIn())return s.getUserFromCookie();e=encodeURIComponent(e||document.location.href);var t=s.getUrl()+"/signin?returnUrl="+e;s.redirectTo(t)},s.redirectTo=function(e){window.location.href=e},s.decodeBase64=function(e){return decodeURIComponent(escape(t(e.replace(/-/g,"+").replace(/_/g,"/").replace(/,/g,"="))))},s.hasUserSignedOutInTheLast24Hours=function(){var e=r.get(s.signOutCookieName);return e?Math.round((new Date).getTime()/1e3)<parseInt(e,10)+86400:!1},s.shouldAutoSigninInUser=function(){var e=!!r.get(s.cookieName),t=!!o.local.get(s.fbCheckKey);return!e&&!t&&!this.hasUserSignedOutInTheLast24Hours()},s.setNextFbCheckTime=function(e){o.local.set(s.fbCheckKey,{},{expires:e})},s.emailSignup=function(t){var n="/useremails/"+s.getUserFromCookie().id+"/subscriptions",r={listId:t},i=e({url:s.idApiRoot+n,type:"jsonp",crossOrigin:!0,data:{body:JSON.stringify(r),method:"post"}});return i},s.sendValidationEmail=function(){var t="/user/send-validation-email",n=e({url:s.idApiRoot+t,type:"jsonp",crossOrigin:!0,data:{method:"post"}});return n},s.getSavedArticles=function(){var t="/syncedPrefs/me/savedArticles",n=e({url:s.idApiRoot+t,type:"jsonp",crossOrigin:!0});return n},s.saveToArticles=function(t){var r="/syncedPrefs/cors/me/savedArticles",i=e({url:s.idApiRoot+r,type:"json",crossOrigin:!0,method:"POST",contentType:"application/json; charset=utf-8",data:JSON.stringify(t),withCredentials:!0,headers:{"X-GU-ID-Client-Access-Token":"Bearer "+n.page.idApiJsClientToken}});return i},s}),define("common/utils/time",[],function(){return{currentDate:function(){return new Date}}}),define("common/modules/commercial/user-ad-targeting",["common/utils/storage","common/utils/time","common/modules/identity/api"],function(e,t,n){function r(){if(e.local.isAvailable()){var t,r=e.local.get(o);if(r){if(t=n.getUserFromCookie(),t&&r.userHash===t.id%9999)return r.segments;e.local.remove(o)}}return[]}function i(){e.local.isAvailable()&&null===e.local.get(o)&&n.getUserFromCookie()&&n.getUserFromApi(function(n){if(n&&n.adData){var r,i=[];for(r in n.adData)i.push(r+n.adData[r]);e.local.set(o,{segments:i,userHash:n.id%9999},{expires:t.currentDate().getTime()+864e5})}})}var o="gu.ads.userSegmentsData";return{getUserSegments:r,requestUserSegmentsFromId:i}}),define("common/modules/analytics/mvt-cookie",["common/utils/cookies"],function(e){function t(t){e.add(o,t,365)}function n(){var t=e.get(s),n=r(),i=e.get(a);return i||(i="unknown-visitor-id"),t||(t="unknown-browser-id"),n||(n="unknown-mvt-id"),i+" "+t+" "+n}function r(){return e.get(o)}function i(){return l}var o="GU_mvt_id",a="s_vi",s="bwid",l=899999;return{getMvtFullId:n,getMvtValue:r,getMvtNumValues:i,overwriteMvtCookie:t,MAX_INT:l}}),define("text!common/views/ui/notifications-subcribe-link.html",[],function(){return'<div class="notifications-subscribe-link <%=className%>">\n    <a href="/preferences/notifications#redirect=<%=url%>" class="js-notifications-subscribe-link button button--follow"><%=text%></a>\n    <div class="notifications-subscribe-link__message">\n        <h3>Follow the story and stay updated</h3>\n        <p>Receive alerts on your device when important developments on this story are published</p>\n        <%=imgMobile%>\n        <%=imgDesktop%>\n        <a href="/preferences/notifications#redirect=<%=url%>" class="js-notifications-subscribe-link button button--enable">Enable browser notifications <%=arrow%></a>\n    </div>\n</div>\n'}),define("inlineSvg!svgs/icon/comment-16",function(){return'<span class="inline-comment-16 inline-icon"><svg width="16" height="16" viewBox="0 0 16 16"><path d="M13 0l1 1v7l-1 1H7l-2 3H4V9H2L1 8V1l1-1h11z"/></svg></span>'}),define("inlineSvg!svgs/icon/marque-36",function(){return'<span class="inline-marque-36 inline-icon"><svg width="36" height="36" viewBox="0 0 36 36"><path d="M21.3 8.8c0-4.9-1.5-5.7-3.3-5.7-1.8 0-3.2.7-3.2 5.7s1.5 5.5 3.2 5.5c1.8-.1 3.3-.6 3.3-5.5m-6.5 18.8c-2.3 0-2.9 1.7-2.9 2.9 0 1.8 1.6 3.4 6.3 3.4 5.3 0 6.8-1.5 6.8-3.4 0-1.7-1.3-2.9-3.4-2.9h-6.8zM10.5 2.4C4.3 5.2 0 11.4 0 18.7c0 4.9 2 9.4 5.2 12.6V31c0-3.2 3.1-4.4 5.9-5-2.6-.6-3.9-2.5-3.9-4.4 0-2.6 2.9-4.8 4.3-5.8l-.2-.1c-2.5-1.4-4.1-3.8-4.1-7 0-2.7 1.2-4.9 3.3-6.3M36 18.8C36 11.4 31.5 5 25.1 2.3c2.1 1.4 3.4 3.5 3.5 6.3l.1.6c0 5.4-4.4 8.2-10.7 8.2-1.6 0-2.7-.1-4.1-.5-.6.4-1.1 1.1-1.1 1.8 0 .9.8 1.6 1.8 1.6h8.8c5.5 0 8.2 2.2 8.2 7.1 0 1.6-.3 3.1-1 4.3 3.3-3.4 5.4-7.9 5.4-12.9"/></svg></span>'}),define("inlineSvg!svgs/icon/marque-54",function(){return'<span class="inline-marque-54 inline-icon"><svg width="54" height="54" viewBox="0 0 36 36"><path d="M21.3 8.8c0-4.9-1.5-5.7-3.3-5.7-1.8 0-3.2.7-3.2 5.7s1.5 5.5 3.2 5.5c1.8-.1 3.3-.6 3.3-5.5m-6.5 18.8c-2.3 0-2.9 1.7-2.9 2.9 0 1.8 1.6 3.4 6.3 3.4 5.3 0 6.8-1.5 6.8-3.4 0-1.7-1.3-2.9-3.4-2.9h-6.8zM10.5 2.4C4.3 5.2 0 11.4 0 18.7c0 4.9 2 9.4 5.2 12.6V31c0-3.2 3.1-4.4 5.9-5-2.6-.6-3.9-2.5-3.9-4.4 0-2.6 2.9-4.8 4.3-5.8l-.2-.1c-2.5-1.4-4.1-3.8-4.1-7 0-2.7 1.2-4.9 3.3-6.3M36 18.8C36 11.4 31.5 5 25.1 2.3c2.1 1.4 3.4 3.5 3.5 6.3l.1.6c0 5.4-4.4 8.2-10.7 8.2-1.6 0-2.7-.1-4.1-.5-.6.4-1.1 1.1-1.1 1.8 0 .9.8 1.6 1.8 1.6h8.8c5.5 0 8.2 2.2 8.2 7.1 0 1.6-.3 3.1-1 4.3 3.3-3.4 5.4-7.9 5.4-12.9"/></svg></span>'}),define("inlineSvg!svgs/icon/market-down",function(){return'<span class="inline-market-down inline-icon"><svg xmlns="http://www.w3.org/2000/svg" width="15" height="11" viewBox="0 0 15 11"><path fill="#B51800" d="M15 1.03L13.97 0H1L0 1l7 10h.958L15 1.016z"/></svg></span>'}),define("inlineSvg!svgs/icon/market-up",function(){return'<span class="inline-market-up inline-icon"><svg xmlns="http://www.w3.org/2000/svg" width="15" height="11" viewBox="0 0 15 11"><path fill="#298422" d="M0 9.97L1.03 11H14l1-1L8 0h-.958L0 9.984z"/></svg></span>'}),define("inlineSvg!svgs/icon/market-same",function(){return'<span class="inline-market-same inline-icon"><svg xmlns="http://www.w3.org/2000/svg" width="15" height="11" viewBox="0 0 15 11"><path d="M15 1.03L13.97 0H1L0 1l7 4h.958L15 1.016zM0 9.97L1.03 11H14l1-1-7-4h-.958L0 9.984z" fill="#333"/></svg></span>'}),define("inlineSvg!svgs/icon/arrow",function(){return'<span class="inline-arrow inline-icon"><svg width="24" height="10" viewBox="0 0 24 10"><path d="M0 .7l10.5 8.4 1.1.9 1.1-.9L23.2.7l-.5-.7-11.1 6.3L.6 0 0 .7z"/></svg></span>'}),define("inlineSvg!svgs/icon/arrow-down",function(){return'<span class="inline-arrow-down inline-icon"><svg width="24" height="18" viewBox="-0.525 -4 24 18" overflow="visible"><path d="M23.2.7L12.7 9.1l-1.1.9-1.1-.898L0 .7.5 0l11.1 6.3L22.7 0l.5.7z"/></svg></span>'}),define("inlineSvg!svgs/icon/cross",function(){return'<span class="inline-cross inline-icon"><svg width="18" height="18" viewBox="0 0 18 18"><path d="M7.5 9L1 2l1-1 7 6.5L16 1l1 1-6.5 7 6.5 7-1 1-7-6.5L2 17l-1-1 6.5-7z"/></svg></span>'}),define("inlineSvg!svgs/logo/logo-guardian",function(){return'<span class="inline-logo-guardian inline-logo"><svg width="106.67" height="20" viewBox="0 0 320 60"><path d="M284 45h16v-2.95l-3.04-1.55v-20c1.2-.87 2.76-1.14 4.27-1.14 2.76 0 3.77.94 3.77 4.14v17l-3 1.55V45h16v-2.95l-3-1.55v-19c0-5.7-2.2-8.32-7.22-8.32-4.1 0-8.1 1.5-10.82 4.03V13H296l-12.4 2.22v2.7l3.4 1.58v21l-3 1.54V45zM245.27.37c-2.97 0-5.35 2.43-5.35 5.47 0 2.98 2.38 5.4 5.35 5.4 2.92 0 5.36-2.42 5.36-5.4 0-3.04-2.44-5.47-5.36-5.47zM237 15.1v2.83l3 1.57v20.95L237 42v3h16v-3l-3-1.55V13.07h-1l-12 2.04zm-14.07 23.95c-.73.6-1.56 1.07-3.08 1.07-4 0-5.9-3.3-5.9-10.93 0-8.74 2.4-11.67 5.58-11.67 1.78 0 2.67.57 3.4 1.4v20.1zm0-24.5c-1.24-.87-3.2-1.37-4.86-1.37-7.45 0-14.48 4.35-14.48 16.83 0 11.88 7.06 15.7 11.8 15.7 3.8 0 6.4-1.7 7.63-3.37h.33v3.26h.86l11.95-1.44V41.9l-3.2-1.82V.6h-.8l-12.6 2.04v2.8L222.93 7v7.56zM181 18l3.02 1.53v20.92L181 42v3h17v-3l-3.93-1.55v-16.4c1.78-1.42 4-1.87 6.7-1.87.87 0 1.63.16 2.23.32v-9c-.33-.1-.66-.2-1.2-.2-3.3 0-5.94 2.14-7.73 6.23v-6.46H193L181 15v3zm-19.26-.8c3.9 0 5.03 2 5.03 5.92v3.48L161 27.7c-5.9 1.12-10.37 2.95-10.37 9.3 0 5.13 3.53 8.7 8.34 8.7 3.78 0 7.35-1.67 8.7-4.43h.27c.5 3.32 3.3 4.36 6.44 4.36 2.42 0 4.77-.6 5.66-1.63v-2L177 40.5v-18c0-6.95-5-9.43-13.1-9.43-5.3 0-8.76 1.35-11.57 2.7v7.84h4.7l2.04-6.04c.7-.33 2.18-.34 2.67-.34zM164 40.07c-1.94 0-4-1.14-4-4.56 0-2.43 2.4-4.64 4.75-5L167 30v8.5s-1.9 1.56-3 1.56zM264.75 17.2c3.9 0 5.03 2 5.03 5.92v3.48L264 27.7c-5.9 1.12-10.36 2.95-10.36 9.3 0 5.13 3.53 8.7 8.34 8.7 3.78 0 7.35-1.67 8.7-4.43h.27c.5 3.32 3.3 4.36 6.44 4.36 2.4 0 4.76-.6 5.65-1.63v-2L280 40.5v-18c0-6.95-5-9.43-13.1-9.43-5.3 0-8.76 1.35-11.57 2.7v7.84h4.7l2.04-6.04c.7-.33 2.18-.34 2.67-.34zM267 40.07c-1.94 0-4-1.14-4-4.56 0-2.43 2.4-4.64 4.75-5L270 30v8.5s-1.9 1.56-3 1.56zM128.3 45.7c.44 0 .87-.03 1.3-.07 3.54-.34 6.68-2.02 8.42-4.2v4.07l12-1.5v-2l-3-2V13h-1l-11.88 2.28v2.8l3.88 1.6V38c-1.12.76-2.42 1.34-4.2 1.34-2.54 0-4.8-.8-4.8-4.34V13h-1l-12 2.5v2.6l4 1.6V36c0 5.36 2.17 9.7 8.28 9.7zM96 38c-1.2 0-2.54-.8-2.54-1.9 0-.84.6-1.72 1.35-2.28 1.65.5 3 .6 5 .6 7.78 0 13.2-3.68 13.2-10.42 0-3.03-1.3-4.64-3.2-6.4L115 19v-6l-8.24 1.62c-1.9-.72-4.54-1.6-6.97-1.6-7.8 0-13.2 4.08-13.2 10.76 0 4.08 2 7.12 5 8.83l.26.17C90.13 34 86.6 36.75 86.6 40c0 2.44 1.5 4.8 4.74 5.54-3.4.7-7.34 2.43-7.34 6.46 0 4.14 5.95 8 15.46 8C111.3 60 116 54.34 116 47c0-6.07-2.8-9-9.5-9H96zm7.5-14c0 5.7-1.34 6.5-3.5 6.5s-4-.8-4-6.5c0-5.82 1.84-7.5 4-7.5 2.22 0 3.5 1.96 3.5 7.5zM92 50.93c.06-1.48 1.1-3.4 3.7-3.58h8.6c2.48 0 3.7 1.98 3.7 3.58 0 3.2-2 4.37-8.26 4.37-5.52 0-7.83-2.2-7.74-4.37zM83 30c0-12.97-5.14-16.88-12.96-16.88C61 13.12 55 19.3 55 29.5c0 10.5 5.47 16.2 15.85 16.2C76.42 45.7 80.6 43 82 41v-3c-2.1.66-3.9 1.23-7.75 1.23C68.75 39.23 65 36 65 30h18zM69.87 16.6c2.5 0 3.84 1.85 3.84 9.55l-8.36.5c.12-7.87 1.8-10.05 4.55-10.05zM37 45v-2.95l-3-1.55V21c1.2-.85 3.25-1.73 4.76-1.73 2.76 0 4.3 1.55 4.24 4.23v17l-3 1.55V45h16v-2.95l-3-1.55v-19c0-5.7-3.32-8.32-7.68-8.32-4.1 0-8.62 1.28-11.32 3.82V0h-1L21 2v3l4 1.5v34l-3 1.55V45h15zM4 36.42c0 5.68 2.85 9.27 8.85 9.27 3.13 0 6.48-.85 8.4-2.3v-3.8c-.8.26-2.18.5-3.26.5-2.94 0-4-1.58-4-4.6V19h7v-5.05h-7V6.5L4 8v5.95L0 15v4h4v17.4z"/></svg></span>'}),define("inlineSvg!svgs/commercial/logo-soulmates",function(){return'<span class="inline-logo-soulmates inline-commercial"><svg width="86" height="18" viewBox="-0.48 -1.133 86 18" overflow="visible"><path d="M81.95 9.55c-.55-.148-2.2-.55-2.852-1.1-.3-.3-.45-.75-.45-1.3 0-.6.2-.948.65-1.25.4-.3 1.05-.448 1.75-.448 1 0 1.7.25 2.15.4L83.45 7.5c.05.2.198.35.397.35.25 0 .45-.2.45-.45l.05-2c.05-.35-.147-.5-.397-.65-.4-.198-1.4-.6-2.9-.6-2.25 0-3.65 1.15-3.65 2.9 0 .85.3 1.7.8 2.202.65.7 1.55.95 3.4 1.5 1.45.5 2.05.8 2.05 2.05 0 .65-.15 1.2-.5 1.5-.45.35-1.15.6-2.1.6-1.25 0-2.15-.3-2.65-.5l-.2-1.65c0-.25-.2-.45-.45-.45s-.5.15-.5.4l-.1 2c0 .25.198.55.448.65.5.25 1.602.75 3.352.75 1.25 0 2.25-.302 2.95-.85.698-.552 1-1.5 1-2.552-.052-2.15-1.5-2.698-2.95-3.15zM32.2 0l-1.7.35c-.3 0-.5.2-.5.5s.25.5.6.5h1V15.3c0 .352.3.65.6.65.35 0 .65-.3.65-.6V.6c0-.45-.5-.6-.65-.6zm14.85 4.15c-1.702-.05-3.6 1.052-4.2 1.5-.5-1-1.5-1.5-2.95-1.5-1.7 0-2.85.7-3.7 1.25v-.55c0-.35-.3-.6-.6-.6-.35 0-.65.3-.65.6v10.402c0 .35.3.648.6.648.35 0 .65-.25.65-.7V6.6c.65-.398 2-1.2 3.7-1.2.8 0 1.3.15 1.6.5.3.302.5.85.5 1.45v7.902c0 .35.3.648.6.648.35 0 .648-.3.648-.6L43.2 7.35c0-.25 0-.45-.052-.7.4-.2 1.85-1.25 3.802-1.25.8 0 1.35.15 1.698.5.302.3.45.8.45 1.4v7.95c0 .352.3.65.602.65.3 0 .647-.2.647-.65v-7.9c0-2.1-1.298-3.15-3.298-3.2zM4.85 9.503C4.3 9.353 2.65 8.953 2 8.4c-.35-.3-.45-.75-.45-1.3 0-.6.2-.95.65-1.25.4-.3 1.05-.45 1.75-.45 1 0 1.7.25 2.15.4l.25 1.65c.05.2.2.35.4.35.25 0 .45-.2.45-.45l.05-2c.05-.35-.15-.5-.4-.648-.4-.2-1.4-.6-2.9-.6C1.7 4.1.3 5.25.3 7c0 .85.3 1.7.8 2.2.65.7 1.55.95 3.4 1.5 1.45.5 2.05.802 2.05 2.052 0 .648-.15 1.2-.5 1.5-.45.35-1.15.6-2.1.6-1.25 0-2.15-.3-2.65-.5l-.25-1.6c0-.25-.2-.45-.45-.45s-.5.15-.5.4l-.1 2c0 .25.2.55.45.65.5.25 1.6.75 3.35.75 1.25 0 2.25-.302 2.95-.852.7-.55 1-1.5 1-2.55 0-2.15-1.45-2.75-2.9-3.198zm68.9-4.9c-.6-.3-1.35-.45-2.15-.45-.647 0-1.35.1-1.897.3-.65.25-1.25.7-1.7 1.15-.5.5-.852 1-1.102 1.75-.3.798-.446 1.7-.446 2.7 0 1.8.35 3.15 1.1 4.15.9 1.25 2.35 1.9 4.35 1.9 2.05 0 3.45-.65 3.45-.65.3-.15.55-.4.35-.802-.148-.35-.6-.3-.95-.2 0 0-1.15.4-2.9.4-2.896 0-4.146-1.55-4.146-4.85 0-1.65.397-2.75 1.198-3.6.85-.85 1.9-1.1 2.65-1.1 1.198 0 2 .3 2.55 1.1.398.6.7 1.5.75 2.5l-5.5.1c-.3 0-.602.2-.602.45 0 .3.1.65.45.65H75.5c.35 0 .6-.25.6-.7 0-1.55-.35-2.75-1-3.65-.252-.55-1.35-1.15-1.35-1.15zm-7.902 10.1s-.6.198-1.3.198c-.45 0-.85-.2-1.05-.397-.3-.3-.25-.852-.25-1.3V5.55h2.65c.35 0 .6-.35.6-.65 0-.35-.3-.6-.6-.6h-2.65V2.15c0-.3-.35-.55-.65-.55-.35 0-.648.25-.648.55V4.3H60.9c-.302 0-.6.25-.6.55 0 .3.198.648.5.648h1.15v7.55c0 .85.048 1.7.6 2.25.448.45 1.15.7 2 .7.948 0 1.65-.25 1.698-.25.3-.1.35-.5.25-.8-.15-.198-.298-.348-.65-.25zm-11.3-10.4c-.95.15-1.5.35-1.5.35-.3.1-.6.5-.45.8.15.3.5.55.8.4l1.052-.3c.85-.15 1.75-.25 2.6-.052 1.05.25 1.4 1.35 1.4 2.45v5.75c-.65.553-1.55 1-2.4 1.15-1.55.25-3.25-.4-3.25-2.15 0-1.1.8-1.65 1.7-1.947.65-.2 1.9-.4 2.75-.45.25 0 .4-.25.4-.55 0-.3-.25-.45-.552-.45-.75 0-1.648 0-2.8.35-1.1.3-2.1.75-2.5 1.95-.5 1.45.1 3.1 1.4 3.95 1.6.95 3.95.6 5.25-.7v.45c0 .35.35.6.648.6.353 0 .603-.3.603-.6V7.9c0-1.15-.203-2-.703-2.6-.95-1.15-2.548-1.302-4.45-1zm-25.224.623c.102-.35-.2-.65-.5-.65-.35 0-.648.3-.648.6v8.902c-.55.35-2 1.05-3.7 1.05-1 0-1.75-.25-2.1-.7-.15-.2-.352-.5-.352-1.4V4.88c-.05-.35-.3-.55-.6-.55-.25 0-.5.15-.6.35-.4 1.25-2.4 3-5.45 3-1.15 0-1.65-.65-1.65-1.25 0-1.05 1.15-1.2 2.05-.65.3.2.75.1.9-.2.1-.25.05-.65-.25-.8-.75-.4-1.6-.6-2.55-.6-1.35 0-2.55.45-3.45 1.3-.5.5-.9 1.3-1.2 2.05-.3.75-.5 1.65-.5 2.65 0 1.05.1 1.9.35 2.602.2.75.55 1.397 1 1.897.9 1 2.2 1.55 3.75 1.55 1.35 0 2.6-.55 3.5-1.4.5-.5.85-1.15 1.1-1.85.3-.75.5-1.65.5-2.65 0-.9-.05-1.6-.2-2.25.95-.45 2-1.45 2-1.45v6.2c0 .552.1 1.552.65 2.2.6.8 1.648 1.148 3.1 1.148 1.5 0 2.8-.647 3.65-1.25l-.052.4c0 .35.3.65.65.65.35 0 .65-.4.65-.75l-.048-10.3zm-12.8 9c-.65.65-1.6 1.05-2.65 1.05-1.2 0-2.15-.447-2.8-1.197-.65-.75-1-2.15-1-3.605 0-1.8.45-3.1 1.25-3.898.4-.4 1.2-.75 1.75-.85-.3.3-.4.65-.4.95 0 1.4 1.05 2.35 2.85 2.35.7 0 1.55-.15 2.15-.3.05.3.1.95.1 1.75 0 1.45-.4 2.95-1.25 3.748z"/></svg></span>'}),define("inlineSvg!svgs/icon/close-central",function(){return'<span class="inline-close-central inline-icon"><svg width="30" height="30"><path d="M21 9.8l-.8-.8-5.2 4.8L9.8 9l-.8.8 4.8 5.2L9 20.2l.8.8 5.2-4.8 5.2 4.8.8-.8-4.8-5.2L21 9.8"/></svg></span>'}),define("inlineSvg!svgs/icon/arrow-white-right",function(){return'<span class="inline-arrow-white-right inline-icon"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30"><path fill="#fff" d="M22.8 14.6L15.2 7l-.7.7 5.5 6.6H6v1.5h14l-5.5 6.6.7.7 7.6-7.6v-.9"/></svg></span>'}),define("inlineSvg!svgs/icon/arrow-right",function(){return'<span class="inline-arrow-right inline-icon"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30"><path d="M22.8 14.6L15.2 7l-.7.7 5.5 6.6H6v1.5h14l-5.5 6.6.7.7 7.6-7.6v-.9"/></svg></span>'}),define("inlineSvg!svgs/icon/bookmark",function(){return'<span class="inline-bookmark inline-icon"><svg width="8.6" height="16" viewBox="0 0 8.6 16"><path d="M0 15.7V1l1-1h6.5l1 1v14.7l-.2.3-4-2.2-4 2.2"/></svg></span>'}),define("inlineSvg!svgs/icon/dropdown-mask",function(){return'<span class="inline-dropdown-mask inline-icon"><svg width="32" height="32"><path d="M0 0v32h32V0H0zm16.2 22.9L3.8 13.1l.6-.7L16.2 19 28 12.4l.6.7-12.4 9.8z"/></svg></span>'}),define("inlineSvg!svgs/icon/comment-anchor",function(){return'<span class="inline-comment-anchor inline-icon"><svg width="15" height="15" viewBox="0 0 15 15"><path fill="#898989" d="M5.725 13.348c-.98 1.02-2.6 1.055-3.623.076-1.02-.98-1.055-2.602-.076-3.623l8.424-8.79c.732-.765 1.95-.79 2.717-.056.768.734.79 1.95.06 2.715L6.33 10.86c-.492.513-1.302.53-1.812.038-.51-.488-.528-1.3-.04-1.81l5.324-5.553.337.32-5.324 5.556c-.31.325-.3.84.025 1.152.327.312.842.3 1.15-.024l6.897-7.192c.557-.58.536-1.5-.043-2.058-.58-.557-1.504-.537-2.058.043l-8.427 8.79c-.8.837-.772 2.163.062 2.965.836.802 2.164.772 2.965-.062l6.853-7.152.338.323-6.853 7.15z"/></svg></span>'}),define("inlineSvg!svgs/icon/reply",function(){return'<span class="inline-reply inline-icon"><svg width="18" height="18"><path d="M10.1 5l.9-1 4 4.5v1L11 14l-.9-1 2.5-3H4L3 9V6.5h2V8h7.6l-2.5-3z"/></svg></span>'}),define("inlineSvg!svgs/icon/expand-image",function(){return'<span class="inline-expand-image inline-icon"><svg width="22" height="22" viewBox="0 0 22 22"><path d="M3.4 20.2L9 14.5 7.5 13l-5.7 5.6L1 14H0v7.5l.5.5H8v-1l-4.6-.8M18.7 1.9L13 7.6 14.4 9l5.7-5.7.5 4.7h1.2V.6l-.5-.5H14v1.2l4.7.6"/></svg></span>'}),define("inlineSvg!svgs/notifications-explainer-mobile",function(){return'<span class="inline-notifications-explainer-mobile inline-notifications-explainer-mobile"><svg xmlns="http://www.w3.org/2000/svg" width="296" height="159.9" viewBox="0 0 296 159.9"><path fill="#DDD" d="M73.2 138V9c0-5.6-5-6-5-6C60.3 1 36.6.7 36.6.7 16.3.8 5 3 5 3 .5 4 0 9 0 9v129c0 8.7 5 7.5 5 7.5 8.8 2 31.6 1.8 31.6 1.8 18.4 0 31.7-2 31.7-2 5.8-1.5 5-7.4 5-7.4zm-3.2-5H2.8L3 13.6l67-.6v120z"/><path fill="#197DAB" d="M2.8 12.5h66.7v119H2.8z"/><circle fill="#4BC6DF" cx="66.6" cy="15.8" r="2.1"/><path fill="#FFF" d="M60 14h3.5v3.5H60zm-4.7 0h3.5v3.5h-3.5zm-4.8 0H54v3.5h-3.5z"/><path fill="#DCDCDC" d="M34 123h4.2v4.3H34zm28.8 0H67v4.3h-4.2zm-56.6 0h4.2v4.3H6.2z"/><path fill="#FFF" d="M23.6 57.8h25v3h-25z"/><path fill="none" d="M9.5 39.5h53.3v14H9.5z"/><text transform="translate(15.048 53.102)" fill="#FFF" font-family="\'Roboto-Thin\'" font-size="17.8">18:41</text><path fill="#FFF" d="M6 71.7h60.5v11H6z"/><path fill="none" d="M18.4 74.7h26.2v1.7H18.4z"/><text transform="translate(18.396 76.408)" fill="#333" font-family="\'ArialMT\'" font-size="2.4">The Guardian</text><path fill="none" d="M18.4 77.7H65v1.8H18.3z"/><text transform="translate(18.396 79.453)" fill="#767676" font-family="\'ArialMT\'" font-size="2.4">Obama plan for trade deals with Asia...</text><path fill="none" d="M59 74.8h5.3v1.4H59z"/><text transform="translate(58.904 76.223)" fill="#BDBDBD" font-family="\'ArialMT\'" font-size="1.9">18:40</text><path fill="#005689" d="M11.2 73.5c-.2 0-.4.4-.6.6l-.2 1c0 .4 0 .7.3 1l.7.7s-.2 0-.3.2l-.2.2-.3.4v1.1l.8.4s-.3 0-.4.2c-.3 0-.5 0-.6.2l-.3.3v.5c-.4-.3-.7-.7-1-1.2-.2-.5-.3-1-.3-1.7 0-.4 0-.8.2-1.2 0-.3.2-.7.4-1l.8-1c.3 0 .6-.4 1-.5zm2.6 6h.6l.2.6c0 .3 0 .5-.3.7L13 81c-.5 0-1-.2-1-.3-.4-.2-.5-.4-.5-.6l.2-.4s.2-.2.5-.2h1.6zm3.4-2.2c0 .6 0 1.2-.4 1.7-.2.5-.5 1-1 1.3.3-.2.4-.6.4-1 0-.5-.2-1-.5-1.2-.3-.2-.8-.3-1.5-.3H12l-.3-.4V77H13c.7 0 1.3-.2 1.8-.5.4-.4.7-1 .7-1.5 0-.4 0-.7-.3-1 0-.2-.3-.4-.6-.6.4.2.8.4 1 .7l1 1c0 .3.3.7.4 1l.2 1.3zM13.7 75v.7c0 .2 0 .3-.2.4 0 .2-.2.2-.2.2H12.4c0-.2 0-.3-.2-.5v-1.5c0-.2 0-.3.2-.4 0-.2.2-.3.3-.3h.6l.2.2.2.3v.7z"/><g><path fill="#FFF" d="M23.6 110.2H296v49.6H23.6z"/><path fill="none" d="M79 124h118.3v7.8H79z"/><text transform="translate(79.04 131.636)" fill="#333" font-family="\'ArialMT\'" font-size="10.8">The Guardian</text><path fill="none" d="M79 137.7h209.7v8H79z"/><text transform="translate(79.04 145.367)" fill="#767676" font-family="\'ArialMT\'" font-size="10.7">Obama plan for trade deals with Asia...</text><path fill="none" d="M261.7 124.6h24.5v6.4h-24.5z"/><text transform="translate(261.745 130.8)" fill="#BDBDBD" font-family="\'ArialMT\'" font-size="8.7">18:40</text><path fill="#005689" d="M46.6 118.4c-1 .8-2 1.7-2.6 3-.5 1-.8 2.4-.8 4s.4 3 1 4.3c1 1.3 2 2.3 3.3 3l-1.2 1-1.5 1.5c-.5.6-1 1-1.2 1.8-.4.6-.5 1.2-.5 2 0 1 .4 2 1 2.8.8 1 1.8 1.5 3.3 1.8l-2.3.6-2 1c-.6.4-1 1-1.5 1.5-.3.6-.5 1.3-.5 2.2v.2c-1.7-1.8-3-3.8-4-6-1-2.3-1.5-4.8-1.5-7.4 0-2 .3-3.8.8-5.6.5-1.7 1.3-3.4 2.3-5 1-1.4 2.2-2.7 3.5-4 1.5-1 3-2 4.6-2.8zm11.6 26.8c1 0 2 .3 2.7.8.5.6 1 1.3 1 2.2 0 1-.6 2-1.6 2.6-1 .7-3 1-5.7 1-2.5 0-4.2-.3-5.2-1s-1.4-1.6-1.4-2.5c0-.7.3-1.4.7-2 .4-.7 1.2-1 2.4-1h7.2zm15.4-9.4c0 2.7-.5 5.2-1.5 7.5s-2.4 4.4-4 6c.6-1.2 1-2.7 1-4.5 0-2.5-.8-4.4-2.2-5.6-1.4-1.2-3.6-1.8-6.5-1.8H51c-.6 0-1-.2-1.4-.6-.4-.3-.6-.7-.6-1.2 0-.3.2-.6.4-1l.8-1c.7.4 1.4.5 2 .6h2.4c3.3 0 6-.8 8-2.3 2.2-1.7 3.2-4 3.2-6.8 0-1.6-.4-3-1-4.2-.7-1-1.6-2-2.7-2.8 1.8.8 3.3 1.7 4.7 3 1.4 1 2.7 2.4 3.7 4 1 1.5 1.8 3 2.4 5 .5 1.7.8 3.6.8 5.6zM58 125.3c0 1.3 0 2.3-.3 3-.2.8-.4 1.4-.7 1.8-.4.5-.7.8-1.2 1h-2.6c-.4-.2-.8-.5-1-1-.5-.3-.7-1-1-1.6v-6.4c.3-.8.5-1.4 1-1.8.2-.4.6-.7 1-.8l1.3-.2c.5 0 1 0 1.4.2.3.2.7.5 1 1 .3.3.5 1 .7 1.7.2 1 .3 2 .3 3.3z"/></g></svg></span>'}),define("inlineSvg!svgs/notifications-explainer-desktop",function(){return'<span class="inline-notifications-explainer-desktop inline-notifications-explainer-desktop"><svg xmlns="http://www.w3.org/2000/svg" width="653.1" height="186.5" viewBox="73.5 206.8 653.1 186.5"><path fill="#FFF" d="M100.5 211.4h202v129.2h-202z"/><path fill="#DDD" d="M299.5 206.8H104c-6.8 0-6.8 6.8-6.8 6.8V344c0 7 7 7 7 7h195.3c7 0 7-7 7-7V213.6c0-6.8-7-6.8-7-6.8zm-.2 131.2H104V215.8h195.3V338z"/><path fill="#DDD" d="M73.5 346.8v4.5c5 3 14 3.4 14 3.4H316c9.5-.2 14-3.4 14-3.4v-4.5H73.5z"/><path fill="#BDBDBD" d="M104 215.8h195.3v6H104z"/><path fill="#F1F1F1" d="M161.3 217H242v3.5h-80.7z"/><g opacity=".5"><path fill="#D84A37" d="M108.3 237.4h15.4v4h-15.4z"/><path fill="#EBEBEB" d="M104 221.8h195.3v7.8H104z"/><path fill="#FFF" stroke="#BDBDBD" stroke-miterlimit="10" d="M131.5 224h80v3.7h-80z"/><path fill="#4683EB" d="M211.4 223.8h8v4h-8z"/><path fill="#197DAB" d="M107 222.6h7.3v6.4H107z"/><path fill="#FFF" d="M104 229.6h195.3V338H104z"/><path fill="#EBEBEB" d="M131.5 236.4h164V338h-164z"/><path fill="#D84A37" d="M104 242.7h.5v3.8h-.5z"/><path fill="#4683EB" d="M131.5 236.4h.5v5h-.5z"/><path fill="#FFF" d="M212.6 224.7h5.8v2h-5.8zm-101.1 13.9h9v1.7h-9z"/><path fill="#DFDFDF" stroke="#BDBDBD" stroke-miterlimit="10" d="M131.5 231h9.7v4h-9.7z"/><path fill="#767676" d="M133.2 232.2h6.3v1.7h-6.3z"/><path fill="#DFDFDF" stroke="#BDBDBD" stroke-miterlimit="10" d="M125.3 279.7h3.8v3.7h-3.7z"/><path fill="#767676" d="M126 280.7h2.5v1.5H126z"/><path fill="#DFDFDF" stroke="#BDBDBD" stroke-miterlimit="10" d="M143.3 231h9.7v4h-9.7z"/><path fill="#767676" d="M145 232.2h6.3v1.7H145z"/><path fill="#DFDFDF" stroke="#BDBDBD" stroke-miterlimit="10" d="M155.4 231h9.7v4h-9.6z"/><path fill="#767676" d="M157 232.2h6.4v1.7H157z"/><path fill="#DFDFDF" stroke="#BDBDBD" stroke-miterlimit="10" d="M285.6 231h9.7v4h-9.7z"/><path fill="#767676" d="M287.3 232.2h6.3v1.7h-6.3z"/><path fill="#DFDFDF" stroke="#BDBDBD" stroke-miterlimit="10" d="M273.5 231h9.7v4h-9.7z"/><path fill="#767676" d="M275.2 232.2h6.3v1.7h-6.3z"/><path fill="#DFDFDF" stroke="#BDBDBD" stroke-miterlimit="10" d="M262 231h4.8v4h-5z"/><path fill="#767676" d="M263 232.2h2.7v1.7H263z"/><path fill="#DFDFDF" stroke="#BDBDBD" stroke-miterlimit="10" d="M266.7 231h5v4h-5z"/><path fill="#767676" d="M267.7 232.2h2.8v1.7h-2.8zm-17.4 0h10.5v1.7h-10.5z"/><path fill="#BDBDBD" d="M265.5 224.7h6v2h-6z"/><path fill="#767676" d="M273.5 224.4h3v2.7h-3zm12.1 0h3v2.7h-3z"/><circle fill="#767676" cx="281" cy="225.8" r="1.4"/><circle fill="#FCDD03" cx="293.2" cy="225.8" r="2.2"/><circle fill="#4BC6DF" cx="110.1" cy="281.5" r="1.8"/><path fill="#BDBDBD" d="M108.3 243.5h6v2.2h-6zm0 3.7h6v2.2h-6zm0 4h8.5v2.2h-8.5zm0 3.8h7.5v2h-7.5zm0 3.7h9.7v2.2h-9.7zm0 3.8h5.8v2.2h-5.7zm0 3.8h5.8v2.2h-5.7zm0 4.3H124v2.2h-15.7zm0 3.8h14v2.2h-14z"/><path fill="#D84A37" d="M108.3 231.6h7.3v3h-7.3z"/><path fill="#767676" d="M144 238h14.8v1.8h-15z"/><path fill="none" stroke="#767676" stroke-miterlimit="10" d="M133 238.2h1.7v1.7H133zm3.2 0h1.8v1.7h-1.8z"/><path fill="#CEB41D" d="M139.7 238.2h1.8v1.7h-1.8z"/><path fill="#767676" d="M169.6 238h19v1.8h-19zm118.7 0h4.4v1.8h-4.4z"/><path fill="#BDBDBD" d="M190 238h70v1.8h-70z"/><path fill="#DFDFDF" d="M131.5 241.4h164v.3h-164z"/><path fill="#767676" d="M144 243.5h18.7v1.8H144z"/><path fill="none" stroke="#767676" stroke-miterlimit="10" d="M133 243.7h1.7v1.7H133zm3.2 0h1.8v1.7h-1.8z"/><path fill="#CEB41D" d="M139.7 243.7h1.8v1.7h-1.8z"/><path fill="#767676" d="M169.6 243.5H209v1.8h-39.4zm118.7 0h4.4v1.8h-4.4z"/><path fill="#BDBDBD" d="M210.3 243.5h73.4v1.8h-73.4z"/><path fill="#DFDFDF" d="M131.5 247h164v.2h-164z"/><path fill="#767676" d="M144 248.6h18.7v1.8H144z"/><path fill="none" stroke="#767676" stroke-miterlimit="10" d="M133 248.8h1.7v1.7H133zm3.2 0h1.8v1.7h-1.8z"/><path fill="#CEB41D" d="M139.7 248.8h1.8v1.7h-1.8z"/><path fill="#767676" d="M169.6 248.6H201v1.8h-31.4zm118.7 0h4.4v1.8h-4.4z"/><path fill="#BDBDBD" d="M202.2 248.6h81.4v1.8h-81.4z"/><path fill="#DFDFDF" d="M131.5 252h164v.3h-164z"/><path fill="#767676" d="M144 254.5h14.8v1.8h-15z"/><path fill="none" stroke="#767676" stroke-miterlimit="10" d="M133 254.7h1.7v1.7H133zm3.2 0h1.8v1.7h-1.8z"/><path fill="#CEB41D" d="M139.7 254.7h1.8v1.7h-1.8z"/><path fill="#767676" d="M169.6 254.5h49v1.8h-49zm118.7 0h4.4v1.8h-4.4z"/><path fill="#BDBDBD" d="M219.6 254.5h40.6v1.8h-40.6z"/><path fill="#DFDFDF" d="M131.5 258h164v.2h-164z"/><path fill="#767676" d="M144 259.8h14.8v1.8h-15z"/><path fill="none" stroke="#767676" stroke-miterlimit="10" d="M133 260h1.7v1.7H133zm3.2 0h1.8v1.7h-1.8z"/><path fill="#CEB41D" d="M139.7 260h1.8v1.7h-1.8z"/><path fill="#767676" d="M169.6 259.8h10.2v1.8h-10.2zm118.7 0h4.4v1.8h-4.4z"/><path fill="#BDBDBD" d="M181.3 259.8h98.4v1.8h-98.4z"/><path fill="#DFDFDF" d="M131.5 263.2h164v.3h-164z"/><path fill="#767676" d="M144 265.4h18.7v1.8H144z"/><path fill="none" stroke="#767676" stroke-miterlimit="10" d="M133 265.6h1.7v1.7H133zm3.2 0h1.8v1.7h-1.8z"/><path fill="#CEB41D" d="M139.7 265.6h1.8v1.7h-1.8z"/><path fill="#767676" d="M169.6 265.4H199v1.8h-29.4zm118.7 0h4.4v1.8h-4.4z"/><path fill="#BDBDBD" d="M200.4 265.4h79.2v1.8h-79.2z"/><path fill="#DFDFDF" d="M131.5 269h164v.2h-164z"/><path fill="#767676" d="M144 270.8h20.8v1.8h-21z"/><path fill="none" stroke="#767676" stroke-miterlimit="10" d="M133 271h1.7v1.7H133zm3.2 0h1.8v1.7h-1.8z"/><path fill="#CEB41D" d="M139.7 271h1.8v1.7h-1.8z"/><path fill="#767676" d="M169.6 270.8h42.6v1.8h-42.6zm118.7 0h4.4v1.8h-4.4z"/><path fill="#BDBDBD" d="M213.4 270.8h72.2v1.8h-72.2z"/><path fill="#DFDFDF" d="M131.5 274.2h164v.3h-164z"/><path fill="#767676" d="M144 276h14.8v2h-15zm-31.3 4.6h7.3v1.8h-7.3z"/><circle fill="#AAD8F1" cx="110.1" cy="287.4" r="1.8"/><path fill="#767676" d="M112.7 285.6h9.3v1.4h-9.3z"/><path fill="#BDBDBD" d="M112.7 288h8.6v1.5h-8.6z"/><circle fill="#AAD8F1" cx="110.1" cy="292.9" r="1.8"/><path fill="#767676" d="M112.7 291h9.3v1.5h-9.3z"/><path fill="#BDBDBD" d="M112.7 293.6h8.6v1.4h-8.6z"/><circle fill="#AAD8F1" cx="110.1" cy="298.4" r="1.8"/><path fill="#767676" d="M112.7 296.6h9.3v1.4h-9.3z"/><path fill="#BDBDBD" d="M112.7 299h8.6v1.5h-8.6z"/><circle fill="#AAD8F1" cx="110.1" cy="303.7" r="1.8"/><path fill="#767676" d="M112.7 302h9.3v1.3h-9.3z"/><path fill="#BDBDBD" d="M112.7 304.4h8.6v1.4h-8.6z"/><circle fill="#AAD8F1" cx="110.1" cy="309.3" r="1.8"/><path fill="#767676" d="M112.7 307.5h9.3v1.4h-9.3z"/><path fill="#BDBDBD" d="M112.7 310h8.6v1.4h-8.6z"/><circle fill="#AAD8F1" cx="110.1" cy="314.5" r="1.8"/><path fill="#767676" d="M112.7 312.7h9.3v1.4h-9.3z"/><path fill="#BDBDBD" d="M112.7 315.2h8.6v1.4h-8.6z"/><circle fill="#AAD8F1" cx="110.1" cy="320.1" r="1.8"/><path fill="#767676" d="M112.7 318.3h9.3v1.4h-9.3z"/><path fill="#BDBDBD" d="M112.7 320.7h8.6v1.4h-8.6z"/><circle fill="#AAD8F1" cx="110.1" cy="325.5" r="1.8"/><path fill="#767676" d="M112.7 323.7h9.3v1.4h-9.3z"/><path fill="#BDBDBD" d="M112.7 326h8.6v1.5h-8.6z"/><circle fill="#AAD8F1" cx="110.1" cy="330.9" r="1.8"/><path fill="#767676" d="M112.7 329.2h9.3v1.4h-9.3z"/><path fill="#BDBDBD" d="M112.7 331.6h8.6v1.4h-8.6z"/><circle fill="#AAD8F1" cx="110.1" cy="336.5" r="1.8"/><path fill="#767676" d="M112.7 334.7h9.3v1.4h-9.3z"/><path fill="#BDBDBD" d="M112.7 337h8.6v1.5h-8.6z"/><path fill="none" stroke="#767676" stroke-miterlimit="10" d="M133 276.2h1.7v1.7H133zm3.2 0h1.8v1.7h-1.8z"/><path fill="#CEB41D" d="M139.7 276.2h1.8v1.7h-1.8z"/><path fill="#767676" d="M169.6 276H208v2h-38.4zm118.7 0h4.4v2h-4.4z"/><path fill="#BDBDBD" d="M209.4 276h50.8v2h-50.8z"/><path fill="#DFDFDF" d="M131.5 279.5h164v.3h-164z"/><path fill="#767676" d="M144 281.7h14.8v1.8h-15z"/><path fill="none" stroke="#767676" stroke-miterlimit="10" d="M133 282h1.7v1.6H133zm3.2 0h1.8v1.6h-1.8z"/><path fill="#CEB41D" d="M139.7 282h1.8v1.6h-1.8z"/><path fill="#767676" d="M169.6 281.7H199v1.8h-29.4zm118.7 0h4.4v1.8h-4.4z"/><path fill="#BDBDBD" d="M200.4 281.7H260v1.8h-59.6z"/><path fill="#DFDFDF" d="M131.5 285h164v.4h-164z"/><path fill="#767676" d="M144 287h20.8v1.8h-21z"/><path fill="none" stroke="#767676" stroke-miterlimit="10" d="M133 287h1.7v1.8H133zm3.2 0h1.8v1.8h-1.8z"/><path fill="#CEB41D" d="M139.7 287h1.8v1.8h-1.8z"/><path fill="#767676" d="M169.6 287H208v1.8h-38.4zm118.7 0h4.4v1.8h-4.4z"/><path fill="#BDBDBD" d="M209.4 287h50.8v1.8h-50.8z"/><path fill="#DFDFDF" d="M131.5 290.4h164v.3h-164z"/><path fill="#767676" d="M144 292.5h20.8v1.8h-21z"/><path fill="none" stroke="#767676" stroke-miterlimit="10" d="M133 292.7h1.7v1.7H133zm3.2 0h1.8v1.7h-1.8z"/><path fill="#CEB41D" d="M139.7 292.7h1.8v1.7h-1.8z"/><path fill="#767676" d="M169.6 292.5H201v1.8h-31.4zm118.7 0h4.4v1.8h-4.4z"/><path fill="#BDBDBD" d="M202.2 292.5h58v1.8h-58z"/><path fill="#DFDFDF" d="M131.5 296h164v.2h-164z"/><path fill="#767676" d="M144 298h14.8v1.7h-15z"/><path fill="none" stroke="#767676" stroke-miterlimit="10" d="M133 298h1.7v1.8H133zm3.2 0h1.8v1.8h-1.8z"/><path fill="#CEB41D" d="M139.7 298h1.8v1.8h-1.8z"/><path fill="#767676" d="M169.6 298H209v1.7h-39.4zm118.7 0h4.4v1.7h-4.4z"/><path fill="#BDBDBD" d="M210.3 298h50v1.7h-50z"/><path fill="#DFDFDF" d="M131.5 301.3h164v.3h-164z"/><path fill="#767676" d="M144 303.3h14.8v1.8h-15z"/><path fill="none" stroke="#767676" stroke-miterlimit="10" d="M133 303.5h1.7v1.7H133zm3.2 0h1.8v1.7h-1.8z"/><path fill="#CEB41D" d="M139.7 303.5h1.8v1.7h-1.8z"/><path fill="#767676" d="M169.6 303.3H199v1.8h-29.4zm118.7 0h4.4v1.8h-4.4z"/><path fill="#BDBDBD" d="M200.4 303.3h76v1.8h-76z"/><path fill="#DFDFDF" d="M131.5 306.7h164v.3h-164z"/><path fill="#767676" d="M144 308.8h14.8v1.8h-15z"/><path fill="none" stroke="#767676" stroke-miterlimit="10" d="M133 309h1.7v1.7H133zm3.2 0h1.8v1.7h-1.8z"/><path fill="#CEB41D" d="M139.7 309h1.8v1.7h-1.8z"/><path fill="#767676" d="M169.6 308.8H199v1.8h-29.4zm118.7 0h4.4v1.8h-4.4z"/><path fill="#BDBDBD" d="M200.4 308.8h64v1.8h-64z"/><path fill="#DFDFDF" d="M131.5 312.2h164v.3h-164z"/><path fill="#767676" d="M144 314.2h14.8v1.8h-15z"/><path fill="none" stroke="#767676" stroke-miterlimit="10" d="M133 314.3h1.7v1.7H133zm3.2 0h1.8v1.7h-1.8z"/><path fill="#CEB41D" d="M139.7 314.3h1.8v1.7h-1.8z"/><path fill="#767676" d="M169.6 314.2h42.6v1.8h-42.6zm118.7 0h4.4v1.8h-4.4z"/><path fill="#BDBDBD" d="M213.4 314.2h52v1.8h-52z"/><path fill="#DFDFDF" d="M131.5 317.6h164v.3h-164z"/><path fill="#767676" d="M144 319.6h14.8v1.8h-15z"/><path fill="none" stroke="#767676" stroke-miterlimit="10" d="M133 319.7h1.7v1.7H133zm3.2 0h1.8v1.7h-1.8z"/><path fill="#CEB41D" d="M139.7 319.7h1.8v1.7h-1.8z"/><path fill="#767676" d="M169.6 319.6h10.2v1.8h-10.2zm118.7 0h4.4v1.8h-4.4z"/><path fill="#BDBDBD" d="M181.3 319.6h91.3v1.8h-91.3z"/><path fill="#DFDFDF" d="M131.5 323h164v.3h-164z"/><path fill="#767676" d="M144 329.6h14.8v1.8h-15z"/><path fill="none" stroke="#767676" stroke-miterlimit="10" d="M133 329.8h1.7v1.7H133zm3.2 0h1.8v1.7h-1.8z"/><path fill="#CEB41D" d="M139.7 329.8h1.8v1.7h-1.8z"/><path fill="#767676" d="M169.6 329.6h10.2v1.8h-10.2zm118.7 0h4.4v1.8h-4.4z"/><path fill="#BDBDBD" d="M181.3 329.6h91.3v1.8h-91.3z"/><path fill="#DFDFDF" d="M131.5 333h164v.3h-164z"/><path fill="#767676" d="M144 334.7h14.8v1.8h-15z"/><path fill="none" stroke="#767676" stroke-miterlimit="10" d="M133 335h1.7v1.6H133zm3.2 0h1.8v1.6h-1.8z"/><path fill="#CEB41D" d="M139.7 335h1.8v1.6h-1.8z"/><path fill="#767676" d="M169.6 334.7h10.2v1.8h-10.2zm118.7 0h4.4v1.8h-4.4z"/><path fill="#BDBDBD" d="M181.3 334.7h91.3v1.8h-91.3z"/><path fill="#DFDFDF" d="M131.5 328h164v.4h-164z"/><path fill="#767676" d="M144 325h14.8v1.7h-15z"/><path fill="none" stroke="#767676" stroke-miterlimit="10" d="M133 325h1.7v1.8H133zm3.2 0h1.8v1.8h-1.8z"/><path fill="#CEB41D" d="M139.7 325h1.8v1.8h-1.8z"/><path fill="#767676" d="M169.6 325H199v1.7h-29.4zm118.7 0h4.4v1.7h-4.4z"/><path fill="#BDBDBD" d="M200.4 325h79.2v1.7h-79.2z"/></g><path fill="#FFF" d="M252 218.8h43.7v9.6H252z"/><path fill="#005689" d="M252 218.8h9.7v9.6H252z"/><path fill="none" d="M263.8 220.4h19v1.4h-19z"/><text transform="translate(263.753 221.62)" fill="#333" font-family="\'ArialMT\'" font-size="1.7">The Guardian</text><path fill="none" d="M263.8 222.6H293v2.7h-29.2z"/><text transform="translate(263.753 223.592)" fill="#333" font-family="\'ArialMT\'" font-size="1.4">Obama plan for trade deals with Asia and</text><text transform="translate(263.753 225.268)" fill="#333" font-family="\'ArialMT\'" font-size="1.4">Europe in tatters after Senate vote</text><path fill="none" d="M263.8 226h11.4v1h-11.4z"/><text transform="translate(263.753 227.016)" fill="#BDBDBD" font-family="\'ArialMT\'" font-size="1.4">theguardian.com</text><path fill="#767676" d="M294.6 220.7l-.8-.7h.2l.7.6z"/><path fill="#767676" d="M294.8 220l-.7.7.6-.8z"/><path fill="#FFF" d="M255.7 221c-.2 0-.4.2-.5.4v1.4l.6.4-.2.2-.2.2-.2.3v.7l.6.3h-.4l-.3.2s0 .2-.2.3v.3c-.3-.2-.5-.5-.7-1v-2l.4-.8c0-.2.3-.4.5-.6 0-.2.4-.4.7-.5zm1.8 4.2c.2 0 .3 0 .5.2v.7c-.3.3-.6.3-1 .3s-.7 0-1-.2v-.6l.4-.2h1zm2.5-1.5c0 .5 0 1-.3 1.2 0 .3-.3.6-.6 1 .2-.3.2-.5.2-.8 0-.4 0-.7-.3-1l-1-.2h-1.9v-.5h.9c.5 0 1 0 1.2-.4.4-.2.5-.5.5-1v-.6l-.6-.5c.4 0 .7.2 1 .4 0 .2.3.4.5.6 0 .3.3.5.4.8v1zm-2.5-1.7v.5c0 .2 0 .3-.2.3h-.2v.2h-.3l-.2-.2v-1.6h.7v.3c.2.2.2.3.2.5z"/><g><path fill="#FFF" d="M227 283.4h499.6v110H227z"/><path fill="#005689" d="M227 283.4h112v110H227z"/><path fill="none" d="M361.5 301.4h217v15.8h-217z"/><text transform="translate(361.52 315.618)" fill="#333" font-family="\'ArialMT\'" font-size="19.9">The Guardian</text><path fill="none" d="M361.5 326.7h332.8V358H361.5z"/><text transform="translate(361.52 338.088)" fill="#333" font-family="\'ArialMT\'" font-size="15.9">Obama plan for trade deals with Asia and</text><text transform="translate(361.52 357.185)" fill="#333" font-family="\'ArialMT\'" font-size="15.9">Europe in tatters after Senate vote</text><path fill="none" d="M361.5 365.7h130.3v12.5H361.5z"/><text transform="translate(361.52 377.127)" fill="#BDBDBD" font-family="\'ArialMT\'" font-size="15.9">theguardian.com</text><path fill="#767676" d="M713 305.7l-8.5-8.4 1.5-1.5 8.4 8.4z"/><path fill="#767676" d="M714.4 297.3l-8.4 8.4-1.5-1.5 8.4-8.4z"/><path fill="#FFF" d="M269.2 307.7c-2 1.5-3.6 3.3-4.7 5.4-1 2.2-1.6 4.6-1.6 7.3 0 3.2.6 6 2 8.3 1.5 2.2 3.4 4 5.8 5.4l.3.2c-.7.4-1.5 1-2.4 1.8-1 .8-1.8 1.7-2.7 2.6-1 1-1.8 2-2.4 3.2-.6 1-1 2.3-1 3.6 0 2 .8 3.7 2 5.4 1.2 1.6 3 2.7 5.8 3.3-1.4.3-2.7.7-4 1.2-1.5.4-2.7 1-3.8 1.7-1 .7-2 1.6-2.7 2.7-.8 1-1 2.4-1 4v.5c-3.2-3.2-5.7-7-7.5-11-1.8-4.2-2.7-8.7-2.7-13.5 0-3.6.5-7 1.5-10.2 1-3.3 2.4-6.3 4.2-9 2-2.8 4-5.2 6.5-7.4 2.4-2 5-4 8.2-5.3zm21.3 49.2c2 0 3.7.4 5 1.4 1 1 1.7 2.4 1.7 4 0 2-1 3.5-2.7 4.8-1.8 1.3-5.3 2-10.5 2-4.5 0-7.7-.7-9.4-2-1.8-1.4-2.7-3-2.7-4.6 0-1.3.3-2.6 1-3.8.8-1.2 2.3-2 4.5-2h13zm28.3-17.3c0 5-1 9.5-3 13.7-1.8 4.3-4.4 8-7.6 11.2 1.3-2.4 2-5.2 2-8.4 0-4.7-1.4-8.2-4-10.4-2.6-2.2-6.5-3.3-12-3.3h-17c-1 0-1.8-.3-2.5-1-.7-.6-1-1.3-1-2 0-.8.2-1.4.6-2 .4-.7 1-1.2 1.5-1.7 1.3.5 2.6.8 3.8.8l4.2.2c6.2 0 11.2-1.5 15-4.3 3.7-3 5.6-7 5.6-12.3 0-3-.7-5.5-2-7.6-1-2.2-2.7-4-4.8-5.2 3 1.4 6 3.2 8.5 5.3 2.7 2.2 5 4.6 6.8 7.4 2 3 3.3 6 4.4 9.2 1 3.3 1.6 6.8 1.6 10.5zM290 320.3c0 2.4 0 4.3-.4 5.7-.4 1.4-.8 2.5-1.4 3.2-.6.8-1.3 1.2-2 1.4l-2.5.3c-.8 0-1.6-.2-2.4-.4-.8-.2-1.5-.6-2-1.4-.7-.7-1.2-1.7-1.5-3-.3-1.5-.4-3.4-.4-6 0-2.3 0-4.3.4-5.8.3-1.4.8-2.6 1.4-3.3.6-.7 1.3-1.2 2-1.4 1-.3 1.7-.4 2.5-.4 1 0 1.8.2 2.6.4.7.3 1.4.8 2 1.6.5.8 1 2 1.3 3.4.3 1.4.5 3.4.5 5.7z"/></g></svg></span>';
}),define("inlineSvg!svgs/icon/cursor",function(){return'<span class="inline-cursor inline-icon"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 95.828 95.828"><path fill="#fff" d="M71 27.4l-18 41-1.7-.1-4-13.7-15.8 15.8-6-6 15.8-15.8-13.7-4-.1-1.7 41-18 2.3 2.3m25 20.5C95.8 21.2 74.3-.2 47.9-.2S0 21.3 0 47.7s21.5 47.9 47.9 47.9 47.9-21.5 47.9-47.9"/></svg></span>'}),define("inlineSvg!svgs/icon/fb",function(){return'<span class="inline-fb inline-icon"><svg width="10.88" height="22.38" viewBox="0 0 12 23"><path d="M2.8 22.4V11.9H0V8.1h2.8V4.9C2.8 2.3 4.4 0 8.2 0c1.5 0 2.7.2 2.7.2l-.1 3.5H8.4c-1.4 0-1.6.6-1.6 1.6v2.8h4.1l-.2 3.8H6.8v10.5h-4z"/></svg></span>'}),define("inlineSvg!svgs/icon/gplus",function(){return'<span class="inline-gplus inline-icon"><svg width="24.4" height="20.5" viewBox="0 0 25 21"><path d="M6.5 19.5c-2.4 0-4.2-1.5-4.2-3.4 0-1.8 2.2-3.3 4.6-3.3.6 0 1.1.1 1.6.2 1.3.9 2.3 1.4 2.6 2.5.1.2.1.4.1.7-.1 1.9-1.3 3.3-4.7 3.3m.6-10.9c-1.6 0-3.2-1.8-3.5-4C3.4 2.5 4.5.9 6.1.9c1.7.1 3.2 1.8 3.5 3.9.3 2.2-.8 3.9-2.5 3.8m3.4 3.2c-.6-.4-1.7-1.4-1.7-2 0-.7.2-1 1.2-1.8 1.1-.8 1.8-1.9 1.8-3.3 0-1.6-.7-3.3-2.1-3.6h2L13.3 0H6.9C4.1 0 1.4 2.2 1.4 4.7c0 2.6 1.9 4.6 4.8 4.6h.6c-.2.3-.3.7-.3 1.1 0 .7.4 1.3.8 1.8H6.2c-3.5 0-6.2 2.3-6.2 4.6s3 3.7 6.5 3.7c4 0 6.3-2.3 6.3-4.6 0-1.8-.6-2.9-2.3-4.1M24.4 4.1h-4.3V0h-.9v4.1h-4.1v1.1h4.1v4.1h.9V5.2h4.3V4.1z"/></svg></span>'}),define("inlineSvg!svgs/icon/plus",function(){return'<span class="inline-plus inline-icon"><svg width="24" height="24" viewBox="-0.5 0.5 24 24"><path d="M10.682 3.5h1.636l.41 7.773 7.772.408v1.638l-7.77.41-.413 7.772H10.68l-.407-7.77-7.773-.412V11.68l7.773-.407.41-7.773z"/></svg></span>'}),define("common/views/svgs",["common/utils/_","inlineSvg!svgs/icon/comment-16","inlineSvg!svgs/icon/marque-36","inlineSvg!svgs/icon/marque-54","inlineSvg!svgs/icon/market-down","inlineSvg!svgs/icon/market-up","inlineSvg!svgs/icon/market-same","inlineSvg!svgs/icon/arrow","inlineSvg!svgs/icon/arrow-down","inlineSvg!svgs/icon/cross","inlineSvg!svgs/logo/logo-guardian","inlineSvg!svgs/commercial/logo-soulmates","inlineSvg!svgs/icon/close-central","inlineSvg!svgs/icon/arrow-white-right","inlineSvg!svgs/icon/arrow-right","inlineSvg!svgs/icon/bookmark","inlineSvg!svgs/icon/dropdown-mask","inlineSvg!svgs/icon/comment-anchor","inlineSvg!svgs/icon/reply","inlineSvg!svgs/icon/expand-image","inlineSvg!svgs/notifications-explainer-mobile","inlineSvg!svgs/notifications-explainer-desktop","inlineSvg!svgs/icon/cursor","inlineSvg!svgs/icon/fb","inlineSvg!svgs/icon/gplus","inlineSvg!svgs/icon/plus"],function(e,t,n,r,i,o,a,s,l,u,c,f,h,p,d,m,g,v,y,b,w,x,k,_,M,z){var C={commentCount16icon:t,marque36icon:n,marque54icon:r,marketDownIcon:i,marketUpIcon:o,marketSameIcon:a,arrowicon:s,arrowdownicon:l,crossIcon:u,logoguardian:c,logosoulmates:f,closeCentralIcon:h,arrowWhiteRight:p,arrowRight:d,bookmark:m,dropdownMask:g,commentAnchor:v,reply:y,expandImage:b,notificationsExplainerMobile:w,notificationsExplainerDesktop:x,cursor:k,fb:_,gplus:M,plus:z};return function(t,n,r){var i=C[t];return n&&(e.isArray(n)?i=i.replace(/class="/,"$&"+n.join(" ")+" "):window.console&&window.console.error&&window.console.error("Classes for inlineSvg must be an array: ",n)),r&&(i=i.replace(/<span /,'<span title="'+r+'" ')),i}}),define("common/modules/experiments/tests/liveblog-notifications",["common/utils/config","common/utils/$","common/utils/template","fastdom","text!common/views/ui/notifications-subcribe-link.html","common/utils/cookies","bean","common/views/svgs"],function(e,t,n,r,i,o,a,s){return function(){this.id="LiveblogNotifications",this.start="2015-05-27",this.expiry="2015-08-01",this.author="Oliver Ash",this.description="Liveblog notifications",this.audience=0,this.audienceOffset=0,this.successMeasure="",this.audienceCriteria="",this.dataLinkNames="",this.idealOutcome="",this.canRun=function(){return!0},this.variants=[{id:"control",test:function(){}},{id:"a",test:function(){var e=o.get("notifications-demo-following"),l=n(i,{className:e?"":"notifications--disabled",url:window.location,text:e?"Following story":"Follow story",imgMobile:s("notificationsExplainerMobile",["mobile-only","notification-explainer"]),imgDesktop:s("notificationsExplainerDesktop",["hide-on-mobile","notification-explainer"]),arrow:s("arrowWhiteRight")});r.write(function(){t(".js-liveblog-body").prepend(l)}),a.on(document.body,"click",".js-notifications-subscribe-link",function(){o.add("notifications-demo-following","true",100)})}}]}}),define("common/modules/experiments/tests/high-commercial-component",[],function(){return function(){this.id="HighCommercialComponent",this.start="2014-07-22",this.expiry="2015-07-09",this.author="Darren Hurley",this.description="Using as a DFP targeting hook to test different high relevance components",this.audience=.1,this.audienceOffset=0,this.successMeasure="",this.audienceCriteria="All users",this.dataLinkNames="",this.idealOutcome="",this.showForSensitive=!1,this.canRun=function(){return!0},this.variants=[{id:"control",test:function(){}},{id:"variant",test:function(){}}]}}),define("common/modules/user-prefs",["common/utils/_","common/utils/storage"],function(e,t){function n(t,n,r){var i=e.defaults(r||{},{type:"local"});d[i.type].set(p+t,n)}function r(t,n){var r=e.defaults(n||{},{type:"local"});return d[r.type].get(p+t)}function i(t,n){var r=e.defaults(n||{},{type:"local"});d[r.type].remove(p+t)}function o(t,n){var r=e.defaults(n||{},{type:"local"});d[r.type].set(p+"switch."+t,!0)}function a(t,n){var r=e.defaults(n||{},{type:"local"});d[r.type].set(p+"switch."+t,!1)}function s(t,n){var r=e.defaults(n||{},{type:"local"});d[r.type].remove(p+"switch."+t)}function l(t,n){var r=e.defaults(n||{},{type:"local"});return d[r.type].get(p+"switch."+t)===!0}function u(t,n){var r=e.defaults(n||{},{type:"local"});return d[r.type].get(p+"switch."+t)===!1}function c(e){return!isNaN(e)}function f(e){return"true"===e||"false"===e}function h(e){var t,r,i,s,l,u,h=e.hash.substr(1).split("&");for(l=0,u=h.length;u>l;++l)if(t=h[l].match(/^gu\.prefs\.(.*)=(.*)$/))switch(r=t[1],i=t[2],r){case"switchOn":o(i);break;case"switchOff":a(i);break;default:s=c(i)?+i:f(i)?"true"===String(i).toLowerCase():i,n(r,s)}}var p="gu.prefs.",d={local:t.local,session:t.session};return h(window.location),{set:n,get:r,remove:i,switchOn:o,switchOff:a,removeSwitch:s,isOn:l,isOff:u,setPrefs:h}}),define("common/modules/ui/message",["common/utils/$","bean","common/utils/storage","common/modules/user-prefs","common/utils/_"],function(e,t,n,r,i){var o=function(t,n){var r=n||{};this.id=t,this.important=r.important||!1,this.permanent=r.permanent||!1,this.type=r.type||"banner",this.pinOnHide=r.pinOnHide||!1,this.siteMessageLinkName=r.siteMessageLinkName||"",this.siteMessageCloseBtn=r.siteMessageCloseBtn||"",this.prefs="messages",this.$footerMessage=e(".js-footer-message")};return o.prototype.show=function(n){var r=e(".js-site-message");return this.pinOnHide&&e(".js-footer-site-message-copy").html(n),!r.hasClass("is-hidden")&&!this.important||this.hasSeen()?(this.pinOnHide&&this.$footerMessage.removeClass("is-hidden"),!1):(e(".js-site-message-copy").html(n),this.siteMessageLinkName&&r.attr("data-link-name",this.siteMessageLinkName),this.siteMessageCloseBtn&&e(".site-message__close-btn",".js-site-message").attr("data-link-name",this.siteMessageCloseBtn),r.addClass("site-message--"+this.type).addClass("site-message--"+this.id),r.removeClass("is-hidden"),this.permanent?(r.addClass("site-message--permanent"),e(".site-message__close").addClass("is-hidden")):t.on(document,"click",".js-site-message-close",this.acknowledge.bind(this)),void("modal"===this.type&&this.bindModalListeners()))},o.prototype.bindModalListeners=function(){t.on(document,"click",".js-site-message-inner",function(e){e.stopImmediatePropagation(),e.stopPropagation()}),t.on(document,"click",".js-site-message",this.acknowledge.bind(this))},o.prototype.hide=function(){e("#header").removeClass("js-site-message"),e(".js-site-message").addClass("is-hidden"),this.pinOnHide&&this.$footerMessage.removeClass("is-hidden")},o.prototype.hasSeen=function(){var e=r.get(this.prefs);return e&&e.indexOf(this.id)>-1},o.prototype.remember=function(){var e=r.get(this.prefs)||[];e.push(this.id),r.set(this.prefs,i.uniq(e))},o.prototype.acknowledge=function(){this.remember(),this.hide()},o}),define("text!common/views/membership-message.html",[],function(){return'<p class="site-message__message" id="site-message__message">\n    <%=messageText%>\n</p>\n<ul class="site-message__actions u-unstyled">\n    <li class="site-message__actions__item">\n        <%=arrowWhiteRight%>\n        <a href="<%=supporterLink%>" target="_blank" data-link-name="read more"><%=linkText%></a>\n    </li>\n</ul>\n'}),define("common/modules/experiments/tests/membership-message-uk",["common/utils/config","common/utils/detect","common/utils/storage","common/utils/template","common/modules/identity/api","common/modules/ui/message","text!common/views/membership-message.html","common/views/svgs"],function(e,t,n,r,i,o,a,s){var l="membership-message-uk";return function(){this.id="MembershipMessageUk",this.start="2015-08-16",this.expiry="2015-09-21",this.author="David Rapson",this.description="Test if loyal visitors in the UK edition are encouraged to join Membership as a Supporter",this.audience=1,this.audienceOffset=0,this.successMeasure="Loyal visitors will be interested in becoming a Supporter",this.audienceCriteria="UK edition visitors who have seen more than 10 pages, message shown only on article pages",this.dataLinkNames="membership message, hide, read more",this.idealOutcome="Users will sign up as a Supporter",this.canRun=function(){var r=n.local.get("alreadyVisited")||0;return!t.adblockInUse&&"mobile"!==t.getBreakpoint()&&"UK"===e.page.edition&&"Article"===e.page.contentType&&r>10},this.variants=[{id:"A",test:function(){new o(l,{pinOnHide:!1,siteMessageLinkName:"membership message",siteMessageCloseBtn:"hide"}).show(r(a,{supporterLink:"https://membership.theguardian.com/about/supporter?INTCMP=MEMBERSHIP_SUPPORTER_BANNER_UK_A",messageText:"â€œBecome a Guardian Member and support independent journalismâ€ â€“ George Monbiot",linkText:"Find out more",arrowWhiteRight:s("arrowWhiteRight")}))}},{id:"B",test:function(){new o(l,{pinOnHide:!1,siteMessageLinkName:"membership message",siteMessageCloseBtn:"hide"}).show(r(a,{supporterLink:"https://membership.theguardian.com/about/supporter?INTCMP=MEMBERSHIP_SUPPORTER_BANNER_UK_B",messageText:"â€œSupport and become part of the Guardianâ€ â€“ Hugh Muir",linkText:"Find out more",arrowWhiteRight:s("arrowWhiteRight")}))}}]}}),define("common/modules/experiments/tests/membership-message-usa",["common/utils/config","common/utils/detect","common/utils/storage","common/utils/template","common/modules/identity/api","common/modules/ui/message","text!common/views/membership-message.html","common/views/svgs"],function(e,t,n,r,i,o,a,s){var l="membership-message-usa";return function(){this.id="MembershipMessageUsa",this.start="2015-08-05",this.expiry="2015-09-21",this.author="David Rapson",this.description="Test if loyal visitors in the US edition are encouraged to join Membership as a Supporter",this.audience=1,this.audienceOffset=0,this.successMeasure="Loyal visitors will be interested in becoming a Supporter",this.audienceCriteria="US edition visitors who have seen at least 10 pages, message shown only on article pages",this.dataLinkNames="membership message, hide, read more",this.idealOutcome="Users will sign up as a Supporter",this.canRun=function(){var r=n.local.get("alreadyVisited")||0;return!t.adblockInUse&&"mobile"!==t.getBreakpoint()&&"US"===e.page.edition&&"Article"===e.page.contentType&&r>10},this.variants=[{id:"A",test:function(){new o(l,{pinOnHide:!1,siteMessageLinkName:"membership message",siteMessageCloseBtn:"hide"}).show(r(a,{supporterLink:"https://membership.theguardian.com/us/supporter?INTCMP=MEMBERSHIP_SUPPORTER_BANNER_USA_A",messageText:"Support open, independent journalism. Become a Supporter from just Â£5/$8 per month",linkText:"Find out more",arrowWhiteRight:s("arrowWhiteRight")}))}},{id:"B",test:function(){new o(l,{pinOnHide:!1,siteMessageLinkName:"membership message",siteMessageCloseBtn:"hide"}).show(r(a,{supporterLink:"https://membership.theguardian.com/us/supporter?INTCMP=MEMBERSHIP_SUPPORTER_BANNER_USA_B",messageText:"â€œThe Guardian enjoys rare freedom and independence. Support our journalismâ€ â€“ Ewen MacAskill",linkText:"Find out more",arrowWhiteRight:s("arrowWhiteRight")}))}}]}}),define("text!common/views/commercial/adblock-sticky-message.html",[],function(){return'<div class="adblock-sticky__message js-adblock-sticky <%=customCssClass%>" data-link-name="adblock sticky message" role="dialog" aria-label="welcome adblock user" aria-describedby="adblock-sticky__message">\n    <div class="gs-container">\n        <div class="adblock-sticky__quote">\n            <div class="adblock-sticky__info">\n                <p class="adblock-sticky__quote-text">\n                    <%=quoteText%>\n                </p>\n                <p class="adblock-sticky__author">\n                    <%=quoteAuthor%>\n                </p>\n            </div>\n            <div class="adblock-byline-img">\n                <img class="byline-img__img" src="<%=imageAuthor%>" alt="<%=quoteAuthor%>">\n            </div>\n            <div class="adblock-sticky__logo">\n                <%=marque54icon%>\n            </div>\n        </div>\n        <div class="adblock-sticky__membership-bar">\n            <p class="adblock-sticky__membership-bar-text">\n                <%=messageText%>\n            </p>\n            <ul class="site-message__actions u-unstyled">\n                <li class="site-message__actions__sticky-item">\n                    <%=cursor%>\n                    <a href="<%=supporterLink%>" target="_blank" data-link-name="read more <%=quoteAuthor%>"><%=linkText%></a>\n                </li>\n            </ul>\n        </div>\n    </div>\n    <a class="adblock-sticky__link" href="<%=supporterLink%>" target="_blank" data-link-name="read more <%=quoteAuthor%>"></a>\n</div>\n'}),define("common/modules/adblock-banner",["fastdom","common/utils/$","common/utils/_","common/utils/template","common/views/svgs","text!common/views/commercial/adblock-sticky-message.html"],function(e,t,n,r,i,o){var a=function(e){var t=e||{};this.supporterLink=t.supporterLink||"",this.messageText=t.messageText||"",this.linkText=t.linkText||"",this.quoteText=t.quoteText||"",this.quoteAuthor=t.quoteAuthor||"",this.imageAuthor=t.imageAuthor||"",this.customCssClass=t.customCssClass||""};return a.prototype.show=function(){var n=r(o,{supporterLink:this.supporterLink,quoteText:this.quoteText,quoteAuthor:this.quoteAuthor,messageText:"We notice you're using an ad-blocker. Become a supporter from just Â£5 per month to ensure quality journalism is available to all.",linkText:"Find out more",imageAuthor:this.imageAuthor,customCssClass:this.customCssClass,cursor:i("cursor"),marque54icon:i("marque54icon")});e.write(function(){t(".top-banner-ad-container--desktop").after(n)})},a}),define("common/modules/experiments/tests/adblock-sticky-banner",["common/utils/_","common/utils/config","common/utils/detect","common/utils/template","common/views/svgs","common/modules/adblock-banner"],function(e,t,n,r,i,o){var a=[{supporterLink:"https://membership.theguardian.com/about/supporter?INTCMP=ADBLOCK_BANNER_MONBIOT",quoteText:"Become a Guardian Member and support independent journalism",quoteAuthor:"George Monbiot",customCssClass:"monbiot",imageAuthor:"//i.guim.co.uk/img/static/sys-images/Guardian/Pix/contributor/2015/7/9/1436429159376/George-Monbiot-L.png?w=300&amp;q=85&amp;auto=format&amp;sharp=10&amp;s=903233b032379d7529d7337b8c26bcc9"},{supporterLink:"https://membership.theguardian.com/about/supporter?INTCMP=ADBLOCK_BANNER_MUIR",quoteText:"Support and become part of the Guardian",quoteAuthor:"Hugh Muir",customCssClass:"muir",imageAuthor:"//i.guim.co.uk/img/static/sys-images/Guardian/Pix/pictures/2014/3/13/1394733739000/HughMuir.png?w=300&amp;q=85&amp;auto=format&amp;sharp=10&amp;s=c1eeb35230ad2a215ec9de76b3eb69fb"},{supporterLink:"https://membership.theguardian.com/about/supporter?INTCMP=ADBLOCK_BANNER_TOYNBEE",quoteText:"If you read the Guardian, join the Guardian",quoteAuthor:"Polly Toynbee",customCssClass:"toynbee",imageAuthor:"//i.guim.co.uk/img/static/sys-images/Guardian/Pix/contributor/2014/6/30/1404146756739/Polly-Toynbee-L.png?w=300&amp;q=85&amp;auto=format&amp;sharp=10&amp;s=abf0ce1a1a7935e82612b330322f5fa4"},{supporterLink:"https://membership.theguardian.com/about/supporter?INTCMP=ADBLOCK_BANNER_MACASKILL",quoteText:"The Guardian enjoys rare freedom and independence. Support our journalism",quoteAuthor:"Ewen MacAskill",customCssClass:"macaskill",imageAuthor:"//i.guim.co.uk/img/static/sys-images/Guardian/Pix/contributor/2015/8/18/1439913873894/Ewen-MacAskill-R.png?w=300&q=85&auto=format&sharp=10&s=0ecfbc78dc606a01c0a9b04bd5ac7a82"}];return function(){this.id="AdblockStickyBanner",this.start="2015-08-11",this.expiry="2015-09-11",this.author="Zofia Korcz",this.description="Test if ad-block users are encouraged to support us by joining membership",this.audience=.15,this.audienceOffset=.25,this.successMeasure="Ad-block users will be interested in becoming a Supporter",this.audienceCriteria="Users who have ad-block installed and are not on mobile",this.dataLinkNames="supporter message, read more",this.idealOutcome="Users will sign up as a Supporter or will turn off the ad-block",this.canRun=function(){return"mobile"!==n.getBreakpoint()&&n.adblockInUse},this.variants=[{id:"variant",test:function(){new o(a[e.random(a.length-1)]).show()}},{id:"challenger",test:function(){a[0].supporterLink="https://membership.theguardian.com?INTCMP=ADBLOCK_BANNER_MONBIOT",a[1].supporterLink="https://membership.theguardian.com?INTCMP=ADBLOCK_BANNER_MUIR",a[2].supporterLink="https://membership.theguardian.com?INTCMP=ADBLOCK_BANNER_TOYNBEE",a[3].supporterLink="https://membership.theguardian.com?INTCMP=ADBLOCK_BANNER_MACASKILL",new o(a[e.random(a.length-1)]).show()}},{id:"control",test:function(){}}]}}),define("common/modules/component",["bean","bonzo","qwery","common/utils/_","common/utils/ajax"],function(e,t,n,r,i){function o(e){return new Error("Component: "+e)}var a=function(){};return a.prototype.useBem=!1,a.prototype.templateName=null,a.prototype.componentClass=null,a.prototype.endpoint=null,a.prototype.classes=null,a.prototype.elem=null,a.prototype.model=null,a.prototype.template=null,a.prototype.rendered=!1,a.prototype.destroyed=!1,a.prototype.elems=null,a.prototype.options=null,a.prototype.defaultOptions={},a.prototype.responseDataKey="html",a.prototype.autoupdated=!1,a.prototype.updateEvery=60,a.prototype.t=null,a.prototype.fetchData=null,a.prototype.manipulationType="append",a.prototype.attachTo=function(e){if(this.checkAttached(),!e)throw new o("Need element to attach to");this.elem=e,this._prerender(),this._ready()},a.prototype.render=function(e){this.checkAttached();var n=t.create(this.template?this.template:document.getElementById("tmpl-"+this.templateName).innerHTML)[0],r=e||document.body;return this.elem=n,this._prerender(),t(r)[this.manipulationType](this.elem),this._ready(),this},a.prototype.checkAttached=function(){if(this.rendered)throw new o("Already rendered")},a.prototype.fetch=function(e,n){this.checkAttached(),this.responseDataKey=n||this.responseDataKey;var r=this;return this._fetch().then(function(n){r.elem=t.create(n[r.responseDataKey])[0],r._prerender(),r.destroyed||(t(e)[r.manipulationType](r.elem),r._ready(r.elem))}).fail(function(e){r.error(e)})},a.prototype._fetch=function(){var e,t="function"==typeof this.endpoint?this.endpoint():this.endpoint,n=this;for(e in this.options)t=t.replace(":"+e,this.options[e]);return i({url:t,type:"json",method:"get",crossOrigin:!0,data:this.fetchData}).then(function(e){return n.fetched(e),e})},a.prototype._ready=function(e){this.destroyed||(this.rendered=!0,this._autoupdate(),this.ready(e))},a.prototype._prerender=function(){this.elems={},this.prerender()},a.prototype._autoupdate=function(){function e(){n._fetch().then(function(r){n.autoupdate(t.create(r[n.responseDataKey])[0]),n.autoupdated&&(n.t=setTimeout(e,1e3*n.updateEvery))},function(){n.t=setTimeout(e,1e3*n.updateEvery)})}var n=this;this.autoupdated&&(this.t=setTimeout(e,1e3*this.updateEvery))},a.prototype.prerender=function(){},a.prototype.ready=function(){},a.prototype.error=function(){},a.prototype.fetched=function(){},a.prototype.autoupdate=function(e){var n=this.elem;this.elem=e,this._prerender(),t(n).replaceWith(this.elem)},a.prototype.dispose=function(){},a.prototype.on=function(t,n,r){return"function"==typeof n?(r=n,e.on(this.elem,t,r.bind(this))):(n=n.length?n:[n],e.on(this.elem,t,n,r.bind(this))),this},a.prototype.emit=function(t,n){e.fire(this.elem,t,n)},a.prototype.getElem=function(e){if(this.elems[e])return this.elems[e];var t=n(this.getClass(e),this.elem)[0];return this.elems[e]=t,t},a.prototype.getClass=function(e,t){var n=this.useBem?this.componentClass+"__"+e:this.classes[e];return(t?"":".")+n},a.prototype.setState=function(e,n){var r=n?this.getElem(n):this.elem;t(r).addClass(this.componentClass+(n?"__"+n:"")+"--"+e)},a.prototype.removeState=function(e,n){var r=n?this.getElem(n):this.elem;return t(r).removeClass(this.componentClass+(n?"__"+n:"")+"--"+e)},a.prototype.toggleState=function(e,n){var r=n?this.getElem(n):this.elem;t(r).toggleClass(this.componentClass+(n?"__"+n:"")+"--"+e)},a.prototype.hasState=function(e,n){var r=n?this.getElem(n):this.elem;return t(r).hasClass(this.componentClass+(n?"__"+n:"")+"--"+e)},a.prototype.setOptions=function(e){this.options=r.assign(r.clone(this.defaultOptions),this.options||{},e)},a.prototype.detach=function(){e.off(this.elem)},a.prototype.destroy=function(){this.elem&&(t(this.elem).remove(),delete this.elem),clearTimeout(this.t),this.t=null,this.autoupdated=!1,this.detach(),this.destroyed=!0,this.rendered=!1},a.define=function(e){function t(){}t.prototype=a.prototype,e.prototype=new t,e.prototype.constructor=e},a}),define("text!common/views/sport/score-container.html",[],function(){return'<div class="score-container">\n    <div class="score__loading <%=loadingState%>">\n        <div class="loading__text">Fetching the scoresâ€¦</div>\n        <div class="is-updating"></div>\n    </div>\n</div>'}),define("common/modules/sport/score-board",["bonzo","common/utils/detect","common/utils/template","common/modules/component","text!common/views/sport/score-container.html"],function(e,t,n,r,i){function o(r){this.pageType=r.pageType,this.placeholder=e.create(n(i,{loadingState:"report"!==this.pageType?" score__loading--live":""}))[0],"report"===this.pageType?r.parent.after(this.placeholder):r.parent.addClass("u-h").before(this.placeholder),this.endpoint=r.endpoint,this.autoupdated=r.autoupdated,this.responseDataKey=r.responseDataKey,this.updateEvery=t.isBreakpoint({min:"desktop"})?30:60}return r.define(o),o.prototype.componentClass="match-summary",o.prototype.prerender=function(){this.placeholder.innerHTML=""},o.prototype.ready=function(){this.setState(this.pageType)},o.prototype.load=function(){this.fetch(this.placeholder)},o.prototype.loadFromJson=function(e){this.template=e,this.render(this.placeholder)},o.prototype.error=function(){this.placeholder.innerHTML=""},o}),define("bootstraps/sport",["bonzo","bean","common/utils/$","common/utils/template","common/utils/ajax","common/utils/config","common/utils/detect","common/modules/component","common/modules/sport/score-board"],function(e,t,n,r,i,o,a,s,l){function u(){var e,t,r=o.page.cricketMatch;r&&(e=new s,t=n(".js-cricket-score")[0],e.endpoint="/sport/cricket/match/"+r+".json",e.fetch(t,"summary"))}function c(){var e="";if(o.page.isLiveBlog?e="minbymin":o.hasTone("Match reports")&&(e="report"),o.page.rugbyMatch&&e){var t=n(".js-score"),i=new l({pageType:e,parent:t,autoupdated:!1,responseDataKey:"matchSummary",endpoint:o.page.rugbyMatch+".json?page="+encodeURIComponent(o.page.pageId)});i.fetched=function(e){n(".content--liveblog").addClass("content--liveblog--rugby"),n.create(e.nav).first().each(function(e){2===n(".tabs__tab",e).length&&n(".js-football-tabs").append(e)});var t=e.scoreEvents;if(a.isBreakpoint({max:"mobile"})){var i=n.create(r(e.dropdown)({name:"Score breakdown",content:t}));o.page.isLiveBlog&&i.addClass("dropdown--key-events"),i.addClass("dropdown--active"),n(".js-after-article").append(i)}else{var s=n.create(t);s.addClass("hide-on-mobile"),n(".score-container").after(s)}},i.load()}}function f(){u()}return{init:f,rugby:c}}),define("common/modules/experiments/tests/rugby",["bootstraps/sport"],function(e){return function(){this.id="RugbyScores",this.start="2015-08-21",this.expiry="2015-09-11",this.author="Jenny Sivapalan",this.description="Scores for the Rugby World Cup to be loaded in on live blogs / reports etc",this.audience=0,this.audienceOffset=0,this.successMeasure="More users will come to Guadian for live updates.",this.audienceCriteria="everyone",this.dataLinkNames="",this.idealOutcome="More users will come to Guadian for live updates.",this.canRun=function(){return!0},this.variants=[{id:"variant",test:function(){e.rugby()}}]}}),define("common/modules/experiments/ab",["common/utils/report-error","common/utils/_","common/utils/config","common/utils/cookies","common/utils/mediator","common/utils/storage","common/modules/analytics/mvt-cookie","common/modules/experiments/tests/liveblog-notifications","common/modules/experiments/tests/high-commercial-component","common/modules/experiments/tests/membership-message-uk","common/modules/experiments/tests/membership-message-usa","common/modules/experiments/tests/adblock-sticky-banner","common/modules/experiments/tests/rugby"],function(e,t,n,r,i,o,a,s,l,u,c,f,h){function p(){return o.local.get(B)||{}}function d(e){var t=p();return t[e.id]}function m(e,t){var n=p();n[e.id]={variant:t},o.local.set(B,n)}function g(e){var t=p();delete t[e.id],o.local.set(B,t)}function v(){var e=p();t.forEach(t.keys(e),function(e){if("undefined"==typeof n.switches["ab"+e])g({id:e});else{var r=t.some(A,function(t){return t.id===e});r||g({id:e})}})}function y(){return t.filter(A,function(e){var t=new Date-new Date(e.expiry)>0;return t?(g(e),!1):!0})}function b(){return t.filter(A,function(e){return new Date-new Date(e.expiry)>0})}function w(e){var t=new Date-new Date(e.expiry)>0,r=n.page.shouldHideAdverts;return(r?e.showForSensitive:!0)&&e.canRun()&&!t&&z(e)}function x(e){var n=t.filter(A,function(t){return t.id===e});return n?n[0]:""}function k(){var e,i=p(),o=[];return t.forEach(t.keys(i),function(e){w(x(e))&&o.push(["AB",e,i[e].variant].join(" | "))}),t.forEach(t.keys(n.tests),function(e){e.toLowerCase().match(/^cm/)&&o.push(["AB",e,"variant"].join(" | "))}),n.tests.internationalEditionVariant&&(o.push(["AB","InternationalEditionTest",n.tests.internationalEditionVariant].join(" | ")),e=r.get("GU_EDITION"),e&&o.push(["AB","InternationalEditionPreference",e].join(" | "))),t.forEach(E(),function(e){o.push("AB | "+e+" | inTest")}),o.join(",")}function _(e){if(d(e)&&w(e)){var t=p(),n=t[e.id].variant,r=T(e,n);r?r.test():"notintest"===n&&e.notInTest&&e.notInTest()}}function M(e){if(w(e)&&!d(e)){var n,r,i=a.getMvtNumValues()*e.audienceOffset,o=i+a.getMvtNumValues()*e.audience,s=a.getMvtValue();s>=i&&o>s?(n=t.map(e.variants,function(e){return e.id}),r=s%n.length,m(e,n[r])):m(e,"notintest")}}function z(e){return n.switches["ab"+e.id]}function C(e){var t=p()[e];return t&&t.variant}function S(e,t){var n=p();n[e]&&(n[e].variant=t,o.local.set(B,n))}function D(e,t){var n=x(e);return n&&d(n)&&j.getTestVariantId(e)===t&&w(n)}function T(e,n){return t.find(e.variants,function(e){return e.id===n})}function E(){return t(n.tests).omit("internationalEditionVariant").pick(function(e){return!!e}).keys().value()}var A=t.flatten([new s,new l,new u,new c,new f,new h]),B="gu.ab.participations",j={addTest:function(e){A.push(e)},clearTests:function(){A=[]},segment:function(){t.forEach(y(),function(e){M(e)})},forceSegment:function(e,n){t(y()).filter(function(t){return t.id===e}).forEach(function(e){m(e,n)}).valueOf()},segmentUser:function(){var e,n=/^#ab/.test(window.location.hash);n?(e=window.location.hash.replace("#ab-","").split(","),t.forEach(e,function(e){var t,n,r;t=e.split("="),n=t[0],r=t[1],j.forceSegment(n,r)})):j.segment(),v()},run:function(){t.forEach(y(),function(e){_(e)})},isEventApplicableToAnActiveTest:function(e){var n=t.keys(p());return t.some(n,function(n){var r=x(n).events;return t.some(r,function(t){return 0===e.indexOf(t)})})},getActiveTestsEventIsApplicableTo:function(e){function n(e,t){return 0===e.indexOf(t)}var r=e.tag;return r&&t(y()).filter(function(e){var i=e.events;return i&&t.some(i,function(e){return n(r,e)})}).map(function(e){return e.id}).valueOf()},getAbLoggableObject:function(){var n={};try{t.forEach(y(),function(e){if(d(e)&&w(e)){var t=C(e.id);t&&"notintest"!==t&&(n["ab"+e.id]=t)}}),t.forEach(E(),function(e){n["ab"+e]="inTest"})}catch(r){n={},e(r,!1)}return n},getParticipations:p,isParticipating:d,getTest:x,makeOmnitureTag:k,getExpiredTests:b,getActiveTests:y,getTestVariantId:C,setTestVariant:S,getVariant:T,testCanBeRun:function(e){return"string"==typeof e?w(t.find(A,function(t){return t.id===e})):e.id&&e.expiry&&w(e)},shouldRunTest:D,reset:function(){A=[]}};return j}),define("common/modules/commercial/build-page-targeting",["common/utils/_","common/utils/config","common/utils/cookies","common/utils/detect","common/utils/storage","common/modules/commercial/third-party-tags/audience-science-pql","common/modules/commercial/third-party-tags/krux","common/modules/identity/api","common/modules/commercial/user-ad-targeting","common/modules/experiments/ab"],function(e,t,n,r,i,o,a,s,l,u){var c=function(e){return e.replace(/[+\s]+/g,"-").toLowerCase()},f=function(e){return e?c(e).replace(/&/g,"and").replace(/'/g,""):null},h=function(e){if(e.seriesId)return p(e.seriesId);var t=/\/series\/(.+)$/.exec(e.pageId);return null===t?"":t[1]},p=function(e){return e?t.switches.ukNewsTarget&&"uk/uk"===e?e:c(e.split("/").pop()):null},d=function(t){return t?e.compact(e.map(t.split(","),function(e){return p(e)})):null},m=function(){var n=[],r=u.getParticipations();return e.forIn(r,function(e,t){e.variant&&"notintest"!==e.variant&&n.push(t+"-"+e.variant.substring(0,1))}),e.forIn(e.keys(t.tests),function(e){e.toLowerCase().match(/^cm/)&&n.push(e)}),n},g=function(){if(n.get("adtest")){var e=n.get("adtest"),t=e.substring(0,4);return"demo"===t&&n.remove("adtest"),e}},v=function(){var e,t=i.local.get("alreadyVisited")||0;return e=t>4?"5plus":t.toString()};return function(n){var i=(n||{}).window||window,u=t.page,c=f(u.contentType),y=e.merge({url:i.location.pathname,edition:u.edition&&u.edition.toLowerCase(),se:h(u),ct:c,p:"ng",k:u.keywordIds?d(u.keywordIds):p(u.pageId),x:a.getSegments(),su:u.isSurging,pv:t.ophan.pageViewId,bp:r.getBreakpoint(),at:g(),si:s.isUserLoggedIn()?"t":"f",gdncrm:l.getUserSegments(),ab:m(),co:d(u.authorIds),bl:d(u.blogIds),ms:f(u.source),fr:v(),tn:e.uniq(e.compact([u.sponsorshipType].concat(d(u.tones)))),vl:"Video"===u.contentType?(30*Math.ceil(u.videoDuration/30)).toString():void 0},o.getSegments());return e.pick(y,function(t){return e.isArray(t)?t.length>0:t})}}),define("common/modules/commercial/dfp-ophan-tracking",["raven","common/utils/detect"],function(e,t){function n(n){function r(){if(n.debug_log&&n.debug_log.log){var e=n.debug_log.log,t={3:"fetch",4:"receive",6:"render"};n.debug_log.log=function(n,r,i,a){var s,l,u=r.getMessageId();return u&&a&&(s=a.getSlotId().getDomId(),o[s]=o[s]||{},l=t[u],o[s][l]=(new Date).getTime()),e.apply(this,arguments)}}}function i(){function r(e,t){return e&&t?t-e:void 0}n.pubads().addEventListener("slotRenderEnded",e.wrap(function(e){require(["ophan/ng"],function(n){function i(e){return e.isEmpty?"__empty__":e.lineItemId}var a=t.getTimeOfDomComplete(),s=e.slot.getSlotId().getDomId(),l=o[s]||{};
n.record({ads:[{slot:e.slot.getSlotId().getDomId(),campaignId:i(e),creativeId:e.creativeId,timeToRenderEnded:(new Date).getTime()-a,timeToAdRequest:r(a,l.fetch),adRetrievalTime:r(l.fetch,l.receive),adRenderTime:r(l.receive,l.render),adServer:"DFP"}]})})}))}var o={};r(),i()}return{attachListeners:n}}),define("common/modules/onward/geo-most-popular",["Promise","qwery","common/utils/_","common/modules/component","common/utils/mediator"],function(e,t,n,r,i){function o(){i.emit("register:begin","geo-most-popular")}var a=new e(function(e,t){i.on("modules:onward:geo-most-popular:ready",e),i.on("modules:onward:geo-most-popular:error",t)});return r.define(o),o.prototype.endpoint="/most-read-geo.json",o.prototype.ready=function(){i.emit("register:end","geo-most-popular"),i.emit("modules:onward:geo-most-popular:ready",this)},o.prototype.error=function(e){i.emit("modules:onward:geo-most-popular:error",e)},{render:n.once(function(){return(new o).fetch(t(".js-components-container"),"rightHtml"),a}),whenRendered:a}}),define("common/modules/commercial/dfp",["bean","bonzo","fastdom","qwery","raven","common/utils/$","common/utils/$css","common/utils/_","common/utils/config","common/utils/detect","common/utils/mediator","common/utils/url","common/utils/user-timing","common/utils/sha1","common/modules/commercial/ads/sticky-mpu","common/modules/commercial/build-page-targeting","common/modules/commercial/dfp-ophan-tracking","common/modules/onward/geo-most-popular","common/modules/experiments/ab","common/modules/analytics/beacon","common/modules/identity/api"],function(bean,bonzo,fastdom,qwery,raven,$,$css,_,config,detect,mediator,urlUtils,userTiming,sha1,StickyMpu,buildPageTargeting,dfpOphanTracking,geoMostPopular,ab,beacon,id){var resizeTimeout,adSlotSelector=".js-ad-slot",displayed=!1,rendered=!1,slots={},slotsToRefresh=[],hasBreakpointChanged=detect.hasCrossedBreakpoint(!0),breakoutClasses=["breakout__html","breakout__script"],callbacks={"300,251":function(e,t){new StickyMpu(t).create()},"300,250":function(e,t){config.switches.viewability&&t.hasClass("ad-slot--right")&&t.attr("data-mobile").indexOf("300,251")>-1&&new StickyMpu(t,{top:58}).create()},"1,1":function(e,t){if(!e.slot.getOutOfPage()){t.addClass("u-h");var n=t.parent();n.hasClass("js-fc-slice-mpu-candidate")&&n.addClass("fc-slice__item--no-mpu")}},"300,1050":function(){geoMostPopular.whenRendered.then(function(e){fastdom.write(function(){bonzo(e.elem).remove()})})}},recordFirstAdRendered=_.once(function(){beacon.beaconCounts("ad-render")}),setListeners=function(){dfpOphanTracking.attachListeners(googletag),googletag.pubads().addEventListener("slotRenderEnded",raven.wrap(function(e){rendered=!0,recordFirstAdRendered(),mediator.emit("modules:commercial:dfp:rendered",e),parseAd(e)}))},setPageTargeting=function(){_.forOwn(buildPageTargeting(),function(e,t){googletag.pubads().setTargeting(t,e)})},isMobileBannerTest=function(){return config.switches.mobileTopBannerRemove&&$(".top-banner-ad-container--ab-mobile").length>0&&"mobile"===detect.getBreakpoint()},isSponsorshipContainerTest=function(){var e=["#dfp-ad--adbadge","#dfp-ad--spbadge","#dfp-ad--fobadge","#dfp-ad--adbadge1","#dfp-ad--spbadge1","#dfp-ad--fobadge1","#dfp-ad--adbadge2","#dfp-ad--spbadge2","#dfp-ad--fobadge2","#dfp-ad--adbadge3","#dfp-ad--spbadge3","#dfp-ad--fobadge3","#dfp-ad--adbadge4","#dfp-ad--spbadge4","#dfp-ad--fobadge4","#dfp-ad--adbadge5","#dfp-ad--spbadge5","#dfp-ad--fobadge5"],t=[];return _.forEach(e,function(e){$(e).length&&t.push(e)}),t},showSponsorshipPlaceholder=function(){var e=isSponsorshipContainerTest();detect.adblockInUse&&e.length&&fastdom.write(function(){_.forEach(e,function(e){var t=$(e),n=t.attr("class").replace("ad-slot ",""),r='<div class="'+n+'">'+t.html()+"</div>";t.previous().length?t.previous().append(r):t.parent().prepend(r)})})},defineSlots=function(){slots=_(qwery(adSlotSelector)).map(function(e){return bonzo(e)}).filter(function(e){return"none"===$css(e,"display")||isMobileBannerTest()&&e.hasClass("ad-slot--top")?(fastdom.write(function(){e.remove()}),!1):!0}).map(function(e){return[e.attr("id"),{isRendered:!1,slot:defineSlot(e)}]}).zipObject().valueOf()},setPublisherProvidedId=function(){var e=id.getUserFromCookie();if(e){var t=sha1.hash(e.id);googletag.pubads().setPublisherProvidedId(t)}},displayAds=function(){googletag.pubads().enableSingleRequest(),googletag.pubads().collapseEmptyDivs(),setPublisherProvidedId(),googletag.enableServices(),googletag.display(_.keys(slots).shift()),displayed=!0},displayLazyAds=function(){googletag.pubads().collapseEmptyDivs(),setPublisherProvidedId(),googletag.enableServices(),mediator.on("window:throttledScroll",lazyLoad),instantLoad(),lazyLoad()},windowResize=_.debounce(function(){hasBreakpointChanged(refresh)},resizeTimeout),postDisplay=function(){mediator.on("window:resize",windowResize)},init=function(e){var t=_.defaults(e||{},{resizeTimeout:2e3});return resizeTimeout=t.resizeTimeout,window.googletag||(window.googletag={cmd:[]},require(["js!googletag.js"])),window.googletag.cmd.push=raven.wrap({deep:!0},window.googletag.cmd.push),window.googletag.cmd.push(setListeners),window.googletag.cmd.push(setPageTargeting),window.googletag.cmd.push(defineSlots),config.switches.viewability&&!config.page.hasPageSkin?window.googletag.cmd.push(displayLazyAds):window.googletag.cmd.push(displayAds),window.googletag.cmd.push(postDisplay),showSponsorshipPlaceholder(),dfp},instantLoad=function(){_(slots).keys().forEach(function(e){_.contains(["dfp-ad--pageskin-inread","dfp-ad--merchandising-high"],e)&&loadSlot(e)})},lazyLoad=function(){if(0===slots.length)mediator.off("window:throttledScroll");else{var e=window.pageYOffset,t=bonzo.viewport().height,n=e+t,r=.5;_(slots).keys().forEach(function(i){n>document.getElementById(i).getBoundingClientRect().top+e-t*r&&loadSlot(i)})}},loadSlot=function(e){googletag.display(e),slots=_(slots).omit(e).value(),displayed=!0},addSlot=function(e){var t=e.attr("id"),n=function(e){slots[t]={isRendered:!1,slot:defineSlot(e)},googletag.display(t)};displayed&&!slots[t]&&(rendered?n(e):mediator.once("modules:commercial:dfp:rendered",function(){n(e)}))},refreshSlot=function(e){var t=slots[e.attr("id")].slot;t&&googletag.pubads().refresh([t])},getSlots=function(){return slots},defineSlot=function(e){var t=e.data("slot-target")||e.data("name"),n=urlUtils.getUrlVars()["ad-unit"],r=n?["/",config.page.dfpAccountId,"/",n].join(""):config.page.adUnit,i=e.attr("id"),o=defineSlotSizes(e),a=_.uniq(_.flatten(o,!0,function(e){return e[1]}),function(e){return e[0]+"-"+e[1]}),s=(e.data("out-of-page")?googletag.defineOutOfPageSlot(r,i):googletag.defineSlot(r,a,i)).addService(googletag.pubads()).defineSizeMapping(o).setTargeting("slot",t);return e.data("series")&&s.setTargeting("se",parseKeywords(e.data("series"))),e.data("keywords")&&s.setTargeting("k",parseKeywords(e.data("keywords"))),e.data("refresh")!==!1&&slotsToRefresh.push({$adSlot:e,slot:s}),s},parseAd=function(e){var t,n,r,i=e.slot.getSlotId().getDomId(),o=$("#"+i);allAdsRendered(i),e.isEmpty?removeLabel(o):(n=$(".ad-slot__content--placeholder",o),r=$("#"+i+" div"),fastdom.write(function(){n.remove(),r.addClass("ad-slot__content")}),checkForBreakout(o),addLabel(o),t=e.size.join(","),callbacks[t]&&callbacks[t](e,o),o.hasClass("ad-slot--container-inline")&&o.hasClass("ad-slot--not-mobile")?fastdom.write(function(){o.parent().css("display","flex")}):o.hasClass("ad-slot--top-above-nav")&&"1,1"===t||fastdom.write(function(){o.parent().css("display","block")}),(o.hasClass("ad-slot--top-banner-ad")&&"88,70"===t||o.hasClass("ad-slot--commercial-component")&&"88,88"===t)&&fastdom.write(function(){o.addClass("ad-slot__fluid250")}))},allAdsRendered=function(e){slots[e]&&!slots[e].isRendered&&(slots[e].isRendered=!0),_.every(slots,"isRendered")&&(userTiming.mark("All ads are rendered"),mediator.emit("modules:commercial:dfp:alladsrendered"))},addLabel=function(e){fastdom.write(function(){shouldRenderLabel(e)&&e.prepend('<div class="ad-slot__label" data-test-id="ad-slot-label">Advertisement</div>')})},removeLabel=function(e){fastdom.write(function(){$(".ad-slot__label",e).remove()})},shouldRenderLabel=function(e){return e.data("label")!==!1&&0===qwery(".ad-slot__label",e[0]).length},breakoutIFrame=function(iFrame,$slot){var shouldRemoveIFrame=!1,$iFrame=bonzo(iFrame),iFrameBody=iFrame.contentDocument.body,$iFrameParent=$iFrame.parent();iFrameBody&&_.forEach(breakoutClasses,function(breakoutClass){$("."+breakoutClass,iFrameBody).each(function(breakoutEl){var creativeConfig,$breakoutEl=bonzo(breakoutEl),breakoutContent=$breakoutEl.html();"breakout__script"===breakoutClass?"application/json"===$breakoutEl.attr("type")?(creativeConfig=JSON.parse(breakoutContent),require(["bootstraps/creatives"],function(){require(["common/modules/commercial/creatives/"+creativeConfig.name],function(e){new e($slot,creativeConfig.params,creativeConfig.opts).create()})})):eval(breakoutContent):(fastdom.write(function(){$iFrameParent.append(breakoutContent),$breakoutEl.remove()}),$(".ad--responsive",$iFrameParent[0]).each(function(e){window.setTimeout(function(){fastdom.write(function(){bonzo(e).addClass("ad--responsive--open")})},50)})),shouldRemoveIFrame=!0})}),shouldRemoveIFrame&&fastdom.write(function(){$iFrame.hide()})},checkForBreakout=function(e){$("iframe",e).each(function(t){t.readyState&&"complete"!==t.readyState?bean.on(t,"readystatechange",function(t){var n=t.srcElement;n&&"unknown"!=typeof n.readyState&&"complete"===n.readyState&&(breakoutIFrame(n,e),bean.off(n,"readystatechange"))}):breakoutIFrame(t,e)})},breakpointNameToAttribute=function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},getSlotsBreakpoint=function(e,t){return _(detect.breakpoints).initial(function(t){return t.name!==e}).intersection(t).last()},shouldSlotRefresh=function(e,t,n){var r=_(detect.breakpoints).filter(function(t){return e.$adSlot.data(breakpointNameToAttribute(t.name))}).valueOf(),i=getSlotsBreakpoint(t,r);return i&&getSlotsBreakpoint(n,r)!==i},refresh=function(e,t){googletag.pubads().refresh(_(slotsToRefresh).filter(function(n){return shouldSlotRefresh(n,e,t)}).map(function(e){return e.slot}).valueOf())},createSizeMapping=function(e){return _.map(e.split("|"),function(e){return _.map(e.split(","),Number)})},defineSlotSizes=function(e){var t=googletag.sizeMapping();return _.forEach(detect.breakpoints,function(n){var r=e.data(breakpointNameToAttribute(n.name));r&&t.addSize([n.width,0],createSizeMapping(r))}),t.build()},parseKeywords=function(e){return _.map((e||"").split(","),function(e){return e.split("/").pop()})},dfp={init:init,addSlot:addSlot,refreshSlot:refreshSlot,getSlots:getSlots,reset:function(){displayed=!1,rendered=!1,slots={},slotsToRefresh=[],mediator.off("window:resize",windowResize),hasBreakpointChanged=detect.hasCrossedBreakpoint(!0)}};return dfp}),define("text!common/views/commercial/badge.html",[],function(){return'<div class="ad-slot--paid-for-badge__inner ad-slot__content--placeholder">\n    <h3 class="ad-slot--paid-for-badge__header"><%=header%></h3>\n    <p class="ad-slot--paid-for-badge__header"><%=sponsor%></p>\n</div>\n'}),define("common/modules/commercial/badges",["bonzo","fastdom","qwery","Promise","common/utils/_","common/utils/$","common/utils/config","common/utils/template","common/modules/commercial/create-ad-slot","common/modules/commercial/dfp","text!common/views/commercial/badge.html"],function(e,t,n,r,i,o,a,s,l,u,c){var f={sponsoredfeatures:{count:0,header:"Sponsored by:",namePrefix:"sp"},"advertisement-features":{count:0,header:"Brought to you by:",namePrefix:"ad"},"foundation-features":{count:0,header:"Supported by:",namePrefix:"fo"}},h=function(e,t,n){n&&e.append(s(c,{header:t,sponsor:n}))},p=function(n,i,a){var s=f[i],u=s.namePrefix+"badge",c=u+ ++s.count,p=e(l(c,["paid-for-badge","paid-for-badge--front"],a.series,a.keywords,u));return h(p,s.header,a.sponsor),new r(function(e){t.write(function(){o(".js-container__header",n).after(p),e(p)})})},d=function(){var t,s;return a.switches.sponsored?(t=r.all(i.map(o(".js-sponsored-front"),function(t){var r=e(t);return p(n(".fc-container",t)[0],r.data("sponsorship"),{sponsor:r.data("sponsor")})})),s=t.then(function(){return r.all(i.map(o(".js-sponsored-container"),function(t){if(0===n(".ad-slot--paid-for-badge",t).length){var r=e(t);return p(t,r.data("sponsorship"),{sponsor:r.data("sponsor"),series:r.data("series"),keywords:r.data("keywords")})}}))})):!1},m={init:d,add:function(t){var r=e(t);return r.hasClass("js-sponsored-container")&&0===n(".ad-slot--paid-for-badge",t).length?p(t,r.data("sponsorship"),{sponsor:r.data("sponsor"),series:r.data("series"),keywords:r.data("keywords")}).then(function(e){u.addSlot(e)}):void 0},reset:function(){for(var e in f)f[e].count=0}};return m}),define("common/modules/lazyload",["common/utils/_","common/utils/ajax","bonzo"],function(e,t,n){var r=function(r){var i,o={success:function(){},error:function(){},always:function(){},beforeInsert:function(e){return e},force:!1},a=e.assign(o,r||{});this.load=function(){return a.url&&a.container&&(i=n(a.container),a.force||!i.hasClass("lazyloaded"))?t({url:a.url,type:"json",crossOrigin:!0}).then(function(e){i.html(a.beforeInsert(e.html)),i.addClass("lazyloaded"),a.success(e)},function(e){a.error(e)}).always(function(e){a.always(e)}):void 0}};return r}),define("common/modules/ui/images",["bonzo","picturefill","common/utils/$","common/utils/$css","common/utils/mediator"],function(e,t,n,r,i){var o={upgradePictures:function(){var e=[].slice.call(n("img[srcset]",document.body));t({elements:e})},listen:function(){i.addListeners({"ui:images:upgradePictures":function(){o.upgradePictures()},"ui:images:lazyLoaded":function(e){t({elements:[e]})}})}};return o}),define("common/modules/ui/tabs",["common/utils/$","bean","bonzo"],function(e,t,n){var r=function(){var r={showTab:function(t,r,i){var o="tabs__tab--selected tone-colour tone-accent-border",a=e(".tabs__tab--selected a",t)[0],s=t.querySelector("#"+r.getAttribute("href").substring(1)),l=t.querySelector("#"+a.getAttribute("href").substring(1));n(a.parentNode).removeClass(o),n(r.parentNode).addClass(o),n(a.parentNode).attr("aria-selected",!1),n(r.parentNode).attr("aria-selected",!0),n(l).hide(),n(s).removeClass("modern-hidden").show().focus(),i.preventDefault()}};this.init=function(){Array.prototype.forEach.call(document.body.querySelectorAll(".tabs"),function(i){var o=e(".js-tabs",i)[0],a=0,s=0;if(o){if(o.getAttribute("data-is-bound")===!0)return!1;a=n(o).offset().top,t.add(o,"click",function(e){var t=e.target;"a"===t.nodeName.toLowerCase()&&(r.showTab(i,t,e),s>a&&window.scrollTo(0,a))}),o.setAttribute("data-is-bound",!0)}})}};return r}),define("common/modules/ui/rhc",["common/utils/$","bonzo","common/utils/_"],function(e,t,n){function r(r,o){o=o||1;var a,s="component--rhc";return e.create('<div class="'+s+'" data-importance="'+o+'"></div>').append(r).each(function(r){a=e("."+s,i[0]);var l=n.filter(a,function(e){return!e.hasAttribute("data-importance")||o>parseInt(e.getAttribute("data-importance"),10)});0===l.length?i.append(r):t(l[0]).before(r)})}var i=e(".js-components-container");return{addComponent:r}}),define("core",["raven","picturefill","common/utils/_","common/utils/$","common/utils/ajax","common/utils/config","common/utils/cookies","common/utils/detect","common/utils/mediator","common/utils/robust","common/utils/storage","common/utils/template","common/utils/url","common/utils/fastdom-errors","common/modules/analytics/beacon","common/modules/article/spacefinder","common/modules/commercial/badges","common/modules/commercial/create-ad-slot","common/modules/commercial/build-page-targeting","common/modules/commercial/user-ad-targeting","common/modules/component","common/modules/experiments/ab","common/modules/lazyload","common/modules/ui/images","common/modules/ui/tabs","common/modules/ui/rhc","common/modules/user-prefs","common/views/svgs"],function(){});
//# sourceMappingURL=core.js.map